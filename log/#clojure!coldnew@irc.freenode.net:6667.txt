
[Wed Aug 22 2012]
*** Topic for #clojure: Clojure, the Language. Docs: http://clojure.org
    Discussion: http://groups.google.com/group/clojure  [15:41]
*** #clojure: topic set by chouser, 08:57:02 2011/07/21
*** Users on #clojure: coldnew zuzkins zamaterian gmci agumonkey rleblic tsdh
    nz- oskarth Eldariof59-ru Fossi dan64 DuoSRX ur5us dhkl thorwil dragansah
    m0smith gko clgv mishok13 mrSpec steffi_s mduerksen danvet und3f zproc
    flijten mytrile xumingmingv hoeck hallski djcoin jeekl MenTaLguY dajac
    ilteris_ firesofmay jasonjckn serpent213 gfrederi` tomoj Xorlev kushal
    ananthakumaran inkybutton Licenser chronno timoxley blrandel telex kcin
    simcop2387 warpy greenmang0 tmarble robink
*** Users on #clojure: michaelr` lambda-stu harja grizlo42 ivan ivan` mabes
    fivebats rberger technomancy arohner subversus Kvaks wastrel Blackavar
    bradfordw mudphone cmiles74 hive-mind fbru02_ shoky dracman nighty^ cemerick
    chessguy Frozenlo` TakeV vsayer PuercoPop420 potix2 kendru carlosgaldino
    gsav prip JulioBarros akira989 dansalmo thoughtmanifest babilen metadaddy
    tlockney jml__ bhalbert xeqi ejackson mefesto jballanc wmealing_ OlegYch|h
    Bahman nicholasf proq ericthorsen
*** Users on #clojure: bendlas`` splunk reiddraper ahihi2 SegFaultAX|work2
    emezeske tdowg1 JStoker ChiralSym xclite _fogus_ joegallo_ frio Sgeo
    S11001001 edw anekos Frozenlock thomas` Peregrine mrBliss TimMc SegFaultAX
    abstractj|away djanatyn banseljaj mark__ brunchpoems tomku jrydberg_ rdd
    strax katox rlb` Natch ktsuji kleppari fmeyer cgag duck1123 kau_ jkkramer
    adiii ToxicFrog whamied jtoy mmullis bruges_ dhm hxiao nathanic gerard0
    @ChanServ metajack brandonz lynaghk kephale
*** Users on #clojure: unlink pmbauer rcj_ necronian joly lazybot miloshadzic
    jsabeaudry beawesomeinstead jcrossley3-away cshell james_be grim_radical
    bryanl rahcola gekko_ madsy Bundeskanzlerin rtj quackv4 davidd` mjs2600
    Fayerabend hyPiRion sbot_ Ragnor jmcphers gowlin dubz eno arkx katratxo
    arubin ipostelnik pzol raek albin chouser_log russfrank jjttjj magnars
    janelwang l1x 16SABU6SB eevar cmelbye lcn cacodaemon n00b6502 benoyst
    TEttinger2 ssideris geoffh sattvik omni5cience
*** Users on #clojure: Iceland_back FDFlock BeLucid replaca_ jeremyheiler
    davidboy Spaceghostc2c incandenza mccraig srid lopex franckverrot
    andrewclegg denysonique cldwalker hemulen tfnico notbrent SeanTAllen
    karnowski sorenmacbeth mrb_bk Crowb4r Scorchin jave_ arbscht munro
    wookiehangover ivan\ threedaymonk scottj LoganLK tokiya Gonzih Shambles_
    XPherior pyrtsa aperiodic srcerer Ernestas tos9 lagging_troll tauntaun
    WuTangTan dsantiago cmbntr jszakmei` cainus reeses
*** Users on #clojure: christianberg twem2 llasram jaroslaw Iceland_jack
    bradwright alek_b jml Cr8 webben broquaint redinger Yamazaki-kun antifuchs
    wink algernon ameoba herder kraft bweaver c0rn erewhon alexey bsb muhoo
    aniero rattboi jedi Chousuke _ulises 77CABDC48 kleini\_ lstoll jetlag kanru_
    mjr84 danlarkin cataska acheng vojd yacin ozzloy krig__ steveo nuba ryland_
    zakwilson fasta_ aking benjaminws _janne SHODAN vandemar joneaves hexreel
    hugod dakrone TristamWrk yazirian
*** Users on #clojure: leathekd drewr mjhan_ saurik shadower altivec benedikt
    Blazeix terom mikem cola_zero_ hyko rafl jarpiain nullman noidi bruceadams
    eml zaiste silven hc musicalchair qmx|away LeNsTR|off Leonidas eggsby
    boyscared rlr pisketti_ ahkurtz AWizzArd davidykay jlewis freiksenet mk _ato
    Derander nDuff EToS antono jli mtd dryman xmux_ tcrawley _nmmn hiredman gf3
    Harbinger Guest7858 Raynes magopian felipe` rotty stain duncanm clojurebot
    kral|off metellus matthavener
*** Users on #clojure: ptrlv ssedano scode kevincolyar ddima_ nlogax mrowe rcs
    BigEndia1 mknoszlig ninjudd xian lancepantz gravity tvachon sjl pepijn_away
    cheezey lotia aka maio mtkoan cky _tca oc_ zerokarmaleft fmu rippy
    nuclearsandwich CodeBlock kategeek seanm nickmbailey devn amro wkelly
    beepboop hyperboreean epitron acagle acagle_ brainproxy the-kenny
    rfgpfeiffer Orva dnm_ fhd_ septomin pyykkis _zach|away evhan solussd aravind
    rowth augustl shajith_ mefisto` austinh rbranson
*** Users on #clojure: strmpnk demolithion tetrad_ ggreg zaargy TheBusby
    scgilardi ibdknox groot brixen amalloy yason DerGuteMoritz TheMoonMaster
    zaphar_ps geoffeg thheller_ lucian kij pjstadig kyl jasox rkz bobo_ wyan
    icylisper_
*** #clojure modes: +cnt  [15:42]
*** #clojure was created on Wednesday 2007/12/12 06:04:26 AM
<joneaves> hey all - quick question about strings - i seem to be missing
	   something fundamental  [15:55]
<joneaves> (str "\\")  [15:56]
<joneaves> expected return?
<tomoj> &(str "\\")
<lazybot> ⇒ "\\"
<joneaves> then how do i get a single backslash?
<tomoj> &(println (str "\\"))
<lazybot> ⇒ \ nil

[Wed Aug 22 2012]
*** Topic for #clojure: Clojure, the Language. Docs: http://clojure.org
    Discussion: http://groups.google.com/group/clojure  [15:58]
*** #clojure: topic set by chouser, 08:57:02 2011/07/21
*** Users on #clojure: coldnew imeredith nicholasf naeg zamaterian akhudek
    zuzkins gmci agumonkey rleblic tsdh nz- Eldariof59-ru Fossi dan64 ur5us dhkl
    thorwil dragansah m0smith gko clgv mishok13 mrSpec mduerksen danvet und3f
    zproc flijten mytrile xumingmingv hoeck hallski djcoin jeekl MenTaLguY dajac
    ilteris_ firesofmay serpent213 gfrederi` tomoj Xorlev kushal ananthakumaran
    inkybutton Licenser chronno timoxley blrandel telex kcin simcop2387 warpy
    greenmang0 tmarble robink
*** Users on #clojure: michaelr` harja grizlo42 ivan ivan` mabes fivebats
    rberger technomancy arohner subversus Kvaks wastrel Blackavar bradfordw
    mudphone cmiles74 hive-mind fbru02_ shoky dracman nighty^ chessguy Frozenlo`
    TakeV vsayer PuercoPop420 potix2 kendru carlosgaldino gsav prip JulioBarros
    akira989 dansalmo thoughtmanifest babilen metadaddy tlockney jml__ bhalbert
    xeqi ejackson mefesto jballanc wmealing_ OlegYch|h Bahman proq ericthorsen
    bendlas`` splunk reiddraper
*** Users on #clojure: ahihi2 SegFaultAX|work2 emezeske tdowg1 JStoker ChiralSym
    xclite _fogus_ joegallo_ frio Sgeo S11001001 edw anekos Frozenlock thomas`
    Peregrine mrBliss TimMc SegFaultAX abstractj|away djanatyn banseljaj mark__
    brunchpoems tomku jrydberg_ rdd strax katox rlb` Natch ktsuji kleppari
    fmeyer cgag duck1123 kau_ jkkramer adiii ToxicFrog whamied jtoy mmullis
    bruges_ dhm hxiao nathanic gerard0 @ChanServ metajack brandonz lynaghk
    kephale unlink pmbauer rcj_ necronian
*** Users on #clojure: joly lazybot miloshadzic jsabeaudry beawesomeinstead
    jcrossley3-away cshell james_be grim_radical bryanl rahcola gekko_ madsy
    Bundeskanzlerin rtj quackv4 davidd` mjs2600 Fayerabend hyPiRion sbot_ Ragnor
    jmcphers gowlin dubz eno arkx katratxo arubin ipostelnik pzol raek albin
    chouser_log russfrank jjttjj magnars janelwang l1x 16SABU6SB eevar cmelbye
    lcn cacodaemon n00b6502 benoyst TEttinger2 ssideris geoffh sattvik
    omni5cience Iceland_back FDFlock BeLucid
*** Users on #clojure: replaca_ jeremyheiler davidboy Spaceghostc2c incandenza
    mccraig srid lopex franckverrot andrewclegg denysonique cldwalker hemulen
    tfnico notbrent SeanTAllen karnowski sorenmacbeth mrb_bk Crowb4r Scorchin
    jave_ arbscht munro wookiehangover ivan\ threedaymonk scottj LoganLK tokiya
    Gonzih Shambles_ XPherior pyrtsa aperiodic srcerer Ernestas tos9
    lagging_troll tauntaun WuTangTan dsantiago cmbntr jszakmei` cainus reeses
    christianberg twem2 llasram jaroslaw
*** Users on #clojure: Iceland_jack bradwright alek_b jml Cr8 webben broquaint
    redinger Yamazaki-kun antifuchs wink algernon ameoba herder kraft bweaver
    c0rn erewhon alexey bsb muhoo aniero rattboi jedi Chousuke _ulises 77CABDC48
    kleini\_ lstoll jetlag kanru_ mjr84 danlarkin cataska acheng vojd yacin
    ozzloy krig__ steveo nuba ryland_ zakwilson fasta_ aking benjaminws _janne
    SHODAN vandemar joneaves hexreel hugod dakrone TristamWrk yazirian leathekd
    drewr mjhan_ saurik shadower
*** Users on #clojure: altivec benedikt Blazeix terom mikem cola_zero_ hyko rafl
    jarpiain nullman noidi bruceadams eml zaiste silven hc musicalchair qmx|away
    LeNsTR|off Leonidas eggsby boyscared rlr pisketti_ ahkurtz AWizzArd
    davidykay jlewis freiksenet mk _ato Derander nDuff EToS antono jli mtd
    dryman xmux_ tcrawley _nmmn hiredman gf3 Harbinger Guest7858 Raynes magopian
    felipe` rotty stain duncanm clojurebot kral|off metellus matthavener ptrlv
    ssedano scode kevincolyar ddima_
*** Users on #clojure: nlogax mrowe rcs BigEndia1 mknoszlig ninjudd xian
    lancepantz gravity tvachon sjl pepijn_away cheezey lotia aka maio mtkoan cky
    _tca oc_ zerokarmaleft fmu rippy nuclearsandwich CodeBlock kategeek seanm
    nickmbailey devn amro wkelly beepboop hyperboreean epitron acagle acagle_
    brainproxy the-kenny rfgpfeiffer Orva dnm_ fhd_ septomin pyykkis _zach|away
    evhan solussd aravind rowth augustl shajith_ mefisto` austinh rbranson
    strmpnk demolithion tetrad_ ggreg
*** Users on #clojure: zaargy TheBusby scgilardi ibdknox groot brixen amalloy
    yason DerGuteMoritz TheMoonMaster zaphar_ps geoffeg thheller_ lucian kij
    pjstadig kyl jasox rkz bobo_ wyan icylisper_
<joneaves> i'm pretty sure it's because my experience is (mostly) with Java -
	   and to get the string, you have to evaluate it via a print
									  [15:59]
<joneaves> and i'm examining this in the REPL
*** #clojure modes: +cnt
*** #clojure was created on Wednesday 2007/12/12 06:04:26 AM
<amalloy> yep
<joneaves> so - i really should compare it to a debugger - which of course would
	   have the \\
<joneaves> but.... that's not been my world - so hence my confusion
<joneaves> thank you all very much  [16:00]
<amalloy> yes, good insight in comparing it to the debugger
<clgv> joneaves: you can use `pr` instead of `print` - that way the excaping is
       printed as well ##(do (pr "\\") (print "\\"))  [16:01]
<lazybot> ⇒ "\\"\nil
<joneaves> thanks clgv, what i'm doing is creating a mapper.js string to pass to
	   a MongoDB which has a regexp in it - so i don't actually want to
	   print it, but to have it evaluated later  [16:02]
<joneaves> but the (println foo) is a great trick to force evaluation - these
	   are the little idiomatic things i need to keep learning
<clgv> joneaves: I meant for examining on the repl ;)
<joneaves> right  [16:03]
<amalloy> joneaves: yep, so long as you don't refer to it as forcing evaluation
	  it's a good way to get what you want
<joneaves> amalloy: can you give me a better expression to use - that's what it
	   seems like it's doing  [16:04]
<noidi> joneaves, it's not really about evaluation. the string can either be
	displayed using its readable representation (e.g. "foo\\bar\n") or with
	all special characters in place (e.g. foo\bar<newline>)
<amalloy> interpreting escapes? presenting a user-friendly string?
<noidi> the repl does the former
<joneaves> amalloy: interpreting escapes seems like the best phrase - cheers
<amalloy> but if you imagine the string-escape grammar to be a simple
	  programming language, then i suppose it's not unreasonable to call it
	  "forcing evaluation" - it's just not what is usually meant by the
	  phrase in a lisp, so everyone will be confused  [16:05]
<noidi> yeah  [16:06]
<joneaves> amalloy: i want to reduce confusion - hence the clarification - and
	   yes - it makes reasonable semantic sense to phrase it "my way" - but
	   i'd prefer to communicate clearly
<tomoj> if I want a reify that takes args like extend, am I doing it wrong?
									  [16:07]
<noidi> one more analogy: if you look at a text file in a hex editor, you'll get
	a different view of it than if you printed it using `cat` or `type`, but
	they both still represent the exact same contents  [16:08]
<amalloy> tomoj: not necessarily, i think, but you can't have it
<noidi> what the repl shows you (or any function calling pr) is a bit like the
	hex version of the text file, it doesn't really look like it does when
	printed out, but it gives you a more precise view of the contents
									  [16:09]
<tomoj> amalloy: because of jvm impl specifics?
<joneaves> noidi: yeah - i'm pretty familiar with the way things are
	   encoded/stored etc - what i lacked was both the language to ask the
	   question, and the idioms to understand how to verify my work in lisps
<joneaves> the "REPL is the debugger" helps me quite a bit  [16:10]
<amalloy> mmmm, no, it should be technically feasible in the same way that it
	  works for deftypes
<Cr8> more so that things the repl prints out, you could reasonably copy-paste
      back in and get the same data again
<amalloy> but for deftypes extend gives you core features you can't get
	  otherwise (your functions can be lexical closures), whereas for reify
	  you can close over whatever you want already
<amalloy> plus, because you need to close over things in a reify, passing it
	  extend-like args usually wouldn't be very helpful  [16:11]
<tomoj> for shared impls you can just call a shared helper fn in the reify
									  [16:12]
<tomoj> that was the only reason I knew to use extend  [16:13]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR
<tomoj> well extend is still more flexible that way, ignoring lexical closures,
	but I probably don't need it anyway
*** kral|off (~marco@thediracsea.org) is now known as kral  [16:17]
<kral> hola
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [16:27]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [16:28]
*** amalloy (~amalloy@li231-96.members.linode.com) is now known as amalloy_
									  [16:31]
<tomoj> Sgeo: I think protocols are about more than just interop  [16:33]
<tomoj> I dunno  [16:34]
* Sgeo vaguely notes that Clojure-style multimethods are doable in CL
<tomoj> could you somehow bake defmulti/defmethod into the language and use them
	to define everything else?
<Sgeo> Although writing macros for such has hit a bit of a snag  [16:35]
<Sgeo> defmulti/defmethod is multiple-dispatch, which could be taken to be a
       more general case of protocol's single-dispatch
<tomoj> right  [16:36]
<tomoj> but..  [16:38]
<tomoj> take (defprotocol ISeq (-first [coll]) (-rest [coll]))  [16:39]
<tomoj> (defmethod ISeq-first (comp type first)) ?
<tomoj> er
<tomoj> (defmethod ISeq-first type) ?  [16:40]
<tomoj> hmm  [16:41]
<tomoj> I guess you'd just do (defmulti first type)  [16:42]
<tomoj> with a (defmethod first :default) that calls seq
<tomoj> you lose satisfies? ?  [16:44]
<tomoj> guess you could replace it, and modify reify/deftype?
<Raynes> Man serpent.  [16:52]
<Raynes> Oops, wrong channel.
<Raynes> Wow, I bet that sounded great out of context.
<ejackson> spectacular.  [16:53]
<ejackson> core.logic problem: figure out a context where that doesn't like
	   like.... well, like it sounds.  [16:54]
*** akhudek_ (~akhudek@CPE001839ed1199-CM00159a40cf8e.cpe.net.cable.rogers.com)
    is now known as akhudek  [17:05]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [17:47]
<clgv> I try to create an object of a class generated with (:gen-class ...) but
       get an InvocationTargetException with cause "nth not supported on
       ...". My constructor defn juest returns a map  [18:53]
<ro_st> antares_: is there a cheatsheet for validateur? or do i have to spelunk
	in the tests? :-)  [18:54]
<antares_> ro_st: docstrings  [18:55]
<antares_> and http://clojurevalidations.info  [18:56]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [18:57]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [19:02]
<ro_st> ah, do you not have a marginalia doc for it?  [19:06]
<antares_> ro_st: I can put codox reference up today  [19:07]
<ro_st> that'd be handy, i reckon  [19:08]
<ro_st> antares_: do you have plans to put codoxen up for all the clojurewerkz
	projects?  [19:11]
<antares_> ro_st: when all the guides are ready, probably
<antares_> most projects have docstrings but they hardly offer much value over
	   the guides
<antares_> but I understand their purpose
<ro_st> in val's case specifically i think it's valuable having a plain ole api
	ref available  [19:12]
<ro_st> great little library  [19:13]
<kilon> can anyone link me to the well known clojure poll ?  [19:16]
<michaelr`> try looking for "the clojure survey"  [19:17]
<kilon> the one that shows what people use and suck
<clgv> kilon: chas emericks survey?
<kilon> michaelr`: thank you very much mate
<kilon> clgv: yeap thats the one thanks
<kilon> I want to recommend such a survey for Pharo  [19:19]
<kilon> http://www.pharo-project.org/home
<kilon> because i find that survey real eye opener and very useful
<kilon>
	http://cemerick.com/2012/08/06/results-of-the-2012-state-of-clojure-survey/
<antares_> ro_st: http://reference.clojurevalidations.info  [19:36]
<ro_st> ah awesome!!  [19:37]
<ro_st> perfect :-)
<ro_st> thanks antares_
*** daniel_____ (~nonrecurs@c-igate2.mckinsey.com) is now known as nonrecursive
									  [20:00]
<ro_st> antares_: when presence-of gets a vector of symbols instead of a symbol,
	is that a way to combine multiple presence-of calls into one?
									  [20:01]
<antares_> ro_st: just use presence-of multiple times
<antares_> all it does is returning a function
<ro_st> what does the vector do, then?
<antares_> ro_st: nesting of attributes  [20:02]
<ro_st> ahhh
<ro_st> handy!
<antares_> [:address :street] will validate presence of (get-in m [:address
	   :street])
<ro_st> thanks  [20:03]
<ro_st> is it possible to nest validation sets?
<antares_> ro_st: no. I cannot think of how that would work.  [20:04]
<ro_st> cool
<antares_> a validation set is a list of functions + a fancy way of reducing
	   over the lsit, basically
<ro_st> is there a way to use length-of to check for a minimum but no maximum?
									  [20:05]
<ro_st> ie, > 0
<ro_st> ah. length of is strings. i thought it was for checking the count in a
	sequence  [20:08]
<antares_> ro_st: you can trivially write a function that will check for
	   sequence length, too  [20:12]
<ro_st> what about :at-least and :at-most variants for length-of?  [20:15]
<ro_st> just an idea :-) i'll make do with a fn of my own
<antares_> ro_st: there are gt, gte, lt, lte
<ro_st> ah so use numericality-of, somehow?  [20:16]
<ro_st> how would i tell it to use that on the (count (f m attribute)) ?
<antares_> ro_st: length-of works for strings only  [20:18]
<ro_st> rigt  [20:23]
<antares_> ro_st: I would consider collecting good validators in
	   validateur.seq/*, validateur.seq/length-of and so on  [20:24]
<antares_> and similar namespaces
<Sgeo> One of the criticisms I've seen of Lisp-1s is that they make unhygienic
       macros more problematic. Since Clojure is a Lisp-1 and uses CL-style
       macros, how well/poorly does that work out?  [20:26]
<_fogus_> Sgeo: In theory Clojure macros are unsafe, in practice they work
	  wonderfully  [20:27]
<Sgeo> ...Clojure uses the typical try/catch rather than a CL-style condition
       system, doesn't it?  [20:29]
<_fogus_> Yes  [20:32]
<Sgeo> :(  [20:34]
<_fogus_> Others have created condition-style systems as libraries however
									  [20:35]
<Sgeo> Hmm, but I can't expect libraries to use them
<Sgeo> Do those libraries intercept traditional Java/Clojure exceptions somehow?
									  [20:36]
<_fogus_> That's the nature of libraries
<Chousuke> Sgeo: Clojure solves most hygiene issues with a combination of two
	   features: 1) you can't create namespace-qualified local variables and
	   2) syntax-quote automatically namespace-qualifies all literal symbols
	   (and this can be circumvented if necessary)  [20:39]
*** abstractj|away (~abstractj@redhat/jboss/abstractj) is now known as abstractj
									  [20:40]
<Chousuke> so in practice it's very difficult to create hygiene issues with
	   clojure macros if you explicitly don't attempt it.
<osener> technomancy: I can't get nrepl-current-ns to return something other
	 than "user", is that normal?  [20:53]
*** pepijn_away (~pepijndev@ec2-23-21-19-58.compute-1.amazonaws.com) is now
    known as pepijndevos  [20:58]
<osener> nevermind, looks like it is dependent on the current buffer  [21:01]
<michaelr`> can i do an outer join in korma?  [21:06]
<michaelr`> hmpf  [21:12]
<michaelr`> can i?
<michaelr`> can i do an outer join in korma?
<ro_st> michaelr`:
	https://github.com/korma/Korma/blob/master/src/korma/core.clj#L217
									  [21:14]
<ro_st> the third example in that docstring gives you what you want i think
									  [21:15]
<michaelr`> haha  [21:16]
<michaelr`> thanks mate!
<michaelr`> this has to be in the docs
<ro_st> may the source be with you *waves hand*
<michaelr`> i actually searched the source for "outer"
<michaelr`> heh
<michaelr`> oops train is at the station gotta go  [21:17]
<cshell> wish I could take a (short) train to work  [21:19]
<ro_st> antares_: if you want it https://www.refheap.com/paste/4549  [21:20]
<S11001001> ,42  [21:25]
<clojurebot> 42
<duck11231> so 42 is also the question?  [21:26]
<naeg> I'm missing a term...is there a special term for a procedure like (map *
       [1 2] [3 4])? it's not the scalar/dot product
<igstan> naeg: zipWith usually, if I understand what you're asking  [21:29]
<naeg> igstan: I'm not sure. I mean a mathematical term that describes it. It
       may not even exist, I'm just unsure whether there is one  [21:30]
<S11001001> duck11231: in this case
<duck11231> I could see Deep Thought using logic programming. Like it said, the
	    hard part was asking the right question, after that, the answer came
	    easy  [21:32]
<cshell> matrix product?  [21:33]
*** _zach|away (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now
    known as _zach  [21:37]
<edlothiol> naeg: componentwise product (or just "product" in contexts where
	    it's unambiguous)  [21:38]
<naeg> matrix multiplication seems to be what I looked for
<samrat> how do I upgrade my nrepl package (its installed with
	 emacs-starter-kit, using defvar my-packages)?  [21:44]
<clgv> can I define new public methods with `proxy`?  [21:53]
*** abstractj (~abstractj@redhat/jboss/abstractj) is now known as abstractj|brb
									  [22:01]
<clgv> seems that I need an interface  [22:02]
<_fogus_> ,(doc definterface)  [22:03]
<clojurebot> "([name & sigs]); "
<_fogus_> Super helpful  [22:04]
*** qmx|away (~qmx@redhat/jboss/qmx) is now known as qmx  [22:05]
<clgv> _fogus_: what's better definterface + proxy or gen-class? I only want to
       implement an eventlistener that has an additional query method  [22:09]
<naeg> scriptor: piranha_: Gave up comparing clojure collections vs. python
       collections - could reproduce every example I could think of for the last
       3 hours in python almost 1:1 (beside some examples with hash tables)
<AWizzArd> This one was probably already linked a few times, but anyway:
	   http://sweaxis.org/stats/lang?src=hn10
*** piranha_ (~piranha@108-120-132-95.pool.ukrtel.net) is now known as piranha
<naeg> I'm focusing on comparing different implementations of conways game of
       life in clojure vs. python  [22:10]
<piranha> naeg: heh, interesting :-)
<_fogus_> I don't know.  But at least with definterface+proxy you can reuse the
	  interface if needed.
<clgv> gen-class requires aot. if I have definterface + proxy in the same
       namespace this should work without aot, right?
<scriptor> naeg: can you paste some examples?
<_fogus_> Ah yes!  That too
<naeg> http://pastebin.com/AEmg7JLM
<clgv> well. then definterface + proxy seems better for that little task  [22:11]
<naeg> I was able to boil down most of the examples similar to this one  [22:12]
<naeg> since python supports some FP you'll most likely find many ways to
       reproduce such simple examples  [22:13]
<naeg> but I don't think that's what most python programmers do
<scriptor> naeg: of course, but at the same time I don't think you see a lot of
	   type() calls in idiomatic python code
<naeg> indeed, I haven't actually seen this before at all
<scriptor> naeg: you should take some of the more challenging 4clojure problems
	   and try to do the same  [22:14]
<naeg> scriptor: I'm currently reading that paragraph about conways game of life
       - i'll try to compare some implementations of this algorithm  [22:15]
<naeg> (Clojure Programming)
<naeg> the clojure solution in the book is very neat and general, can't wait to
       find out what python has to offer  [22:16]
<acheng> hello all. if your Mac is 32 bit and thus limited to Snow Leopard,
	 would you keep it that way or install a linux distro? assume machine
	 use includes clojure and other dev work. multimedia is not a high
	 priority. i can take my answer off the air with /msg if this is too off
	 topic :)
<naeg> I'd always prefer a linux distro  [22:17]
<S11001001> good way to start an os war in #clojure :)
<naeg> :D
* naeg ...keep...your...mouth...shut...  [22:18]
<wmealing_> acheng: are you more productive in OSX or Linux ?  [22:20]
<acheng> you can always /msg me :-P i have zero Mac experience and some Linux
	 experience. my priority is to continue to develop skills for future
	 jobs
*** pepijndevos (~pepijndev@ec2-23-21-19-58.compute-1.amazonaws.com) is now
    known as pepijn_away
<wmealing_> so linux it is
<acheng> found my 20" iMac on the curb.  [22:21]

[Wed Aug 22 2012]
*** Topic for #clojure: Clojure, the Language. Docs: http://clojure.org
    Discussion: http://groups.google.com/group/clojure  [23:56]
*** #clojure: topic set by chouser, 08:57:02 2011/07/21
*** Users on #clojure: coldnew mmitchell perdix vijaykiran ostens shawnlewis
    nullkaos jpeterka lozh rads pbostrom_ craigglennie alandipert happy4crazy
    niftymonkey dhkl worrelsik xhh jbarrios tims pppaul babilen_ Blackavar
    oskarth bja pyrhho langmartin treehug hcumberdale chewbranca jonhicks zodiak
    bowles choas xcv pablo__ akhudek mabes estebann gsav @rhickey e_svedang
    casion jballanc brudgers danielglauser rmarianski pendlepants trptcolin
    dysinger lambda-stu rbxbx dnolen pmenon
*** Users on #clojure: fbru02 iwillig cch1 R_Macy scriptor rabbler Luyt_
    tensorpudding samrat close-paren tmciver MayDaniel thoughtmanifest nighty-
    ttimvisher johnstorey zaiste skot1 jasonbray duck11231 bryancp mjs2600_
    thekilon sg|out chouser carlosgaldino Eldariof59-ru cemerick ozataman
    jimduey jao naeg Xorlev octagon jmolet konr_trab cmiles74 nonrecursive
    daviddavis piranha statonjr Bronsa ejackson igstan gko mattrepl fridim_
    kephale harja ssideris edlothiol fooblya_monad
*** Users on #clojure: gerard0 Cheiron willythewisp DuoSRX gekko_ simcop2387
    antares_ cgag kevincolyar eevar xian splunk lstoll matthavener BeLucid
    jdoig1 imeredith nicholasf rleblic nz- Fossi dan64 clgv mishok13 mduerksen
    danvet und3f mytrile djcoin jeekl MenTaLguY dajac ilteris_ serpent213
    gfrederi` tomoj Licenser chronno timoxley blrandel telex warpy tmarble
    robink grizlo42 ivan ivan` fivebats rberger technomancy subversus Kvaks
    wastrel bradfordw hive-mind shoky dracman
*** Users on #clojure: nighty^ TakeV vsayer PuercoPop420 kendru prip JulioBarros
    akira989 metadaddy tlockney bhalbert xeqi wmealing_ OlegYch|h Bahman proq
    ericthorsen bendlas`` reiddraper ahihi2 SegFaultAX|work2 tdowg1 JStoker
    ChiralSym xclite `fogus|eats joegallo_ frio Sgeo S11001001 edw anekos
    thomas` Peregrine mrBliss TimMc SegFaultAX abstractj|away imami|afk mark__
    brunchpoems tomku jrydberg_ rdd strax katox rlb` Natch ktsuji kleppari
    fmeyer duck1123 kau_ jkkramer adiii
*** Users on #clojure: ToxicFrog whamied jtoy mmullis bruges_ dhm hxiao nathanic
    @ChanServ metajack brandonz lynaghk unlink pmbauer rcj_ necronian joly
    lazybot miloshadzic jsabeaudry beawesomeinstead jcrossley3 cshell james_be
    grim_radical bryanl rahcola madsy qfr_und_von_Hein rtj quackv4 davidd`
    mjs2600 Fayerabend hyPiRion sbot_ Ragnor jmcphers gowlin dubz eno arkx
    katratxo arubin ipostelnik pzol raek albin chouser_log russfrank jjttjj
    magnars janelwang l1x cmelbye lcn
*** Users on #clojure: n00b6502 benoyst TEttinger2 geoffh sattvik omni5cience
    Iceland_back FDFlock replaca_ jeremyheiler davidboy Spaceghostc2c incandenza
    mccraig srid lopex franckverrot andrewclegg denysonique cldwalker hemulen
    tfnico notbrent SeanTAllen karnowski sorenmacbeth mrb_bk Crowb4r Scorchin
    jave_ arbscht munro wookiehangover ivan\ threedaymonk scottj LoganLK tokiya
    Gonzih Shambles_ XPherior pyrtsa aperiodic srcerer Ernestas tos9
    lagging_troll tauntaun WuTangTan
*** Users on #clojure: dsantiago cmbntr jszakmei` cainus reeses christianberg
    twem2 llasram jaroslaw Iceland_jack bradwright alek_b jml Cr8 webben
    broquaint redinger Yamazaki-kun antifuchs wink algernon ameoba herder kraft
    bweaver c0rn erewhon alexey bsb muhoo aniero rattboi jedi Chousuke _ulises
    kleini\_ jetlag kanru_ mjr84 danlarkin cataska acheng vojd yacin ozzloy
    krig__ steveo nuba ryland_ zakwilson fasta_ aking benjaminws _janne SHODAN
    vandemar joneaves hexreel hugod
*** Users on #clojure: dakrone TristamWrk yazirian leathekd drewr mjhan_ saurik
    shadower altivec benedikt Blazeix terom mikem cola_zero_ hyko rafl jarpiain
    nullman noidi bruceadams eml silven hc musicalchair qmx|away LeNsTR Leonidas
    eggsby beepboop wkelly amro devn nickmbailey seanm kategeek CodeBlock
    nuclearsandwich rippy fmu zerokarmaleft oc_ _tca cky mtkoan maio aka lotia
    cheezey pepijn_away sjl tvachon gravity lancepantz ninjudd mknoszlig
    BigEndia1 rcs mrowe nlogax ddima_
*** Users on #clojure: scode Raynes Guest7858 Harbinger gf3 hiredman _nmmn
    tcrawley xmux_ dryman mtd jli antono magopian felipe` rotty stain duncanm
    clojurebot kral metellus ptrlv ssedano hyperboreean epitron acagle acagle_
    brainproxy the-kenny rfgpfeiffer Orva dnm_ fhd_ septomin pyykkis _zach evhan
    solussd aravind rowth augustl shajith_ mefisto` austinh rbranson strmpnk
    demolithion tetrad_ ggreg zaargy TheBusby scgilardi ibdknox groot brixen
    amalloy_ yason DerGuteMoritz
*** Users on #clojure: TheMoonMaster zaphar_ps geoffeg thheller_ lucian kij
    pjstadig kyl jasox rkz bobo_ wyan icylisper_ EToS nDuff Derander _ato mk
    freiksenet jlewis davidykay AWizzArd ahkurtz pisketti_ rlr boyscared
*** #clojure modes: +cnt
*** #clojure was created on Wednesday 2007/12/12 06:04:26 AM
*** babilen_ (~babilen@unaffiliated/babilen) is now known as babilen  [23:57]

[Thu Aug 23 2012]
<jaley> hi! is there a way to implement a protocol for an array type? like [I,
	for example?  [00:00]
<chouser> awesome question!
<jaley> the reader doesn't like [I, clearly  [00:01]
<chouser> You might try it in quotes, I don't know the answer.
* nDuff knows it can be done, but doesn't know the cleanest approach
  syntax-wise.
<jaley> my goal is to create a version of sort that calls Arrays.sort() on an
	integer array, because it's 10x faster than Collections.sort(), by the
	way  [00:02]
<jaley> if I'm already in crazy-person territory with that, reign me in :)
<jsabeaudry> Well if type metadata is an indicator i specify that a variable is
	     an array of bytes using: ^bytes  [00:03]
<jaley> obligatory microbenchmark from a colleague:
	https://gist.github.com/73878a2fec73a6a3dbb4  [00:04]
*** danielglauser_ (~daniel@c-76-25-238-116.hsd1.co.comcast.net) is now known as
    danielglauser  [00:05]
<jsabeaudry> jaley, have you tried "ints"?
<jaley> jsabeaudry: on it now
<`fogus|eats> For multimethods dispatching on (class foo) you need to put
	      something like (Class/forName "[Ljava.lang.String;") in the method
	      definition  [00:06]
<jaley> no, ints is not a class
<jaley> relevance.engine.core> (class ints)
<jaley> clojure.core$ints
<`fogus|eats> Maybe this is something to explore
<dnolen> jaley: http://dosync.posterous.com/51626638  [00:07]
<dnolen> jaley: arrays are an open set so you have to do something dynamic. but
	 it works and it's fast.
<jaley> fogus|eats: that works  [00:08]
<ostens> I'm noobish to clojure, and I had a question regarding strategies for
	 function definition.
<jaley> dnolen: ok thanks
<jaley> ; (extend-type (Class/forName "[I") Sortable (sort [this] ... ))  [00:09]
<ostens> I'm interested in writing a music library (notation), and have been
	 writing functions for things like converting MIDI to frequency
<ejackson> ostens: I'm pretty sure you'll find all of that in Overtone...
									  [00:10]
<ejackson> fwiw
<edw> Anyone have advice for a poor sod stupid enough to type "(read)" into
      their Emacs *nrepl* buffer?  [00:11]
<ostens> thanks, ejackson, but I'm specifically interested in notation, similar
	 to PWGL (an algorithmic composition environment in common lisp)
<technomancy> edw: are you on 0.1.3? I think it might have been fixed.
<ostens> My question is this: for conversion functions like that, should I write
	 the function to handle single values and then just map it where
	 appropriate, or should I build it to deal with vectors?  [00:13]
<edw> technomancy: An nrepl-version fn might be handy. :P
<technomancy> edw: it shows when you connect
<edw> Yeah, 0.1.3
*** kral (~marco@thediracsea.org) is now known as kral|off
<technomancy> huh, ok... must be something else then
<edw> C-c C-b doesn't do the trick.  [00:14]
<ejackson> ostens: i'd go with the former, but thats IMHO.
<edw> Oh wait...
<technomancy> you could always try entering something in the *nrepl-server*
	      buffer
<edw> No, that's _available_, I have 0.1.2 _installed_.
<ostens> Just wondering what was idiomatic.  Thanks!
<jkkramer> with nrepl.el, can arg lists be shown in the echo area when editing
	   code in non-repl buffer?  [00:17]
<edw> Ah, much better, technomancy!
<technomancy> jkkramer: I think turning on eldoc-mode should do the trick
<jkkramer> technomancy: that gives me arg lists for emacs lisp functions  [00:18]
<edw> Interestingly, if an exception occurs while reading, and another READ is
      preformed, nrepl.el uses the existing (mini)buffer.
<technomancy> any windows users want to debug what's going on here?
	      https://github.com/technomancy/leiningen/issues/674  [00:23]
*** pepijn_away (~pepijndev@ec2-23-21-19-58.compute-1.amazonaws.com) is now
    known as pepijndevos
<jkkramer> technomancy: think the eldoc-mode thing this warrants creating an
	   nrepl.el issue or am I doing something wrong?  [00:24]
<technomancy> jkkramer: yeah, just confirmed it here. it used to work in an
	      earlier version  [00:25]
<technomancy> jkkramer: actually it looks like
	      nrepl-eldoc-enable-in-current-buffer does it  [00:26]
<technomancy> jkkramer: so you just need that in a clojure-mode hook
<jaley> so... would there be anything wrong with having clojure.core/sort use
	Arrays.sort() when passed a primitive array?  [00:28]
<chouser> jaley: does that mutate the array? clojure.core/sort always returns a
	  new sorted collection.  [00:29]
<edw> amalloy_: ping  [00:30]
<jaley> chouser: yeah... I guess it would need a copy? though Collections.sort()
	also mutates the collection i think?
<jaley> chouser: both have void return type
<pepijndevos> I remember several clojure projects getting a free yourkit thing,
	      how does that work?  [00:31]
<jaley> chouser: wait... it already uses Arrays.sort
<dnolen_> pepijndevos: your project needs to be open source, email them - that's
	  about it  [00:32]
<jaley> chouser: but it uses to-array, so it will always box the ints
<pepijndevos> dnolen_, does it need to be a well known and widly used?  [00:33]
<dnolen_> pepijndevos: not as far I can tell.  [00:34]
<pepijndevos> cool
<dansalmo> instead of (-> 1 comp (repeat 3 inc)) is there something like this
	   that works? (-> 1 comp (repeat 3 inc))?  [00:55]
<dansalmo> instead of (-> 1 comp inc inc inc) is there something like this that
	   works? (-> 1 comp (repeat 3 inc))?
<chouser> (+ 3) ?
<clojurebot> 3
<jsabeaudry> While in a clojure-jack-in session, what is the best way to search
	     all files of the project for a specific string?  [00:56]
<chouser> C-x RET git grep "your string" # :-)  [00:57]
<jsabeaudry> "C-x RET g is undefined"  [00:58]
<technomancy> M-x rgrep  [00:59]
<chouser> Oh. that just shells out so you can run git grep
<chouser> Mine does, I mean. I don't know what technomancy's does
<chouser> Probably something better :-)
<technomancy> hyperlinked grep <3  [01:01]
<jsabeaudry> technomancy, That works
<jsabeaudry> Thanks
<technomancy> there's a half-baked find-usages in swank-clojure, but I recommend
	      rgrep  [01:02]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [01:12]
<jsabeaudry> As of now I have a bit of ui code in my noir defpages and a lot of
	     ui code in my clojurescript, I'm pondering wether or not I should
	     move all ui code to clojurescript by making use of crate. Anyone
	     has input regarding this?
<xeqi> is there an elisp equivalent for (some #{'clojure-mode
       'clojurescript-mode} major-mode) ?  [01:13]
<emezeske> jsabeaudry: I use crate a lot.  The only reason I'd hesitate to
	   recommend it is that it does not appear to be maintained at the
	   moment.  [01:16]
*** danielglauser_ (~daniel@c-76-25-238-116.hsd1.co.comcast.net) is now known as
    danielglauser  [01:17]
<jsabeaudry> emezeske, is it mature? lots of bugs left?
<emezeske> jsabeaudry: No, it is definitely not mature
*** `fogus|eats (~fogus@burke-matrex.d-a-s.com) is now known as `fogus  [01:18]
<emezeske> jsabeaudry: Right now I have to run my own branch of crate that has
	   bug fixes applied, etc
<jsabeaudry> emezeske, I see, thank you very much for the input, I'll definitely
	     hold off crate usage or now
<jsabeaudry> I'm not too experienced with web development, is it very common for
	     web servers to serve only javascript and no html at all?
									  [01:19]
<stuartsierra> It is not *very* common, but it is becoming more popular for some
	       kinds of applications.  [01:20]
<stuartsierra> http://en.wikipedia.org/wiki/Single-page_application  [01:21]
<jsabeaudry> stuartsierra, Ah! Exactly what I had in mind! Thanks!  [01:24]
<mmitchell> Anyone have any good approaches for configuring a clojure web app
	    (ring) at runtime? For example, I have a namespace that needs a few
	    variables to be configurable at runtime, without re-deploying.
<jsabeaudry> mmitchell, I think drawbridge is aimed exactly at that purpose
									  [01:25]
<mmitchell> jsabeaudry: interesting, i'll have a look
<technomancy> drawbridge is something else  [01:27]
<technomancy> you might want environ
<bdesham> can anyone recommend a tutorial on work queues in clojure? (using
	  (java.util.concurrent.LinkedBlockingDeque or similar?)  [01:30]
*** amalloy_ (~amalloy@li231-96.members.linode.com) is now known as amalloy
									  [01:40]
<the-kenny> lynaghk: I think crate had the problem that it doesn support stuff
	    like [:ul (for [i (range 100)] [:li (str i)]] while hiccups (what I
	    use in the job) just spits out strings which makes attaching fns
	    very hard
<lynaghk> the-kenny: the latest singult snapshot handles exploding seqs
	  fine. I'm pushing out a new release later today.  [01:41]
<the-kenny> Ah, nice!
<lynaghk> the-kenny: also, singult is 20--100 times faster, since it's written
	  in plain JavaScript.  [01:42]
<the-kenny> Another thing I always wanted is some syntactic sugar for events:
	    [:input {:type :button, :onclick #(js/alert "ohai!")}]
<francis> man grep
<francis> of course, not in shel
<lynaghk> the-kenny: I've thought about that, but I'm not sure what I want the
	  semantics to be there. In particular, should re-rendering remove old
	  event handlers or complement them?  [01:43]
<lynaghk> the-kenny: The big feature of singult is that it does DOM merges to
	  update state. If it was just plain create+append new elements only,
	  then sugar for event handlers would be doable.  [01:44]
<the-kenny> lynaghk: I haven't had a look at singult, I'll take a look later
	    today :)
<lynaghk> the-kenny: (obligatory disclaimer: I'm the author, so take everything
	  with a grain of salt).  [01:45]
<the-kenny> I know :)
<the-kenny> I'm back in about 20-30minutes, I'll have a look then
<lynaghk> the-kenny: most of the time you'll want to use it through c2's dom
	  namespace. Take a look at
	  https://github.com/lynaghk/c2-demos/blob/master/todoMVC/src/cljs/imtodo/list.cljs
	  for some use case.
<naeg> someone willing to give me some feedback on this explanation of conway's
       game of life: http://i.imgur.com/dP0Zf.png
<jsabeaudry> naeg, what sort of feedback? ("an initial state" vs "a initial
	     state" ?)  [01:48]
*** jballanc_ (~jballanc@95.5.93.3) is now known as jballanc
<naeg> jsabeaudry: whether you basically understand what conways game of life is
       about after reading it
<naeg> and thanks for that, corrected. also removed the "Then" at "Then the same
       procedure [...]"  [01:49]
<casion> naeg: besides the copying from wikipedia, it's good
<naeg> casion: I'm lazy :P does copying those four rules matter that much?
									  [01:50]
<casion> and the images? and similar word choices  [01:51]
<casion> it's no big deal, I'd have done the same thing… no use rewriting a good
	 explanation more than is needed
<amalloy> edw: what's up?
<casion> but at the same time, it's no more of an explanation than linking to
	 wikipedia
<naeg> casion: yeah, I'm just doing this for a blog post. so I don't focus on
       this explanation too much, more on the implemenations in Clojure and
       Python  [01:52]
*** technomancy_ (~technoman@ec2-23-20-129-88.compute-1.amazonaws.com) is now
    known as technomancy
<naeg> but for a blog post, it's better to write such things myself then just
       say "read it up on wikipedia", isn't it?
<naeg> I tried to compress is to all the reader needs to know, and the wikipedia
       article is huge  [01:53]
<casion> naeg: when I wrote something similar I felt it important to explain the
	 patterns a bit more
<chouser> A lot of programmers know what Conway's Game of Life is.  Does your
	  audience need more than one sentence a link to wikipedia?
<naeg> casion: for example how the glider moves along?
<casion> naeg: for example, yes  [01:54]
<casion> chouser: I agree
<naeg> chouser: i'm actually explaining a few more things before coming to the
       code, and I created a note that said that reader who e.g. know what
       clojure or conways is, can safely skip those paragraphs
<casion> I did soemthing similar writing life in supercollider, and I figured
	 anyone reading it would have a decent clue
<casion> but in my context, algorithmic composition, explaining the patterns
	 more in depth than wiki  was helpful  [01:55]
<naeg> they will see the algorithm implemented in Clojure and Python and with
       further explanation  [01:56]
<casion> at the very least, a paragraph on gliders probably would keep a mildly
	 imformed reader interested
<casion> since they're the simplest interesting spaceship
<naeg> I'll think about doing so. But as I said, this blog post should actually
       be about comparing cownays game of life implementations written in
       clojure and python  [01:57]
<naeg> but thanks for your feedback, at least I know that people will most
       likely understand what the game is about  [01:58]
<firesofmay> Which is the recommended library in clojure for image
	     manipulation/matching?  [02:01]
<casion> firesofmay: imageJ is very good if you don't mind plain java
<firesofmay> casion, I do mind plain java :p It would be better if there is
	     something in plain clojure.  [02:03]
<firesofmay> casion, Basically I am trying to do image comparison testing of
	     websites. For normal testing i am using clj-webdriver, but I don't
	     know if there is anything good in clojure for image comparison
	     testing.  [02:04]
<casion> other thank using imagemagick or imagej, I don't know anything
	 particularly useful
<casion> not sure why someone would rewrite imagej anyway, it's very easy to use
	 and I thought much of the purpose of clojure was java interoperability
	 anyway  [02:05]
<firesofmay> casion, cool. I'll check them out. Anyway I have a very simple
	     use-case.  [02:07]
<firesofmay> casion, thanks for your help :)
<casion> sure, there maybe something whipped uf clojure that I don't know about
									  [02:08]
<casion> but imageJ is pretty standard
*** PuercoPop712 (~PuercoPop@190.41.173.174) is now known as help  [02:31]
*** imami|afk (~imami@173-13-139-237-sfba.hfc.comcastbusiness.net) is now known
    as banseljaj  [02:32]
<dansalmo> :chouser - thanks, but answer by clojurebot was more succinct.
									  [02:33]
<dansalmo> what is the correct way to do something like this: (-> 1 comp (repeat
	   3 inc))  [02:34]
<dansalmo> so that is does this (-> 1 comp inc inc inc)
<amalloy> not use an arrow
<amalloy> and (-> 1 comp inc inc inc) is nonsense that will throw an exception
									  [02:35]
<drewr> ,(-> 1 inc inc inc)
<clojurebot> 4
<dnolen> dansalmo: you asked this earlier, it cannot be done. -> is not about
	 composing functions, it's syntax transformation.  [02:36]
<dansalmo> something more general than 4?
<dansalmo> \
<dansalmo> sorry, I am new to clojure
<drewr> ,((comp inc inc inc) 1)
<clojurebot> 4
<dansalmo> I want to call a fn n times, feeding the results forward  [02:37]
<amalloy> &(nth 4 (iterate inc 1))
<lazybot> java.lang.ClassCastException: clojure.lang.Cons cannot be cast to
	  java.lang.Number
<amalloy> &(nth (iterate inc 1) 4)
<lazybot> ⇒ 5
<dansalmo> :amalloy - thanks, that's what I needed.  [02:38]
*** acagle_ (~acagle@76.14.74.147) is now known as acagle`  [02:39]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [02:47]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [02:49]
*** qmx|away (~qmx@redhat/jboss/qmx) is now known as qmx  [03:06]
*** help (~PuercoPop@190.41.173.174) is now known as PuercoPop  [03:16]
*** abstractj|away (~abstractj@redhat/jboss/abstractj) is now known as abstractj
									  [03:24]
*** nonrecursive_ (~nonrecurs@pool-98-118-40-65.bstnma.fios.verizon.net) is now
    known as nonrecursive  [03:26]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [03:43]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off
*** Blazeix_ (~Blazeix@75.114.201.146) is now known as Blazeix  [03:51]
<stuartsierra> Hey y'all, when you're working at the REPL, and you want to
	       switch namespaces, do you use 'in-ns' or just 'ns'?  [03:58]
* nDuff just uses ns
<stuartsierra> (This is for a class I teach)
<dnolen> stuartsierra: in-ns, mostly 'cause Chouser said it was more idiomatic
	 ;)  [03:59]
* metajack uses in-ns
<chouser> ns is dangerous is the namespace you're switching to did some
	  :refer-clojure stuff
<metajack> i was under teh impression ns did seoms refers or something when you
	   used it
<chouser> s/is/if/
<duck11232> in-ns if I'm not using C-c M-p
<stuartsierra> Yes, `ns` automatically refers `clojure.core`
<chouser> so, in-ns  [04:00]
<stuartsierra> Chouser's example is a good one.
<chouser> stuartsierra: are you in the class now? Tell 'em hi for me!
<stuartsierra> no, in a few weeks
<chouser> oh, oh well.  [04:01]
<chouser> :-)
<stuartsierra> But I'll tell them you said hi.
<jweiss> does anyone remember what lib lets you organize ns use/requires into
	 re-usable groups?  i saw that somewhere and can't find it again
									  [04:04]
<stuartsierra> Just define a function that refers/imports what you want. DON'T
	       create new Vars.  [04:05]
<technomancy> jweiss: nstools
<technomancy> stuartsierra: I usually do (doto 'my.ns require in-ns) because I
	      enjoy feeling like a smartass  [04:07]
<stuartsierra> ha
<chouser> stuartsierra: wow, that's a really good idea.  [04:08]
* chouser thinks about it more
<jweiss> stuartsierra: you mean move that stuff out of the in-ns macro and
	 replace it with a require for a function that does all the rest?
									  [04:09]
<steveo> ls
<stuartsierra> jweiss: yes
<technomancy> it sucks that you have to resort to hacks to make it declarative
	      inside the ns form like nstoos
<steveo> *oops
<stuartsierra> or just make bigger namespaces, which is the sane solution
<jweiss> big namespaces have drawbacks too, harder to find stuff in them  [04:10]
<jweiss> especially when it does break down logically into smaller ones
<stuartsierra> Split it across files with `load` if you want.
<technomancy> ugh; no
<jweiss> yeah i tried that too, don't like it  [04:11]
<edw> amalloy: ping
<jweiss> nstools is not quite what i want, i don't want to totally clone the
	 whole set. i'll try the function approach
<amalloy> pong again  [04:12]
<technomancy> nstools is egalitarian in that it allows you to get close to
	      promoting your own namespace choices as default alongside
	      clojure.core
<edw> Oh hey. Sorry, amalloy. I was looking at your ordered map imeplementation
      and was wondering what the rationale behind the "extra" vector container
      for each pair is.  [04:13]
<amalloy> edw: in the vector used to keep ordering?  [04:14]
<edw> In e.g. "#ordered/map([:a 42] [:b true])" I'm referring to the inner
      brackets.  [04:15]
<amalloy> that's just an artifact of the printing, not the internal
	  representation
<amalloy> ([:a 42] [:b true]) is what (seq m) would look like; (:a 42 :b true)
	  isn't what anything would look like  [04:16]
<edw> But your reader fn gets that nested datastructure from the reader,
      correct?
<amalloy> yes.....?
<edw> As opposed to a flat list...
<Raynes> ............  [04:17]
<amalloy> right. i could choose either format for serialization
<Raynes> <3
<edw> ........
<amalloy> i chose to wrap vectors because it looks like the seq of a map, which
	  is familiar
<amalloy> and helps you tell what pairs with what
<edw> I was thinking that this may cause unnecessary memory allocations on
      reading.
<amalloy> *shrug* sure
<amalloy> clojure is an exercise in mostly-unnecessary allocations  [04:18]
<amalloy> the reader is abominably slow compared to what you spend most of your
	  time doing; i chose the serialization format to optimize for
	  legiibility, not minimizing tiny allocations
* edw makes a Marge Simpson-like pained noise.
<edw> It's not clear to me that that format is more legible, as it is noisier
      than Clojure's map syntax e.g. {:a 42 :b true}.  [04:20]
<amalloy> i'd be calling partition 2 on the seq anyway
<amalloy> the allocations just show up in the reader instead of in my
	  literal-reader-function  [04:21]
<amalloy> and you're of course free to not find it more legible, since it's
	  clearly a close choice that mostly doesn't matter, but i'm not going
	  to change it  [04:22]
<edw> amalloy: Fear not, I'm wasn't going to ask you to change it.
* edw flips some bits  [04:23]
*** kushal (~kdas@114.143.160.192) is now known as Guest77882  [04:48]
*** dan64 (dan64@2600:3c03::f03c:91ff:fedf:7dc0) is now known as Guest14436
*** denysonique (u484@gateway/web/irccloud.com/x-isbluugtipjwanxs) is now known
    as Guest68848  [04:49]
*** lopex (u4272@gateway/web/irccloud.com/x-tzjnwtwasiprtjye) is now known as
    Guest96709
*** lazybot (~irclj@li231-96.members.linode.com) is now known as Guest18486
*** ppppaul (~pppaul@66.207.222.14) is now known as pppaul  [04:53]
*** dubz_ (~d0ng@ec2-23-23-243-24.compute-1.amazonaws.com) is now known as dubz
									  [05:03]
*** banseljaj (~imami@173-13-139-237-sfba.hfc.comcastbusiness.net) is now known
    as imami|afk  [05:11]
*** abstractj (~abstractj@redhat/jboss/abstractj) is now known as abstractj|brb
									  [05:17]
<naeg> what am I doing wrong when source can't find the code of my function?
									  [05:19]
<edw> Could you provide us a bit more context? In SLIME?  [05:20]
<naeg> edw: clj  [05:21]
<edw> Right. What source can't find what function?
<naeg> ehm, not sure whether this was clear, but I'm talking about the (source)
       macro from clojure.repl  [05:22]
<naeg> (source n)*
<edw> Did you redefine it at the repl? Or in SLIME or nrepl?  [05:23]
<edw> If you did, there's no source file info associated with it.  [05:24]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR
<edw> C-c C-k from Emacs will recompile the file, which will associate file and
      lineno info.
<edw> For nrepl; I've forgotten the SLIME binding.
<naeg> edw: I'm now in emacs or something, just clj, the clojure repl
<naeg> what I'm really trying to do is to see the actual code of a function that
       is returned by another funtion  [05:25]
<edw> So did you type in the func like ">(defn my-inc [n] (+ 1 n))"
<naeg> yes
<edw> That's not going to work. Unless the fn has lineno and filename metadata,
      there's no way to get the source. Are you trying to see what some
      anonymous function returned by a closure looks like?  [05:27]
<naeg> nope, just a "regular" HOF  [05:28]
<naeg> nvm then, will figure out without actually seeing it then
<llasram> naeg: To elaborate on what edw is saying, `source` doesn't work by way
	  of the actual source being saved in-memory and associated with each
	  var.  Instead just the file & lineno is saved, and `source` uses that.
	  So something needs to come from a file for `source` to work
<llasram> Which I guess really is exactly what edw said in the first place.  I
	  think time to go home...  [05:29]
<edw> Thanks, llasram. To further elaborate, it's not like WebKit's inspector
      which will show you the de-tokenized JavaScript fn when you inspect it.
<amalloy> you can take a look at technomancy's serializable-fn, which creates
	  functions (including closures) that print as their source code
									  [05:30]
<naeg> it's not that important actually, I was just wondering if and how it's
       possible
<naeg> thanks for the answers though
*** abstractj|brb (~abstractj@redhat/jboss/abstractj) is now known as abstractj
									  [05:36]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [05:41]
*** mudphone_ (~koba@cpe-98-150-234-119.hawaii.res.rr.com) is now known as
    mudphone  [05:44]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [05:45]
*** nonrecursive__ (~nonrecurs@pool-98-118-40-65.bstnma.fios.verizon.net) is now
    known as nonrecursive
<mk> what's the reduce/fold that works for associative binary operations? And
     does it use multiple threads?  [05:47]
<TimMc> mk: You're thinking of the upcoming reducers library?  [05:56]
<TimMc> It uses Fork/Join.  [05:57]
<mk> TimMc: I'm not sure at all, I thought it would already be in clojure
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [05:58]
<TimMc> IIRC it is in Clojure master, but not in an extant release.  [05:59]
<amalloy> the 1.5 alphas
<TimMc> Oh hey, we have alphas?
<amalloy> four of them, i think
<mk> what's the actual function called, if there is one? Presumably the same
     form as reduce, but due to assoc, can be run in parallel?  [06:00]
<jkkramer> mk:
	   https://github.com/clojure/clojure/blob/master/src/clj/clojure/core/reducers.clj
									  [06:01]
<amalloy> fold
<amalloy> it needs more information than reduce does
<mk> TimMc jkkramer amalloy: thanks  [06:03]
<nathanmarz> technomancy: hey, have a leiningen question for you  [06:17]
<mk> nathanmarz: ask away  [06:18]
<nathanmarz> i have a somewhat difficult build problem  [06:19]
<nathanmarz> i'm trying to write a test for dependency isolation in storm
<nathanmarz> we have some code that does some funky classloader stuff to
	     distinguish between user code and storm system code  [06:20]
<nathanmarz> so i want to write a test that ensures that the right classes are
	     loaded at the right times
<nathanmarz> so i want to have a "subproject" in storm that defines a user
	     topology
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR
<nathanmarz> it should build a jar (using lein jar), except use the classes from
	     the parent project
<nathanmarz> i tried doing something like this: http://pastie.org/4570814
									  [06:21]
<nathanmarz> but it looks like you can't override the classpath like that
<nathanmarz> so the question is, how do you disable leiningen's
	     auto-construction of the classpath and just specify it yourself?
									  [06:22]
<technomancy> nathanmarz: it sounds like the same problem you have with hadoop
	      where you want one set of jars visible during runtime inside
	      leiningen, but a different set of jars included in the uberjar; is
	      that right?  [06:24]
<nathanmarz> mmm  [06:25]
<nathanmarz> well, not really
<nathanmarz> leiningen handles that case without issue  [06:26]
<nathanmarz> the way our custom classloader works
<technomancy> what's the root problem? you want to be able to use a given
	      version of a dependency in storm in a way that doesn't preclude a
	      different version in the project?
<nathanmarz> is that when we launch storm, we don't include any user code on the
	     classpath, and instead set the location for that in a custom
	     environment variable
<nathanmarz> i want to test that our custom classloader works
<nathanmarz> so i need to build a test topology in a separate jar  [06:27]
<nathanmarz> but i want to build that test topology against exactly what's in
	     the Storm project at the moment
<nathanmarz> so i have a subfolder
<nathanmarz> storm/test/test-topology
<nathanmarz> which has its own project.clj (my attempt is in that pastie)
									  [06:28]
<nathanmarz> and i want it to build against the classpath of storm, which i'm
	     computing with (with-sh-dir "../.." (:out (sh "lein" "classpath")))
<nathanmarz> that way i can build my topology jar against the version of storm
	     in the project, and write tests that test my custom classloader
									  [06:29]
<technomancy> ok, so you aren't really nesting it in that case?
<nathanmarz> what do you mean by nesting?
<technomancy> you could link the top-level project into the checkouts/ dir of
	      the test project
<nathanmarz> oh  [06:30]
<nathanmarz> let me try that
<technomancy> I mean if you want storm's classpath on the classpath of the
	      project, then you're not isolating it
<nathanmarz> it should be there on compile time, the isolation will happen at
	     runtime
<technomancy> ok, so whatever you're using as your -main is going to handle
	      that; the classpath leiningen calculates isn't going to be used to
	      run project code then?  [06:31]
<technomancy> well, try the checkouts approach; if I understand the problem that
	      should take care of it  [06:32]
<nathanmarz> yea, that sounds about right
<nathanmarz> so with checkouts, i guess i can just put some fixed version of
	     storm in :dependencies
<nathanmarz> and then it will always compile against the latest?  [06:33]
<nathanmarz> does that apply to "lein jar" too?
<technomancy> no, checkouts are only a dev-time convenience
<technomancy> you'll want to bump the storm version in :dependencies if storm's
	      dependencies change
<technomancy> since checkouts aren't transitive
<nathanmarz> so if i do "lein jar" it will ignore checkouts?  [06:34]
<technomancy> yeah
<nathanmarz> ok
<nathanmarz> yea, so i need this behavior during lein jar
<SegFaultAX|work2> I'm only just scratching the surface of datomic, but from
		 what I've seen so far it appears that your application has to
		 have a fully copy of the database to run queries. Is that
		 correct?  [06:35]
<nathanmarz> i gotta run, i'll dig into this more later
<nathanmarz> thanks for the help technomancy
<SegFaultAX|work2> If it is, what if you have millions or tens-of-millions of
		 facts? The network load would be immense, no?
*** robink_ (~quassel@fatcat.creosotehill.org) is now known as robink  [06:39]
<TimMc> SegFaultAX|work2: I think the client only has a cache of the data. Not
	sure what that implies for full table scans, though...  [06:40]
<TimMc> *partial cache
<SegFaultAX|work2> TimMc: Still seems like each new applciation server spikes
		 the hell out of your network traffic.  [06:41]
<SegFaultAX|work2> TimMc: Even if it's just caching the working set for that
		 node.  [06:42]
* nDuff 's current project is such that he could prevent application servers
  from running overlapping queries quite trivially.  [06:43]
<SegFaultAX|work2> nDuff: Example?  [06:44]
<nDuff> ...to be sure, workloads and needs differ, but then, datomic doesn't
	necessarily _try_ to be for everyone.
<nDuff> SegFaultAX: I'm running statistical analysis on a number of incoming
	streams. Each node can be assigned a slice of the namespace in terms of
	which stats it's responsible for handling.  [06:45]
<holo> hi
<nDuff> SegFaultAX: ...but all that applies only if you can't write your queries
	to be able to winnow down the data they need with the indexes
	effectively.  [06:46]
<SegFaultAX|work2> nDuff: Who would do the load balancing?  [06:47]
<SegFaultAX|work2> nDuff: Would you have to encode a portion of your application
		 logic into nginx/apache/whatever?  [06:48]
<SegFaultAX|work2> (The portion that selects the appropriate application server
		 eg consistent hashing)
<nDuff> SegFaultAX: I'm not a webapp.
*** shadowh511 (~sh511@opennic/shadowh511) is now known as HiroProtagonist
									  [06:49]
<SegFaultAX|work2> nDuff: Well generally then, where in the architecture do you
		 route incoming requests to the appropriate application server?
<nDuff> SegFaultAX: "requests"?
<SegFaultAX|work2> nDuff: Inbound packets.
<nDuff> SegFaultAX: Servers use AMQP topic queues to subscribe to the messages
	they're interested in handling.
<holo> is it happening to anyone here, after importing an existing eclipse
       project (this case a git project), the option to convert to a leiningen
       project (ccw plugin) doesn't work on eclipse 4.2. but anyhow, the
       leiningen option appears in the package explorer contextual menu, as if
       it was automatically detected. i wonder if it's *just* working  [06:50]
<SegFaultAX|work2> nDuff: Ah, cool. So it's kind of encoded into their
		 subscription?
*** lopex (u4272@gateway/web/irccloud.com/x-bszwolnedrqadxpg) is now known as
    Guest82365
<holo> when i said it doesn't work, i really mean, the option configure ->
       convert o a leiningen project doesn't exist
<nDuff> SegFaultAX: Right -- the subscription includes information on what they
	want to handle, and the queue only routes them things that match.
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [06:59]
<TimMc> nDuff: And each of your nodes is configured to ask for a different
	slice?  [07:00]
<nDuff> TimMc: ...well -- I'm not using datomic, just pointing out that my use
	case could be conducive to it. :)  [07:02]
<nDuff> TimMc: ...oh, you mean a different slice of the incoming stream? Yes.
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [07:30]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [07:31]
<Frozenlock> If I start `lein repl', how can I load a library? I've put the jar
	     in the same directory, but it doesn't seem to work  [08:23]
*** abstractj (~abstractj@redhat/jboss/abstractj) is now known as abstractj|away
									  [08:24]
*** jcrossley3 (~user@68.114.25.210) is now known as jcrossley3-away
<technomancy> Frozenlock: you would have to declare pomegranate as a dependency
	      and use that  [08:25]
<technomancy> most people just restart
<Frozenlock> Restart? The repl?  [08:26]
<technomancy> =\
<lynaghk> aperiodic: new c2 + reflex + singult releases out, just for you!
									  [08:27]
<xeqi> oh, I was gonna try c2 the other day, but ran into
       https://github.com/lynaghk/c2/blob/master/src/cljs/c2/dom.cljs#L52 dieing
       on non-webkit  [08:28]
<lynaghk> xeqi: yeah, I'm pretty much targeting webkit only.
<lynaghk> xeqi: I'm happy to accept shims via pull requests, though, assuming
	  they don't uglify the code too much.  [08:29]
<Frozenlock> technomancy: Restart doesn't seem to do it either...  [08:30]
<xeqi> reflex looks neat, almost frpish  [08:31]
<xeqi> are reflex/singult also webkit only?
<lynaghk> xeqi: that's the primary testing platform
<lynaghk> xeqi: there's nothing in there that's webkit only that I'm aware of,
	  though. I'm a bit surprised you ran into that with c2 so quickly,
	  since I think that's the only webkit specific thing in there.
									  [08:32]
*** abstractj|away (~abstractj@redhat/jboss/abstractj) is now known as abstractj
<xeqi> lynaghk: I was trying out the c2demo and it used it
<xeqi> imtodo I think  [08:33]
<technomancy> Frozenlock: you added a library to :dependencies and it didn't
	      show up when you restarted your repl?
<lynaghk> xeqi: ahhh, yes. I'll open up an issue about fixing that. Hopefully
	  the newer goog closure abstracts that matchesSelector stuff away
<Frozenlock> technomancy: No, I don't have the project.clj or anything, I just
	     have lein in a folder with a particular jar  [08:34]
<technomancy> oh, outside a project  [08:35]
<technomancy> you can do that with pomegranate
<Frozenlock> Yeah. Kind of "on-the-fly" if you will.
<xeqi> lynaghk: not that I meant to only complain about it, c2 looks neat
									  [08:38]
* brehaut (cons 'pomegranate look-at)
<xeqi> Frozenlock: (cemerick.pomegranate/add-classpath "name.jar") I think
									  [08:40]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [08:41]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [08:45]
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|away  [08:59]
<Kowboy> is there some good online documentation for the ns macro?  [09:16]
<Kowboy> I see so many different ways of use and require that I am confused as
	 to what is idiomatic
<Kowboy> I'd like to have a nice reference
<mk> Kowboy: clojure.org/cheatsheet links to one
<Kowboy> you would think the "Namespaces" section on clojure.org would make it
	 clear  [09:17]
*** andrew_ (~agoodno@static-63-131-38-13.mil.onecommunications.net) is now
    known as agoodno
<adamvh> If I want to hack on a package to add functionality, how do I get my
	 other projects to pull in my new-and-improved version instead of
	 whatever Leiningen magically fetches?
<Kowboy> ah, clojuredocs.org  [09:18]
<Kowboy> http://clojuredocs.org/clojure_core/clojure.core/ns
<adamvh> Like say I clone the incanter github
<adamvh> and want to add plotting functionality
<adamvh> how do I actually use my new-and-improved incanter?
<mk> Kowboy: I actually didn't find it all too informative in the end, though,
     since I was a bit confused about the various other functions  [09:19]
<Kowboy> also confusing is when to use vs require
<mk> Kowboy: do you understand namespaces, generally?
<Kowboy> generally, yes
<mk> Kowboy: ok. Here's how it works:  [09:20]
<Kowboy> I understand use pulls the public var from the "used" namespace into
	 your namespace
<xeqi> adamvh: change the version in your local incanter's project.clj; then
       lein install; then change the dependency for your other projects
<mk> ns is just a convenience function for a bunch of other functions that
     always end up being invoked right after namespace, at the top of files
<xeqi> adamvh: using the checkouts feature is another way
<adamvh> xeqi: So I would edit incanter's project.clj, bumping the version
	 number  [09:21]
<Kowboy> where require only makes the namespace accessible in your file, so you
	 have to qualify access unless you use :as
<mk> there's a global map between names (basically symbols) and Namespaces. You
     need to create a namespace before you can use it.
<Kowboy> but it would be nice if this was stated clearly somewhere
<adamvh> xeqi: and then change my deps to point to the bumped version number
<Kowboy> mk: I got that
<adamvh> xeqi: and then run lein install?
<xeqi> adamvh: and possibly changing the group name, esp if you want to deploy
       them somewhere
<mk> *ns* is used for symbol resolution  [09:22]
<Kowboy> I understand the concept, and I've been using them for awhile...
<Kowboy> I just always forget the particulars
<adamvh> xeqi: ...group ... name?
<mk> right. So in-ns will switch and do create-ns if the ns doesn't exist
<xeqi> incanter/incater -> org.clojars.adamvh/incanter for example
<Kowboy> mk: I am more concerned with the details of :require and :use in the ns
	 macro  [09:23]
<adamvh> xeqi:  Ah, I see
<adamvh> The Java ecosystem
<adamvh> I don't fully understand it yet
<mk> require loads the namespace from the classpath, and it might alias the
     namespace
<Kowboy> I think what I normally want to use is :require [something :as s] or
	 whatever
<mk> loading means that it just reads the file (there are other load functions)
<xeqi> no links to
       http://blog.8thlight.com/colin-jones/2010/12/05/clojure-libs-and-namespaces-require-use-import-and-ns.html
       yet?  [09:24]
<Kowboy> right, so without :as, you have to fully qualify symbols from the
	 required namespace
<Kowboy> correct?
<Kowboy> whereas :use pulls the symbols into your namespace, possibly stomping
	 on other symbols
<mk> alias does something special. Each namespace has a mapping from symbols to
     vars, or classes (this is actually a bit complicated). But it also has a
     mapping of symbols-to-symbols, alias-to-proper - when it's doing namespace
     resolution for a symbol, it will replace the alias with the proper
     namespace name, and then continue with resolution  [09:25]
<Kowboy> :use is a little more lazy, so you don't have to prefix the symbols
<mk> does that make sense?  [09:26]
<Kowboy> yes
<mk> it's basically a list (map) of replacements
<Kowboy> underneath it's all fully-qualified symbols  [09:27]
<mk> refer will unceremoniously dump all matching vars from the other
     namespace's ns-publics into this namespace
*** HiroProtagonist (~sh511@opennic/shadowh511) is now known as shadowh511
									  [09:28]
<Kowboy> use is like require + refer?  [09:29]
<Kowboy> I think I saw that in the docs
<mk> ns-publics is a filter on a namespace's mapping that returns only: vars
     that are interned in the same namespace and are public (so classes, and
     things refer'd into that other namespace are never imported by refer)
<amalloy> the is exactly what use is, yes
<Kowboy> I think 2 things are confusing to a newbie
<amalloy> as of clojure 1.4, you never need use or refer, though: require
	  supports a :refer option
<mk> yep - requires (which loads, maybe aliases) and then refers (dumps publics
     into current)  [09:30]
<Kowboy> 1. That require doesn't work like Java's import. You still have to
	 qualify the symbols or use :as to create a shortcut prefix
<Kowboy> I can see a lot of users doing (:require foo.bar) and expecting to have
	 access to those symbols
<mk> Kowboy: you can think of java imports as compile-time - they tell the
     compiler that whenever you type Map you actually mean java.util.Map  [09:31]
<Kowboy> 2. The difference between :use and :require
<Kowboy> right, and I think that's what people initially assume require does
									  [09:32]
<Kowboy> instead, that is the refer part
<Kowboy> refer is a non-intuitive name, just my opinion
<Kowboy> at least, it doesn't translate for me relative to other programming
	 langauges (not just Java)  [09:33]
<mk> Kowboy: it means that the namespace makes reference to another - if a
     namespace makes reference, then that other one must be loaded (maybe
     aliased). That's what refer does
<mk> sorry, that's wrong  [09:34]
<Kowboy> refer doesn't load  [09:35]
<mk> I was thinking of require. Refer is called refer rather than import because
     import is reserved by clojure for referring to classes
<mk> yes, it's probably confusing, but there's not much that can be done  [09:36]
*** abstractj (~abstractj@redhat/jboss/abstractj) is now known as abstractj|away
<Kowboy> I think something can be done
<mk> Kowboy: what do you propose?  [09:37]
<Kowboy> the documentation can be put in layman's terms a little more than it is
	 today
<Kowboy> maybe I'll take a shot at this in a blog post or something
<Kowboy> if it can be turned into official documentation somewhere, great
									  [09:38]
<mk> Kowboy: you might ask who's responsible for the docs you have in mind, and
     then suggest your changes
<Kowboy> OK, I run into some of the core developers every now and then at the
	 TriClojure meetups in Durham  [09:39]
<Kowboy> thanks mk and amalloy, this was really useful information  [09:41]
<mk> Kowboy: the documentation might be a good place to address this, since the
     actual names won't change. The best you can do is come up with
     interpretations of the names that help you remember what the functions do
									  [09:42]
<mk> Kowboy: np  [09:43]
<jrajav> Has anyone used Clojure with Android recently?  [09:44]
<jrajav> And no I don't have a specific question, I'm just looking for
	 experience and advice. From what I can see there have been performance
	 issues with it in older versions
<close-paren> I've been meaning to. working on a game, and can't stand writing
	      Java  [09:45]
<close-paren> at least not for entity scripts
*** amalloy (~amalloy@li231-96.members.linode.com) is now known as amalloy_
									  [09:51]
<xeqi> jrajav: might try to get in touch with the person behind
       http://clojure-android.blogspot.com/
<xeqi> was/is a gsoc person working on clojure+android
<jrajav> Thanks  [09:52]
<Kowboy> so, I have this in an ns macro: (:require [clj-webdriver.taxi :as
	 taxi])  [10:06]
<Kowboy> then (defn driver []
<Kowboy>   (taxi/start-driver! {:browser :firefox}))
<Kowboy>  No such var: taxi/start-driver!
<Kowboy> did I miss something here?  [10:07]
<xeqi> Kowboy: (taxi/set-driver! ...) ?  [10:10]
<Kowboy> set-driver! is a method in clj-webdriver.taxi namespace  [10:11]
<Iceland_jack> Well is it set-driver! or start-driver!?
<xeqi> sorry, you pasted "start-driver", I was suggesting "set-driver"
<Kowboy> sorry, start-driver!  [10:13]
<Kowboy> whoops.
<Kowboy> set-driver!  [10:14]
* Kowboy facepalm
<Iceland_jack> haha
<Kowboy> it's getting late. I blame the clock. Stupid clock!
<Iceland_jack> Or just blame Past-You, that person never does anything right
<adamvh> is there a way for me to get leiningen to not use a checksum?  [10:15]
<Kowboy> I think you can add :checksum :warn or :checksum :ignore to your
	 project.clj  [10:16]
<mmitchell> is memoize thread safe?
<mmitchell> i'm using delay to lazy load data from a db, just wondering if i
	    should be using memoize instead  [10:17]
*** shadowh511 (~sh511@opennic/shadowh511) is now known as UPS_shipping  [10:20]
<Kowboy> I think it would be pretty terrible if Clojure, of all languages, had a
	 non-thread-safe memoize  [10:21]
<Kowboy> or you could look at the source code online
<Kowboy> I'm sure you will be able to tell at a quick glance whether it is using
	 STM  [10:22]
*** UPS_shipping (~sh511@opennic/shadowh511) is now known as shadowh511
<adamvh> Kowboy: Thanks, that did it.  [10:24]
*** amalloy_ (~amalloy@li231-96.members.linode.com) is now known as amalloy
									  [10:25]
<Kowboy> Woohoo! I helped someone
<dnolen> Kowboy: it doesn't use STM, it uses an atom.  [10:28]
*** abstractj|away (~abstractj@redhat/jboss/abstractj) is now known as abstractj
									  [10:32]
*** qmx|away (~qmx@redhat/jboss/qmx) is now known as qmx  [10:43]
<yankov> can anyone explain the difference between refs and atoms?  [10:52]
*** pepijndevos (~pepijndev@ec2-23-21-19-58.compute-1.amazonaws.com) is now
    known as pepijn_away  [10:54]
<casion> yankov: my understanding is that atoms are uncoordinated, and refs are
	 coordinated  [10:55]
<casion> you can have 2 threads operating on an atom at the same time, but you
	 can with a ref  [10:56]
<casion> I may however be limited in this understanding as I'm still new
<nkkarthik> yankov: well, I am no expert either but, suppose we have two slots
	    transaciton-no and balance  [10:57]
<yankov> casion: hm.. but what happens if two transactions are operating on an
	 atom, which value get accepted
<nkkarthik> when ever i have to change balance I have to change transaction-no,
	    say
<nkkarthik> then balance and transaction-no should be coordinated... that's what
	    casion means by coordinated  [10:58]
<nkkarthik> when there is no such coordination needed then we can go with atoms
*** warrenbo` (~user@kilrog.com) is now known as warrenbot
<yankov> so, suppose I have two refs. I can have a transaction which will
	 require to update both refs?  [10:59]
<nkkarthik> yankov: yeah dosync  [11:00]
<aezop> anybody know any good IDE's for linux?
<aezop> looking for something very lightweight
<yankov> nkkarthik: gotcha. thanks!  [11:01]
<nkkarthik> yankov: :)
<frio> aezop: for what purpose?
<aezop> uh, writing clojure?
<aezop> just simple stuff
<frio> the canonical answer for clojure is always going to be emacs :)
* nkkarthik never knew he could explain something 
<frio> but if you're just looking for a simple text editor to get familiar with,
       sublime text 2 is nice
<Raynes> Eh  [11:02]
<Raynes> Sublime Text 2 is a furious mess for Clojure.
<aezop> how so raynes?
<Raynes> It can't even indent things properly.
<yankov> nkkarthik: you did a good job :)
<aezop> oh ha
<Raynes> You're code will be a mess and people will complain and you'll be sad
	 and we'll be sad and everybody will be sa.d
<Raynes> sad*
<frio> shrug Raynes; my guess is aezop is new to Linux
* nkkarthik seconds emacs on any platform it is available for
<aezop> I'm really looking for simple syntax highlighting and low memory
	footprint
<aezop> I'm not new to linux
<frio> (because the rest of us have a pretty good idea of what tools we use in
       linux; vim, emacs, etc.)
*** amalloy (~amalloy@li231-96.members.linode.com) is now known as amalloy_
									  [11:03]
<aezop> I was just asking the clojure community what they would recommend
<frio> so ST2 would probably feel quite familiar
<cemerick> frio: There's nothing canonical about tools, and especially editors.
	   Only personal preferences.
<frio> fair enough aezop :)
<cemerick> People should use whatever they're used to already if they're just
	   getting started with Clojure.
<davejacobs> what's the best way to dry up handlers in a ring-based webapp --
	     the way you would dry them up with before_filter in rails, for
	     example?
<frio> i agree cemerick :)
<Raynes> Except if it can't indent Clojure properly.
* cemerick puts all his closing parens, brackets, and braces on their own new
  lines, just for Raynes   [11:04]
<frio> for a learner Raynes, that's less of a stumbling block than figuring out
       emacs chords, or the fact vim is modal
<Raynes> Nobody helping you because your code is a mess and impossible to read
	 is an even bugger stumbling block.  [11:05]
<yankov> there we go. editor wars :)
<Raynes> But really, once light table can save files properly, it'll probably be
	 an excellent starting point.
* yankov grabs popcorn
<Raynes> I do not care in the slightest what editor people use.
<frio> not being able to write code because you don't know that you need to
       press "i", or "ctrl-x-s", is... um, big  [11:06]
<frio> but!
<davejacobs> i only care what editor people use when they try to convert me --
	     which is always a no go
<Raynes> I just don't want to suggest something to someone that will make their
	 code a mess if they're not careful.
<frio> i do agree about light table
<frio> im very excited about that :)
<Raynes> You can get working with Emacs pretty fast though.
<Raynes> Vim is another story.
<davejacobs> vim is actually quite easy now
<davejacobs> i finally figured out the perfect config
<davejacobs> lein2 + lein-tarsier + vimclojure + paredit = bliss
<frio> alias vim="emacs" :p?
<davejacobs> the missing piece was lein-tarsier  [11:07]
<cgag> yep
<jkdufair> does anyone have slime-ritz working in aquamacs?  [11:08]
<cemerick> Raynes: is there something about jiraph that answers the "why not
	   neo4j?" question?
<Raynes> cemerick: I think it's pretty much revisions.
<Raynes> But for a more detailed answer, catch amalloy_ when he doesn't have the
	 underscore.
<cemerick> That'll do for now, thanks :-)  [11:09]
<cemerick> I know as much about one as the other at the moment.
<Frozenlo`> I have a little problem... I'm trying to send a packet from
	    clojure. Usually it works fine, but on a particular machine, I can't
	    send anything. I can bind with the port, no error whatsoever. But
	    when I'm "sending", if I check a traffic sniffer, there's nothing
	    going there. Is it possible for clojure/java to send something that
	    will never reach the real world? Could a firewall do that?
									  [11:10]
<frio> Raynes: so you really dislike ST2 for clojure? (not asking in an
       inflammatory way; I've been trying to setup a decent Clojure env on my
       windows box without having to go through the pain of cygwin to get emacs)
<Raynes> frio: I think ST2 is a great editor, but it has terrible Clojure
	 support.  [11:11]
<jkdufair> or does anyone recommend a setup on mac os for aquamacs or emacs?
<frio> fair enough :)
<Raynes> It probably wouldn't be hard to fix, but nobody wants to touch textmate
	 bundles.
<yankov> Raynes: just curious, what kind of things you are lacking in ST2 for
	 clojure?
<Raynes> jkdufair: nrepl.el is nice.
<frio> yeah, that last part is true enough Raynes
<Raynes> yankov: It can't indent Clojure properly.
<Raynes> And the syntax highlighting is broken on regexes.  [11:12]
<jkdufair> Raynes: thank you
*** Frozenlo` (~user@cable-15.246.173-182.electronicbox.net) is now known as
    Frozenlock  [11:16]
<ivan> frio: would vanilla Windows Emacs work?
<ivan> I gave up on "decent dev env on Windows" because of Emacs/git slowness
       and java opening jars without share mode FILE_SHARE_DELETE  [11:17]
<davejacobs> all right so drying up ring handlers -- how do i do that?
<davejacobs> by "drying up" i'm thinking of before filters in rails  [11:18]
<frio> ivan: I've largely given up too; I'd use *nix but for the fact it's my
       gaming box. it's not normally an issue, but my ancient laptop finally
       died and im still waiting on the replacement :)  [11:19]
<cemerick> davejacobs: Not sure if there are any Rails people here; I presume
	   you're referring to DRY?  [11:22]
<cemerick> …and bizarrely conjugating it to a verb? ;-)  [11:23]
<samrat> are there any clojure libraries to convert numbers to base64?  [11:29]
<cemerick> samrat: https://github.com/clojure/data.codec …or, there's 2 or 3
	   Java libs with reasonable APIs and good perf.  [11:31]
<cgag> i used  org.apache.commons.codec.binary.Base64
<samrat> cemerick: cgag thanks, I'll check both of those  [11:36]
<davejacobs> cemerick -- sorry, left the computer for a sec
<davejacobs> haha yeah, that's fairly common in the Ruby community  [11:37]
<davejacobs> kindof like restful ;-)
<cemerick> hrm, perhaps :-)
<davejacobs> basically -- i am building a ring app and am going to be repeatedly
	     doing things at the beginning of the handler actions -- loading
	     database results, checking for authentication, etc.  [11:38]
<brehaut> restful won because apparently restafarian isnt cool
<davejacobs> in rails and other frameworks, there are typically callbacks that
	     are called at different points in a request lifecycle
<davejacobs> what about restalicious?
<TimMc> davejacobs: It helps if you say "DRYing".
<brehaut> davejacobs: thats middleware / handlers in ring
<cemerick> davejacobs: just create a function for each of the operations you
	   will commonly need to do, and compose those with the route-specific
	   handlers you write  [11:39]
<davejacobs> sorry -- i didn't know that was ruby-only
<davejacobs> sure i can do that
<davejacobs> re: middleware, i think that it has to go past middleware, no?
	     because many of the things to DRY up will relate to authentication
	     and other app concerns
<jkdufair> Raynes: thx for the nrepl tip.  works really nicely  [11:40]
<cemerick> The Ring "request lifecycle" is approximately: request -> function ->
	   response. Done. :-)
<davejacobs> cemerick: i thought about (comp), but am I going to have to do that
	     to every handler?
<brehaut> davejacobs: middleware is just a handler that might delegate to
	  another handler
<jkdufair> funny think about clojure.  you go away for 6 months and everything
	   changes
<cemerick> davejacobs: sure, middleware is just a special case of composition
<davejacobs> but there is the understanding that middleware decides what's
	     happening before it ever touches the app's business logic, no?
<davejacobs> at least in mvc
<cemerick> Middleware can do whatever it wants; it's just a function.  [11:41]
<davejacobs> my view could be uber skewed by rails. ps, i'm not new to clojure,
	     just clojure web dev
<brehaut> davejacobs: have you read my rambling introduction?
<cemerick> skewed?
<davejacobs> right -- i guess my question is about best practices. i'm wondering
	     if there are going to be any unforseen consequences to mixing
	     middleware logic with business logic
<davejacobs> brehaut, i don't know that i have
<brehaut> davejacobs: http://brehaut.net/blog/2011/ring_introduction  [11:42]
<cemerick> What if middleware *is* your business?
<brehaut> davejacobs: its worth taking some time to have a look at how compojure
	  does things
<brehaut> you'll learn a lot about what middleware can let you do
<davejacobs> okay will do
<davejacobs> cemerick: touche
<adamvh> Does clojure have some equivalent to functionp?
<davejacobs> i guess i always thought of middleware in the same way i think of
	     libraries
<cemerick> davejacobs: don't mind me; yes, read brehaut's post (it's tops), and
	   don't stress too much about "best practices"
<brehaut> davejacobs: compojure is basically a bunch of utilities to make
	  specific types of ring handlers  [11:43]
<xeqi> cemerick: hammer hammer
<davejacobs> i see
<davejacobs> well the thing i'm worried about is composability i guess -- not
	     necessarily "best practices"
<brehaut> davejacobs: in my article i say that i prefer moustache to compojure;
	  thats changed. big fan of compojure now
<davejacobs> brehaut -- ah okay, i did skim this article this morning. will
	     delve into it now
<davejacobs> oh yeah? why is that?  [11:44]
<davejacobs> more opinionated/less a la carte decision making?
<brehaut> first up its more popular by a massive factor, and more actively
	  developed as a result
<xeqi> I haven't seen a db related middleware; but you could checkout friend for
       auth
<davejacobs> i see  [11:45]
<cemerick> xeqi: hammer-time?
<davejacobs> is that friend-by-cemerick? haha
<brehaut> secondly, moustache has some nice tricks, but compojure has acquired
	  pretty much all of them since i wrote the article, and its got a bunch
	  (route destructuring ftw!) that moustache has no analogy
<jkkramer> adamvh: fn? or ifn?
<davejacobs> we should really be branding our OSS projects like they do with
	     clothing
<davejacobs> ooh route destructuring. it did not have that abt a year ago when i
	     looked into compojure  [11:46]
<brehaut> and compojure is a much more natural ring citizen
<davejacobs> nice
<cemerick> davejacobs: also, a thought:
	   http://cemerick.com/2011/01/13/how-should-clojure-applications-be-structured/
<davejacobs> okay, excellent
<davejacobs> thanks cemerick, i'll check it out
<samrat> I require'd clojure.data.codec.base64 but (b64/encode (.getBytes
	 "hello")) gives me #<byte[] [B@168c660d>. How do I get the base 64
	 value?  [11:47]
<davejacobs> ah okay, yeah that's great advice. i'm already feeling that
<davejacobs> any clojure expertise that i've built up transfers all the way --
	     which doesn't happen with Ruby/Rails
<davejacobs> i'm happy with that
<davejacobs> and what about noir? does it have a broader scope than compojure?
<brehaut> narrower scope  [11:48]
<brehaut> its sort of opinionated compojure
<brehaut> plus sugar
<davejacobs> gotcha
<brehaut> (its built on top of compojue)
<davejacobs> well, i don't like other people's opinions all up in my code, so
	     compojure it is ;-)  [11:49]
* jkkramer likes straight compojure
<akhudek> I also like straight compojure
<cemerick> It does seem to have pleasantly won the day.
<cemerick> Perhaps mixed with certain specialized additions like bishop.
<davejacobs> does noir take care of XSS, CRSF, etc.? i guess that's one thing i
	     don't want to opine about on my own  [11:50]
<akhudek> davejacobs: the session stuff is handled by ring  [11:52]
<jkkramer> there's middleware for csrf. xss depends on how you render views
<cemerick> davejacobs: jkkramer is referring to
	   https://github.com/weavejester/ring-anti-forgery, I presume
<davejacobs> okay awesome
<davejacobs> middleware saves the day huh  [11:53]
<jkkramer> yeah, that
<jkkramer> functions save the day
<brehaut> once you drink the pure functional middleware kool-aid, there is no
	  going back ;)
<jkkramer> I still find compojure's (GET …) syntax a little too macro-y but one
	   gets used to it
<akhudek> also, if you need html input sanitization, it is easy to use
	  http://code.google.com/p/owasp-java-html-sanitizer/
<davejacobs> you don't have to tell me to like a pure functional
	     request-response cycle
<davejacobs> haha
<akhudek> e.g. for rich text editor inputs  [11:54]
<davejacobs> akhudek: awesome, thx
<akhudek> speaking of security/attack/web layers, I also wrote an updated in
	  memory session library
	  https://github.com/diligenceengine/aging-session  [11:55]
<davejacobs> final question: any suggestions to auto-generate restful routes?
<akhudek> haven't gotten many comments on it yet
<davejacobs> i.e., in rails, there's a macro resources that generates the five
	     restful routes + routes for new and edit  [11:56]
<akhudek> I don't think there is any synthesis for that
<casion> you web guys make my head spin lol
<akhudek> It's worth pointing out that the recent github hack was also due to
	  unsafe defaults in the generated route handlers  [11:57]
<davejacobs> which hack? not the protected attributes hack
*** bitrot (~smd@ppp-70-253-76-241.dsl.austtx.swbell.net) is now known as
    sduckett  [11:58]
<akhudek> I'm no expert on it, but from what I understand, the default generate
	  handler accepted any form input parameter when doing updates.
<davejacobs> that wasn't a problem with the routes though, it was a problem with
	     which attributes were assignable to a model based on query
	     parameters  [11:59]
<akhudek> ah, ok
<davejacobs> all right, thanks for the advice guys. i'm gonna see if i can hack
	     away at this  [12:02]
<michaelr`> good morning clojourianz!
<eggsby> hi michaelr`  [12:04]
<holo> i have "web: lein2 with-profile $APP_ENV run" in Procfile, but logs in
       heroku show `lein with-profile prod run`. isn't that weird to be running
       a different command?  [12:08]
<holo> hi
<holo> oh, i got it, probably it's guessing since it can't find "lein2"  [12:10]
*** _zach (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now known
    as _zach|away  [12:13]
*** _zach|away (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now
    known as _zach  [12:15]
*** abstractj (~abstractj@redhat/jboss/abstractj) is now known as abstractj|away
									  [12:23]
*** _zach (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now known
    as _zach|away  [12:38]
<emezeske> Apparently people named Daniel like to contribute to lein-cljsbuild
									  [12:41]
<emezeske> Of the 12 contributors, 4 of them are Daniels
*** _zach|away (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now
    known as _zach
<mk> perhaps it's easy for them to see themselves contributing  [12:42]
<emezeske> "All the other Daniels are doing it, I should too"
<gtuckerkellogg> i want to switch to nrepl, but even though an nrepl server
		 starts, C-x C-e doesn't seem to evaluate  [12:49]
<gtuckerkellogg> I'm trying to get the latest nrepl, nrepl.el, and lein working
		 together  [13:03]
<gtuckerkellogg> if I evaluate something like (println "hello") i get nothing in
		 the *nrepl* buffer
<gtuckerkellogg> but if I evaluate (def foo 1), the var is defined properly
									  [13:04]
*** _zach (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now known
    as _zach|away  [13:09]
<gtuckerkellogg> cemerick?  [13:12]
<clojurebot> cemerick: Yeah, MacKay's book is great too.
<gtuckerkellogg> heh
<emezeske> technomancy: ping
<cemerick> gtuckerkellogg: I'm smoked, going to bed.  If you're still stuck
	   tomorrow, ping me…although I know nearly nothing about nrepl.el
	   FWIW. :-)  [13:13]
<gtuckerkellogg> ok, thanks
<gtuckerkellogg> maybe technomancy never sleeps  [13:14]
<gtuckerkellogg> ahh, found the answer in the google group for nrepl.el  [13:18]
* gtuckerkellogg note to self: RTFM
<brehaut> gtuckerkellogg: for those of us who have not RTFM, what was it?
									  [13:19]
<gtuckerkellogg> well, only the existence of the google group for nrepl.el is
		 noted on the github site :)
<gtuckerkellogg> but in that group, there is an animated discussion in the last
		 day of the same behavior I observed  [13:20]
<gtuckerkellogg> and the answer is that nrepl.el *swallows* output from nrepl
		 evaluations in the buffer
<gtuckerkellogg> which seems to most people (including me) like the wrong thing
		 to do  [13:21]
<gtuckerkellogg> and is inconsistent with the default behavior of slime
* gtuckerkellogg goes to check to see if the issue has been posted yet in github
									  [13:22]
<muhoo> it has  [13:38]
<rbxbx> jsabeaudry and fwiw they're serving JSON, which while originally
	JavaScript Object Notation the agreed upon API doesn't necessarily have
	anything to do with JavaScript these days.
<rbxbx> blah. clumsily worded words but you get my general point.  [13:39]
<muhoo> gtuckerkellogg: did you get nrepl.el squared away?  [13:54]
<gtuckerkellogg> muhoo, i found out that it does something surprising: it
		 swallows the ouput from any evaluation in the buffer
									  [13:56]
<gtuckerkellogg> so if I have (println "hello world") and C-x C-e eval, the
		 *nrepl* buffer shows nothing
<gtuckerkellogg> this is very different from slime, of course
<gtuckerkellogg> and not so useful when developing code that actually uses
		 stdout or stderr  [13:57]
<gtuckerkellogg> I submitted an issue on github to have it changed.  From the
		 google groups discussion, most people seem to agree
<muhoo> yes  [14:04]
<muhoo> is it nrepl that is swallowing stdout?
<muhoo> or nrepl.el?
<muhoo> gtuckerkellogg: wait, i just tried (println "fubar") in nrepl.el, and it
	worked  [14:06]
<muhoo> nREPL 0.1.4-preview
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|away  [14:07]
<gtuckerkellogg> muhoo, were you using nrepl-jack-in?
<muhoo> no  [14:08]
<gtuckerkellogg> that's where it happens
<muhoo> i'm running "lein trampoline repl :headless", and then connecting via
	the network
<gtuckerkellogg> hmmm
<muhoo> using lein 2.0 master though  [14:09]
<gtuckerkellogg> i'm just running nrepl-jac-in-from emacs
<gtuckerkellogg> nrepl-jack-in, that is
<muhoo> maybe try "lein repl :headless" (no trampoline), and then in emacs "M-x
	nrepl"
<gtuckerkellogg> It's documented in the group discussion here:
		 https://groups.google.com/forum/#!topic/nrepl-el/3GDsRkX1IDE
* gtuckerkellogg goes to try that
<gtuckerkellogg> that still doesn't capture the output  [14:10]
<gtuckerkellogg> maybe you are using an earlier version of nrepl.el  [14:11]
<gtuckerkellogg> he mentioned he had it sent to the *nrepl* buffer at one point,
		 but changed it
<muhoo> i'm on the latest git master of nrepl as of like yesterday  [14:12]
<gtuckerkellogg> oh, let me be clear: it captures if the (println "foo") is done
		 in the *nrepl* buffer itself!
<muhoo> nrepl.el, i mean
<gtuckerkellogg> but if I C-x C-e in another buffer that's connected to the
		 nrepl, it doesn't capture it
<muhoo> i did this: https://www.refheap.com/paste/4571
<muhoo> which was what i'd expect  [14:13]
<muhoo> oh, i don't C-x C-e, that'd explain that
<gtuckerkellogg> From Tim himself in the google group discusison: "Presently
		 nrepl.el swallows stdout output from evaluations in a clojure
		 buffer.  "
<muhoo> oh. well, that sucks.  [14:14]
<gtuckerkellogg> i agree
<gtuckerkellogg> he's open to changing it, though, so I submitted an issue on
		 github
<muhoo> i saw a commit that pops up for stdin
<muhoo> i found nrepl.el super easy to hack on.
<gtuckerkellogg> muhoo, doing what you did in the refheap works fine for me.
									  [14:15]
<gtuckerkellogg> it's in the *nrepl* buffer itself
<muhoo> ok, good, that makes sense.
<gtuckerkellogg> it's evaluating and sending to the nrepl buffer that swallows
		 the output of evaluation
<gtuckerkellogg> which still make sense, but it's the wrong thing to do :)
<muhoo> gtuckerkellogg: fire up yer elisp chops and fix it :-)  [14:16]
<gtuckerkellogg> i'm confident tim is faster than me :)
<gtuckerkellogg> but I might head down that road
<muhoo> i'd  recommend it. it's surprisinngly fun to be able to actually
	understand and modiffy a block of elisp
<gtuckerkellogg> yes  [14:17]
<gtuckerkellogg> i contributed the most minor little thing to org2blog once, and
		 I was so f'ing proud of myself :)
<muhoo> the nice thing about nrepl.el is it was written by clojure hackers, so
	it's simple and readable.  [14:18]
<gtuckerkellogg> heh
*** jasonjckn_ (~jasonjckn@173-164-196-201-SFBA.hfc.comcastbusiness.net) is now
    known as jasonjckn  [14:50]
<ro_st> if i want to use my own lein project as a dependency in another lein
	project, does it have to exist as a jar somewhere for me to be able to
	use it in checkouts?  [15:09]
<ro_st> i have it symlinked in checkouts but lein deps is failing when trying to
	resolve a jar
<jasonjckn> ro_st: shouldn't need to make jar, just the symlink should be
	    sufficient  [15:10]
<jasonjckn> try #leiningen  [15:11]
<xeqi> ro_st: yes; lein needs to be able to run without checkouts
<ro_st> ok. i did a lein install from the subproject
<ro_st> does my checkout folder structure have to match the project name, eg,
	for (defproject orgname/projectname …), do i need
	checkouts/orgname/projectname ?  [15:12]
<xeqi> I don't think so
<jasonjckn> checkouts/sym-link
<jasonjckn> you can name it anything afaik  [15:13]
<ro_st> excellent, thanks guys. testing  [15:14]
<ro_st> doing the whole refactor model code out to a common project thing
									  [15:15]
<xeqi> ro_st: the thing to watch out for with checkouts is if you change the
       dependencies
<xeqi> then you need to do a lein install again
<ro_st> change the deps in the subproject itself?  [15:16]
<ro_st> that makes sense
<ro_st> i vaguely recall something about cloudbees being the way to privately
	host jars for use with lein/maven?
<ro_st> cos i know jenkins is going to need some sane way to do all this  [15:17]
<xeqi> there are a few ways
<xeqi> https://github.com/technomancy/s3-wagon-private
<xeqi> or running http://www.sonatype.org/nexus/  [15:18]
<ro_st> awesome, thanks xeqi!
<xeqi> there are other servers, but thats the common one
<ro_st> we have a java veteran joining us in september. i think i'll let him
	figure this part out :-)  [15:20]
<magopian> what would be the simplest, most idiomatic way to count the number of
	   occurences of an element in a sequence?  [15:23]
<magopian> i can see two solutions already: partition-by identity (and grab the
	   key of the "occurence value")
<magopian> or count the filtered seq  [15:24]
<xeqi> (doc frequencies)
<clojurebot> "([coll]); Returns a map from distinct items in coll to the number
	     of times they appear."  [15:25]
<magopian> mmm, that would give something roughly around the same as
	   partition-by identity i guess  [15:26]
<magopian> thanks xeqi
<magopian> it's not "partition-by" that i meant, but "group-by" obviously ;)
									  [15:27]
<magopian> but frequencies looks much better, thanks a lot xeqi ;)
<ro_st> anyone using checkouts and cljsbuild's crossovers? :-(  [15:33]
<ro_st> oh, :extra-classpath-dirs worked -phew-  [15:34]
<samrat> how do I convert a string into a stream, so that I can use it with
	 clojure.data.codec.base64?  [15:36]
<ro_st> samrat:
	https://github.com/mmcgrana/ring/blob/master/ring-core/src/ring/util/io.clj#L26
									  [15:37]
<samrat> ro_st: apparently, base64 doesn't work with
	 java.io.ByteArrayInputStream  [15:42]
<samrat> btw, what is ^String?
<ro_st> a type annotation so that the runtime doesn't have to use reflection to
	determine on what type to dispatch  [15:43]
<samrat> ro_st: ah, okay. but any idea how to convert a string to base64?
									  [15:44]
<ro_st> https://github.com/remvee/clj-base64
<ro_st> i used this fantastic web app where you type what you're looking for and
	it gives you links to other webpages with answers  [15:45]
<ro_st> you might have heard of it -grin-
<samrat> ro_st: i was suggested clojure.codec and I kinda got lost in trying to
	 make it work  [15:46]
<ro_st> to be honest, i have no idea. never had to do it. can't think that
	you're the first
<samrat> thanks, anyway. I'll check out clj-base64  [15:47]
<ro_st> good luck. let us know what you find!  [15:48]
<ejackson> ro_st: LMGTFY !  [15:49]
<ro_st> yup. was too lazy to actually use it -grin-
<djcoin> :D  [15:51]
<djcoin> "fantastic web app"
<hyPiRion> $search Clojure base64  [15:52]
<lpetit> Hello there
<hyPiRion> aight, it's not enabled.
<djcoin> HelloO  [15:54]
<ejackson> bonjour Frenchie !  [15:55]
*** treehug_ (~treehug@cpe-70-124-83-7.austin.res.rr.com) is now known as
    treehug  [15:58]
<lpetit> ejackson: hello, CCW refugee :-p  [16:10]
<magopian> man, i'm proud of my solution to 4clojure's problem 94 (game of
	   life), not using indexes of any kind ;)  [16:23]
<magopian> took me ages to come up with though, and my brain hurts now  [16:24]
<clgv> lpetit: I saw you being active on the issues. next beta release today?
<clgv> lpetit: good morning,btw ;)  [16:25]
<lpetit> clgv: after the holidays, my plate is quite full, so I'm not sure
<lpetit> good morning :)
<lpetit> clgv: are there some outstanding things you're waiting for ?
<clgv> lpetit: not really. just wanted to interpret the activity ;)
<lpetit> clgv: yeah, the activity means I'm back :)  [16:26]
<clgv> lpetit: ah wel the leiningen/hooks problem annoys me a bit ;)
<lpetit> clgv: will give it a try
<miaoski> Hi.
<lpetit> not no, but in a few hours
<lpetit> miaoski: hi
<clgv> lpetit: I wish I could tell CCW to just ignore it, since CCW doesnt build
       my uberjars anyway ;)  [16:27]
<clgv> lpetit: but can't do it with profiles since lein2-preview8 had also a bug
       regardin hooks and profiles...
<lpetit> clgv: are the bugs in preview8 corrected and released ?  [16:28]
<lpetit> it's becoming annoying, this moving target :)
<clgv> lpetit: dont remmeber the changelog. btw: does CCW's leiningen plugin
       already support using leiningen's local installation?  [16:29]
<lpetit> clgv: what do you mean ?
*** jszakmei` (bip@2600:3c03::f03c:91ff:fe93:eede) is now known as jszakmeister
<clgv> lpetit: I remember that there was a thought to not only package leiningen
       as lib dependency for CCW but use what is installed on the system  [16:30]
<lpetit> clgv: well, no, leiningen-core is currently still packaged. May not
	 change soon.  [16:31]
<clgv> lpetit: ok, just wanted to know. someone ask during the last days...
									  [16:34]
<clgv> *assked  [16:35]
<clgv> *asked
<tomoj> magopian: you mean you don't use vector get with and index?  [16:36]
<tomoj> s/and/an/
<clgv> lpetiti: what is your current development focus: CCW features or support
       for more leiningen features?
<lpetit> clgv: leiningen = bug correction + slight improvements of the existing
	 features (better error reporting, missing import wizard, etc.). And the
	 bunch of work on the editor: adding what is missing (right now: better
	 code completion support, and then better auto-indenting, selection
	 indentation, file indentation). Also, Chas has been working on
	 improving nrepl recently, so I'll have to integrate the changes. Only
	 then will I do a second ro  [16:40]
<lpetit> on leiningen: I'll have to figure a way to allow people to allow people
	 to discover and launch tasks from within CCW (goal: they should not
	 have a distinct local installation of leiningen2 except for exceptional
	 occasions/situations)
<lpetit> clgv: ah, for leinigen, a specific feature might be developed first as
	 an exception: correct handling of :repl / :nrepl properties of
	 project.clj, so that they are used instead of the current mechanism (if
	 found)  [16:41]
<lpetit> LOL: working extensively from live interaction with the REPL, I fix &
	 test a bug without even having (still) saved the file, and then I'm
	 really surprised to not be able to stage the changes via git guy :)
									  [16:46]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR
<clgv> lpetit: ok. interesting. with regard to repl the :injections attribute is
       interesting e.g. to automaticall require/use certain namespaces by
       default when starting a repl  [16:50]
<lpetit> clgv: yeah, :injections too
<lpetit> clgv: it's just the equivalent of the -e flag of clojure.main, right?
									  [16:51]
<clgv> I have some debugging stuff that I would like to be injected in every
       repl via the :dev profile
<clgv> lpetit: uh, I never checked it's implementation
<lpetit> ok, I'll check later, no rush  [16:52]
<clgv> lpetit: from the comments in the sample.project.clj, I would guess that
       it might be actually implemented in eval-in-project
<lpetit> clgv: hmm, okay  [16:53]
<clgv> lpetit: but if you would let leiningen start up the nrepl server you
       should have that automatically. I dont know if thats an option...
<lpetit> clgv: right
<lpetit> clgv: are you using the beta version?  [16:54]
<lpetit> of ccw
<clgv> not here at work
<lpetit> and @ home
<lpetit> ?
<clgv> I have an old one @home
<lpetit> okay
<clgv> gotta update it ^^
<lpetit> sure, the last I pushed just before going into holidays is a winner,
	 really :)  [16:55]
<lpetit> cemerick said he can't live without it :)
<clgv> because of better autocompletion?
<lpetit> clgv: yes.  [16:56]
<clgv> uh, gotta try it
<lpetit> clgv: AFAIK, nobody went back from the beta to the stable while in
	 holidays (~3 weeks)  [16:57]
<ejackson> autocompletion !
<lpetit> ejackson: autocompletion, yea. I used clojure-complete as a basis, and
	 tweaked it quite a bit: decomplecting (ha! the new buzz word !) it
	 (separating rendering from filtering from sorting). And I implemented
	 CCW specific sorting / filtering functions, trying to do something
	 close to what TextMate / SublimeText offer (match letters in sequence,
	 but anywhere inside a matching completion candidate)  [17:01]
<lpetit> ejackson: also, does not only offer suggestions based on the dynamic
	 repl context, but from symbols / keywords found in the editor, as well.
<lpetit> ejackson: symbols / files : if you try to complete a symbol, it will
	 also suggest symbols based on keywords (e.g. you have the keyword
	 :dependencies, if you type dep then dependencies will be suggested)
									  [17:02]
<ejackson> lpetit: brilliant !!
<lpetit> ejackson, clgv: and it does keyword completion based on the keywords
	 found in the file  [17:03]
<lpetit> so yeah, this beta has a lot of potential in it
<nkkarthik> lpetit: since we are at it... may I know what you guys think of
	    https://github.com/ninjudd/clojure-complete/issues/12
<clgv> lpetit: sounds like a definite update this evening ;)  [17:05]
<clgv> nkkarthik: sounds good  [17:06]
<ejackson> i'm gonna develop in CCW today.  Retraining my emacs-fingers is hard
	   :)
<lpetit> nkkarthik: the interop story (completing class names, etc.), is still a
	 WIP in CCw. Once done, completion for classes should work like this
	 (compare with the examples you provided): type "Fra" and you'll get
	 "javax.swing.JFrame" (notice I did as a newby users not knowing I must
	 prepend a J in front of Frame). No need for wildcards.  [17:07]
<nkkarthik> clgv: cool, thanks :) I am not sure if others need it... I kinda
	    found it easy for my stuff  [17:08]
<lpetit> nkkarthik: I'll give you an honest answer: having the ability to type
	 "Win*Ad" for "WindowAdapter" does not appeal to me. The wildcard is
	 powerful, but it's a double edged sword. And it's still one character
	 more than "WinAd" (granted, "WinAd" will return more noise than
	 "Win*Ad" in theory, and probably still a little in practice)
									  [17:09]
<michaelr`> humhum  [17:11]
<magopian> tomoj: nope ;) i partition the board in 3x3 cells, and count the
	   neighbours ;)
<nkkarthik> ,ccw  [17:12]
<clojurebot> #<CompilerException java.lang.RuntimeException: Unable to resolve
	     symbol: ccw in this context, compiling:(NO_SOURCE_PATH:0)>
<ejackson> lepetit: how do I get the beta ?  0.9.0-STABLE is all I see in the
	   "Add new software" thingie
<michaelr`> i wonder whether has anyone built a generic admin interface in
	    clojure, for editing database tables etc?
<lpetit> ejackson: maybe by reading the emails I send to you more carefully ?
	 :-p
<lpetit> ejackson: http://ccw.cgrand.net/updatesite-betas/   . Different
	 "channel"
<ejackson> aha !  [17:13]
<ejackson> more carefulness needed :P
<nkkarthik> lpetit: yeah I totally agree... just WinAd is more easy than Win*Ad
									  [17:14]
* ejackson blushes
<mindbender1> when doing nrepl-jack-in in emacs, nrepl-init-repl-buffer is
	      called with nil and an error is thrown, any one had this
	      experience? Here is a gist: https://gist.github.com/3434519
<nkkarthik> lpetit: I do have to agree I did just a 15 min hack there
<mindbender1> I'm on emacs-snapshot  [17:15]
<alfborge> I'm usinc http.async.client to get a web page. The page does not
	   specify encoding, so the *default-encoding* is used. This is a
	   ^dynamic ^private var. Is there a way for me to override this?
									  [17:16]
<brunchpoems> mindbender1: maybe your profiles.clj is wrong?
<brunchpoems> (I'm not really sure what I'm talking about, but I had a problem
	      earlier that was caused by that)
<mindbender1> brunchpoems: do you mean if it's based on lein1?
<brunchpoems> no, nrepl requires lein 2.x I believe  [17:17]
<mindbender1> my project is lein2
<alfborge> Nevermind, got it.
<brunchpoems> oh, nevermind, ignore me sorry
<brunchpoems> I didn't have to add anything to profiles.clj to get nrepl to
	      work, :/
<nkkarthik> lpetit: so ccw will be merged to clojure-complete or the other way?
									  [17:18]
<mindbender1> brunchpoems: what specifically did you do to get it to work it
	      just might work for me too  [17:19]
<brunchpoems> mindbender1: I was actually confused between two different
	      problems I had earlier today, the profiles.clj thing was for
	      swank-clojure :(
<brunchpoems> nrepl worked out of the box for me after I installed it through
	      the emacs package manager
<lpetit> nkkarthik: ccw has currently a forked version of clojure-complete. When
	 things stabilize, I'll work with clojure-complete maintainers to find
	 opportunities to reinject generic parts of the ccw port into
	 clojure-complete
<nkkarthik> lpetit: I mean will I be able to use ccw without eclipse?... sorry
	    haven't looked at it... will look at it this weekend
<mindbender1> brunchpoems: ok np.. thanks for caring anyway
<brunchpoems> mindbender1: no problem, I'll do some googling to see if I can see
	      anything related to your error message  [17:20]
<mindbender1> brunchpoems: thanks.. I'd appreciate any kind of help
<lpetit> nkkarthik: no, ccw is a lot of things, very vertical. It can't work
	 without eclipse. But most headless parts have been developed in a
	 library manner (paredit.clj, clojure-complete additions, etc.)
									  [17:21]
<nkkarthik> lpetit: oh ok so when it's done it will be merged into
	    clojure-complete... got that
<brunchpoems> mindbender1: did you install through emacs package manager as well
									  [17:22]
<brunchpoems> *?
<clojurebot> * is just for when you are lazy and sloppy
<mindbender1> brunchpoems: yeah I did
<mindbender1> M-x package-install [RET] nrepl [RET]
<brunchpoems> right, yeah
<nkkarthik> lpetit: ah ok, I will try to look at the clojure-complete part of
	    ccw and if I can use it  [17:23]
<lpetit> nkkarthik: right now it's too early, things are not stabilized, it's
	 even hard to find (I put it as a secondary namespace inside an existing
	 file :) )  [17:24]
<ejackson> lpetit: hey, that autocompletion is groovy !
<lpetit> ejackson: thanks man :)
<nkkarthik> lpetit: so kind of you :D  [17:25]
<naeg> is clojure really that much slower than java?
       http://shootout.alioth.debian.org/u32q/compare.php?lang=clojure
<mindbender1> lpetit: does ccw work well on eclipse juno?
<nkkarthik> lpetit: just kidding... my problem is I am not in good terms with
	    eclispe
<brunchpoems> mindbender1: are you doing nrepl-jack-in from a clj file?  [17:26]
<clgv> naeg: well you have to look at the implementation that is used there
       before concluding anything from the charts and numbers
<mindbender1> brunchpoems: yes
<nkkarthik> lpetit: and yeah I understand things are in infancy... thank you for
	    the info
<lpetit> mindbender1: yes  [17:27]
<mindbender1> lpetit: ok.. thanks will try it out
<naeg> clgv: well it says "fastest" on both sides, and java is about 3-8 times
       faster (depending on the problem)  [17:28]
<lpetit> nkkarthik: I have vague plans (when musing under the shower) to do
	 something else than just "within and for" Eclipse, but that's just
	 musing. When I have time for that, it will then probably best spent
	 extracting more libraries from CCW for use for others.
<clgv> naeg: I mean it depends strongly on the implementation. you can optimize
       your code for a givenproblem. the question is if it was done for that
       implementation  [17:29]
<naeg> clgv: but in general - can one say that java is faster than clojure?
									  [17:30]
<naeg> or, either "a bit faster", "much faster", ...
<clgv> naeg: another problem is that all those benchmark problems have a pretty
       short duration. so clojures compile time is included in the time as well
									  [17:31]
<nkkarthik> lpetit: yeah that would be great... or someone else can also take
	    that burden for you, I suppose
<lpetit> naeg: there's no point arguing that java is (and probably will, at
	 least for a long time) be at least "a bit faster" than Clojure on the
	 JVM
<lpetit> naeg: the point being, does that matter for your application or not.
<noidi> naeg, I'd guess that your first Java version is very likely to be faster
	than your first Clojure version  [17:32]
<naeg> it doesn't matter for me actually, just talking to a prof.
<noidi> but then again, the latter is very likely to be much more maintainable
<naeg> so, performance might be an issue when using Clojure instead of Java -
       but Clojure can be farely optimized  [17:33]
<noidi> and as the adage goes, it's much easier to make clean code perform well
	than to clean up an optimized mess
<lpetit> noidi: very true
<lpetit> naeg: try to reach grand on the topic of clojure & perf. He has good
	 "from the trenches" stories to tell about (parsley, enlive, etc.)
									  [17:34]
<ejackson> noidi: write only code its own punishment
* ejackson is looking at Larry Wall
<noidi> naeg, dnolen (david nolen) is another person who regularly helps people
	optimize their code on the mailing list  [17:35]
* nkkarthik remembers the joke 'Java is "Write Once Run Away"'
<noidi> and he seems to always get the seemingly dog-slow code to run at nearly
	the speed of optimized Java :)
<naeg> noidi: I'm actually far away from optimizing code. I just wanted to show
       my prof. Clojure and ask him what he thinks about it. His only concerns
       was performance, but other than that he said it's interesting  [17:36]
<mindbender1> I suspect there's a bug in nrepl.el  [17:37]
<mindbender1> specifically the duo of (switch-to-buffer-other-window
	      (generate-new-buffer-name "*nrepl*"))) returns nil in my emacs
									  [17:39]
<mindbender1> which causes it to throw an error further down
* nkkarthik is amused to know that there are professors obsessed with
  performance over code beauty  [17:41]
<brunchpoems> none of my professors so far have been very good at the code
	      beauty aspect of programming  [17:43]
<nkkarthik> brunchpoems: oh I am sorry to hear that... but then we have clojure
	    bookshelf, don't we :)  [17:46]
<lpetit> nkkarthik: well, performance, if taught about algorithms and their
	 asymptotic complexity, is an important topic. Performance of the
	 constant factors, on the other hand, is less important and should
	 indeed not drive too much attention  [17:47]
<mindbender1> nkkarthik: what do you mean exactly by code beauty  [17:48]
<mindbender1> I think beauty is a vague word
<nkkarthik> lpetit: yeah so true  [17:50]
<nkkarthik> lpetit: I meant there's nothing to be obsessed about
	    it... regarding... "his only concern is performance"  [17:52]
<nkkarthik> mindbender1: wow... did I start something here :)
<mindbender1> Well..maybe. Depends on you..this is a public forum  [17:53]
<nkkarthik> mindbender1: yes, sir, it is a vague word  [17:54]
<nkkarthik> mindbender1: you should hear the other guy... he said... "lisp is
	    good for your soul"... now what kinda word is soul :)  [17:56]
<mindbender1> nkkarthik: well vagueness has been a source of confusion.. like
	      Rich Hickey says words eventually come to mean whatever you want
	      it to mean  [17:57]
<mindbender1> moreover lisp was not good for my soul when I was learning it
									  [17:58]
<mindbender1> especially caused by people whom I suspect felt that lisp was
	      beautiful then went ahead and complected everything  [17:59]
<nkkarthik> ha ha ha... yeah things tend to go wrong  [18:01]
* nkkarthik makes a note to use 'complect' from now on  [18:02]
*** abstractj|away (~abstractj@redhat/jboss/abstractj) is now known as abstractj
<mindbender1> nkkarthik: Also note that simplicity to me and to Rich Hickey is
	      more important that beauty in this case  [18:03]
<nkkarthik> well, I am sorry to have complected the discussion by using a vague
	    word
<mindbender1> nkkarthik: no you didn't
<mindbender1> I'm happy you brought up that word  [18:04]
* nkkarthik is thinking whether simple is a vague word... or was that easy
									  [18:05]
<nkkarthik> simplicity is part of, if I dare use the word again, beauty :)
									  [18:06]
<mindbender1> nkkarthik: on infoq Rich Hickey's SimpleMadeEasy will set you
	      straight
<nkkarthik> mindbender1: oh will get right on it, thank you  [18:09]
<michaelr`> hmm  [18:11]
<michaelr`> so is there anything out there to scaffold crud interfaces for
	    clojure?  [18:12]
<tmartiro> hello all  [18:20]
<tmartiro> does anyone know library for facebook graph api?
<nkkarthik> lpetit: you have a very valid point there... performance should be
	    concerned about the nature of algorithm... rather than nature of
	    programming language... I never participated in a language war
	    before... was tempted to but mindbender1 set me straight :)
									  [18:21]
<michaelr`> tmartiro: https://github.com/maxweber/clj-facebook-graph
<tmartiro> michaelr`, thanks a lot  [18:22]
<Sgeo> How easy/difficult/annoying would it be to write a a library that Java
       users would experience as idiomatic in Clojure?
<michaelr`> tmartiro: i'm using it, though it has problems. check the patches
	    submitted
<tmartiro> michaelr`, ok
<Sgeo> Because I know maps are used in Clojure to store data frequently, and
       wouldn't Java people make a class? So the Clojure way loses some of
       Java's static typing, afaict.
<michaelr`> tmartiro: seems that nobody maintains it the moment so the patches
	    are not merged
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [18:29]
<josteink> hey guys. any tips on a reasonably simple ircbot/irc framework
	   written in clojure?  [18:30]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [18:33]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [18:41]
<michaelr`> so is there anything out there to scaffold crud interfaces for
	    clojure?  [18:48]
<clgv> josteink: check the source of clojurebot and lazybot  [18:53]
<josteink> clgv: so far clojurebot seems... finicky  [18:56]
<josteink> was first one I checked
<josteink> doing a basic "lein deps" fails on lots of dependencies
<josteink> have to fiddle with mixed repos. and documentation is a bit meh
									  [18:57]
<josteink> but getting better results with lazybot now
*** cmiles74` (~user@97-80-127-137.dhcp.oxfr.ma.charter.com) is now known as
    cmiles74  [19:05]
<clgv> josteink: lazybot is probably more interesting  [19:09]
*** vojd_ (~vojd@194.14.172.47) is now known as vojd  [19:23]
*** qmx|away (~qmx@redhat/jboss/qmx) is now known as qmx  [19:30]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [19:43]
*** abstractj (~abstractj@redhat/jboss/abstractj) is now known as abstractj|brb
									  [19:54]
<naeg> I want to map a function which prints something out over a range of
       numbers, but with a (println) between each of them. I'm using -> for
       this, but I don't think that's really correct. simplified version:
       http://cljbin.com/paste/50361a45e4b0e7c03fb276ea  [19:55]
<naeg> instead of (print %) there is my function which does something more
       exciting with those numbers, but also printing something out at the end
									  [19:56]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [19:57]
<jsabeaudry> naeg, (map #(println (yourfun %)) (range 5)) ?  [19:58]
* naeg *facepalm*  [19:59]
<naeg> thanks jsabeaudry
<jsabeaudry> will still return a sequence of nils however, i'm not sure exaclt y
	     what you want  [20:00]
<nkkarthik> naeg: if you don't want the mapped values you can do
<nkkarthik> (map (comp println yourfunc) (range x))
<nkkarthik> if you also want the mapped values you can do
<nkkarthik> (map (comp second (juxt println yourfunc)) (range x))  [20:01]
<nkkarthik> the first one just prints values and returns nils  [20:02]
<nz-_> ,(doc comp)
<nkkarthik> the second one prints as well as returns the values
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|mtg
<clojurebot> "([] [f] [f g] [f g h] [f1 f2 f3 & fs]); Takes a set of functions
	     and returns a fn that is the composition of those fns. The returned
	     fn takes a variable number of args, applies the rightmost of fns to
	     the args, the next fn (right-to-left) to the result, etc."
<jsabeaudry> (map #(doto (yourfun %) (println)) (range 5))
*** abstractj|brb (~abstractj@redhat/jboss/abstractj) is now known as abstractj
<nz-_> ,(doc partial)  [20:03]
<clojurebot> "([f arg1] [f arg1 arg2] [f arg1 arg2 arg3] [f arg1 arg2 arg3 &
	     ...]); Takes a function f and fewer than the normal arguments to f,
	     and returns a fn that takes a variable number of additional
	     args. When called, the returned function calls f with args +
	     additional args."
<naeg> the thingy with comp dooesn't work for me?
<naeg> ,(map #(comp println (print %)) (range 5))
<clojurebot> (01234#<core$comp$fn__2453 clojure.core$comp$fn__2453@6664e769>
	     #<core$comp$fn__2453 clojure.core$comp$fn__2453@6a94d303>
	     #<core$comp$fn__2453 clojure.core$comp$fn__2453@50a9a09f>
	     #<core$comp$fn__2453 clojure.core$comp$fn__2453@30705018>
	     #<core$comp$fn__2453 clojure.core$comp$fn__2453@1d9a7080>)
<nkkarthik> naeg: there is no # with comp
<naeg> ,(map (comp println (print %)) (range 5))
<clojurebot> #<CompilerException java.lang.RuntimeException: Unable to resolve
	     symbol: % in this context, compiling:(NO_SOURCE_PATH:0)>
<nkkarthik> naeg: comp takes functions  [20:04]
<nkkarthik> ,(map (comp println #(print %)) (range 5))
<clojurebot> (0nil
<clojurebot> 1nil
<clojurebot> 2nil
<clojurebot> 3nil
<clojurebot> 4nil
<clojurebot> nil nil nil nil nil)
<naeg> oh, but I still have the nils, so it's no real difference to (map
       #(println (yourfun %)) (range 5)) ?
<nkkarthik> naeg: yes
<nkkarthik> if you want the values as well as print you can do  [20:05]
<nkkarthik> ,(map (comp second (juxt println double) (range 4)))
<clojurebot> #<ArityException clojure.lang.ArityException: Wrong number of args
	     (1) passed to: core$map>
<nkkarthik> ,(map (comp second (juxt println double)) (range 4))  [20:06]
<clojurebot> (0
<clojurebot> 1
<clojurebot> 2
<clojurebot> 3
<clojurebot> 0.0 1.0 2.0 3.0)
<nkkarthik> now we both print the doubles as well as return them
<naeg> thanks all  [20:07]
<nkkarthik> of course there are other ways too... :)
<Fossi> oh, can you get the bot banned for spamming with println?  [20:10]
<Fossi> no, you can't  [20:11]
<talios> hum_ph!  [20:13]
<hum_ph> heyo
<hum_ph> right... time for >140 characters verbosity :)  [20:14]
<hyPiRion> Fossi: The bot stops after some time.
<talios> so… order dependant builds huh… someone was asking about that on the
	 dev list the other day as well
<talios> i'm a bit behind in email so that might have been you actually :) hah
									  [20:15]
<hum_ph> nah - haven't gone that far yet - still just getting to the point of
	 "that's odd"
<hum_ph> I'm implementing clojure scripting support for liferay... it comes in
	 two parts - a startup hook to register the script executor, and the
	 executor iteself
<talios> nice :)
<hum_ph> both are :gen-class - and there's a 1-way dependency from the
	 register-er to the executor  [20:16]
<hum_ph> for conciseness - let's just cool them "hook" and "executor"
<hum_ph> the hook references the executor so it can create it, pass the thread
	 classloader in (don't ask), and then register it within liferay
									  [20:17]
<hum_ph> the executor is self contained
<talios> so it works if the ns's are listed in the correct order?  From memory I
	 have them in a set currently, so order isn't guaranteed
<hum_ph> yeah
<hum_ph> ClojureScriptingExecutor.clj and
	 ClojureScriptingExecutorRegistrationAction.clj works
<hum_ph> but - if i happen to change it so they're the other way round - kaboom
									  [20:18]
<cemerick> talios: hallo
<talios> hola cemerick
<talios> it'd be great if the clojure compiler worked out the order for us, but
	 since its just a reader/eval that doesn't really work.
<cemerick> you're gonna be screweeed tomorrow morning :-)  [20:19]
<talios> if I use a List, or something that guarantees the order that should
	 work...
<talios> cemerick - taking the day off, driving for 5 hours to the parents place
	 for a friends 40th
<hum_ph> that's the reason i gave the mutually dependent scenario
<cemerick> talios: anyway, an odd thing: it seems that unqualified usages of
	   `resolve` cannot be used in tests run through c-m-p…?
<talios> so sleep in :)
<talios> cemerick - hrm, first I've heard of that one  [20:20]
<cemerick> OK, I'll see if I can replicate in a simpler project.  I was pushing
	   when I ran into it, and just patched around it in the test.
									  [20:21]
* talios sadly hasn't actualy done any clojure in many many a month - cowork
  using it quite a bit with storm tho
<talios> wb  [20:22]
<hum_ph_> meh... laptop crashes
<hum_ph_> so - from my POV, it's all fine, because I happen to have things in
	  the "right" order...  [20:23]
<hum_ph_> but it feels a bit sub-par to need to name files alphabetically in the
	  order i need them compiled  [20:24]
*** hum_ph_ (3a6f91ba@gateway/web/freenode/ip.58.111.145.186) is now known as
    hum_ph
<hum_ph> and the cyclic dependency example makes that workaround unfeasible as
	 well  [20:25]
<talios> mmm, the only way around that would be to right something that parses
	 the discovered .clj files, and sorts based require/imports
<hum_ph> or encourage people to come up with creative names ;)  [20:26]
*** PuercoPop (~PuercoPop@190.41.173.174) is now known as Guest75729
<talios> 1_hook.clj 2_controller.clj ? :)
*** Guest75729 (~PuercoPop@190.41.173.174) is now known as PuercoPop420  [20:27]
*** qmx|mtg (~qmx@redhat/jboss/qmx) is now known as qmx  [20:28]
<hum_ph> and hope to god we don't need 1.5_middleware.clj
<talios> any idea what leiningen does in this scenario?  [20:30]
<hum_ph> nope - haven't tried it
<cemerick> what's the issue?
<hum_ph> dependency resolution of AOP compiled (:gen-class)es  [20:31]
<cemerick> ah
<hum_ph> listed alphabetically which matches expected compilation order -- all
	 good  [20:32]
<cemerick> Should try to keep your AOT stuff quarantined, much like infectious
	   disease.
<hum_ph> yup
<talios> you dynamic language lover you :)
<hum_ph> this is integrating with liferay code - so needs a) named java classes
	 for implementation; b) extending abstract classes
<hum_ph> but - it's the integration point - so everything behind that should be
	 reasonably clean (or as clean as someone who's been writing clojure for
	 a week can make it!)  [20:33]
<cemerick> talios: if I can't load it into a REPL, then it can't be helping me
	   very much :-)  [20:36]
<talios> don't make me get all frege on your behind ;p   it even now has a repl
<talios> hum_ph - is it possible to declare some interfaces in java, and use
	 them from the clojure as a way around it? mm  [20:40]
<talios> thats rather iki tho
<hum_ph> for one of the two, I could reimplement the abstract class that
	 provides 80% of it in clojure and then use that...  [20:42]
<hum_ph> the other one no: liferay actually uses an abstract class with 1
	 abstract method and nothing else in lieu of an interface  [20:43]
*** jcrossley3-away (~user@68.114.25.210) is now known as jcrossley3
<magopian> is there a way to use the solution from
	   http://www.learningclojure.com/2010/11/levenshtein-distance-edit-distance.html
	   to the problem 101 on 4clojure?  [20:44]
<magopian> it seems not, as it needs forward declaration, (if using the solution
	   from fatvat)  [20:45]
*** pepijn_away (~pepijndev@ec2-23-21-19-58.compute-1.amazonaws.com) is now
    known as pepijndevos
<magopian> or a defn (which seems to be forbidden by 4clojure)
<talios> hum_ph - mmm, is it possible to use deftype at all - rather than
	 gen-class?
<magopian> otherwise i'll give a try at the "imperative way" explained in the
	   wikipedia page  [20:46]
<hum_ph> for one of the classes - yeah  [20:47]
<hum_ph> means a bit of repetition of existing abstract classes - but nothing so
	 complex it'd be a pain to reproduce (or a waste to not use)
<Sgeo> Is conj basically just a function that "adds" to the most efficient place
       to put a new element?  [20:53]
<stuartsierra> Sgeo: yes  [20:56]
<Sgeo> Why do binding forms such as let and lambda-lists use vectors?  [21:00]
<antares_> Sgeo: for the bindings part to stand out visually  [21:01]
*** PuercoPop420 (~PuercoPop@190.41.173.174) is now known as PuercoPop  [21:04]
<gerry1> hello  [21:12]
<gerry1> can't make nrepl work
<gerry1> i always get "couldn't bind to address " messages when "nrepl-jack-in"
									  [21:13]
*** amalloy_ (~amalloy@li231-96.members.linode.com) is now known as amalloy
<gerry1> error in process sentinel: Could not start nREPL server  [21:15]
<gerry1> i don't know what's wrong
<gerry1> last time, i tried swank, it got same error messages  [21:17]
<gerry1> any ideas?  [21:18]
<chouser> "couldn't bind" -- I wonder if that means the port you're trying to
	  use is already in use or something.  [21:21]
<amalloy> nrepl picks a port at random, and tries again on failure i think. so
	  maybe he just doesn't have a network card, eh?  [21:24]
<gerry1> amalloy: why nrepl can't bind to an address  [21:25]
<cemerick> The default is to use port 0, so an open port should be autoselected
									  [21:26]
<gerry1> network card?
<gerry1> :)
<gerry1> how to view ports which were bind in linux?  [21:28]
<antares_> gerry1: netstat -t tcp -anp
<cemerick> oh, nrepl.el is just using `lein repl :headless` and grepping for the
	   port number  [21:29]
<cemerick> gerry1: can you run `lein repl` successfully in your project?
<robermann> FYI: if anyone is using DB Oracle, I've just updated the entry on
	    http://en.wikibooks.org/w/index.php?title=Clojure_Programming/Examples/JDBC_Examples&stable=0#Oracle
	    - the previous example was not working  [21:30]
<gerry1> cemerick: i'm trying  [21:31]
<gerry1> not work,still get same error messages  [21:32]
<gerry1> Exception in thread "main" java.net.BindException: Cannot assign
	 requested address
<cemerick> odd
<cemerick> gerry1: can you paste your project.clj somewhere?  And, what version
	   of lein are you using?
<gerry1> Leiningen 2.0.0-preview8 on Java 1.7.0_05-icedtea OpenJDK Client VM
									  [21:33]
<cemerick> well, that's quite sane  [21:34]
<gerry1> cemerick: i'm just test clojure,so my project.clj is simple  [21:37]
<gerry1> (defproject myproject "JUST_TEST"
<gerry1>   :dependencies [[org.clojure/clojure "1.4.0"]]
<gerry1>   :plugins [[lein-swank "1.4.4"]])
<gerry1> just it
<gerry1> i do'nt know what's wrong  [21:38]
<cemerick> hrmph
<cemerick> gerry1: please `export DEBUG=true`, run `lein repl`, and paste the
	   results in a pastebin somewhere  [21:39]
<jkkramer> yikes, apparently nrepl.el sends code to nrepl in the same ns as your
	   buffer, and doesn't namespace-qualify clojure.core fns
<jkkramer> I have a fn named resolve (core's is excluded) - nrepl.el started
	   behaving strangely  [21:41]
<amalloy> jkkramer:
	  https://github.com/kingtim/nrepl.el/blob/master/nrepl.el#L314 could
	  use a patch, then!  [21:42]
<gerry1>  cemerick: http://pastebin.com/810SFD3J  [21:43]
<jkkramer> amalloy: working on it now…
<jkkramer> I actually only noticed it when I got really bizarre compilation
	   errors (per
	   https://github.com/kingtim/nrepl.el/blob/master/nrepl.el#L510)
<amalloy> but since there are quite a few chunks of code around that use
	  `format` to construct clojure code, it's probably better to write
	  something that acts a lot like syntax-quote and works on lists instead
	  of strings  [21:44]
<amalloy> (nrepl-send-string (clojure-backtick (if-let [pst+ (resolve
	  'clj-stacktrace.repl/pst)] ...)))  [21:45]
<cemerick> nrepl.el should really be using a different session for the tooling
	   stuff, as well  [21:46]
<cemerick> gah, nothing there
<jkkramer> amalloy: I don't think my emacs lisp fu is strong enough for that
									  [21:47]
<amalloy> i'm not interested in doing it either, but i think it's probably not a
	  challenging elisp task, just a challenging task/algorithm in general
<cemerick> gerry1: eh, I was hoping to see the command being used to start the
	   server.
<xeqi> could try adding :repl-options {:port 23233}  [21:48]
<amalloy> you either need some way to know that pst+ shouldn't be qualified, or
	  a list of every symbol in clojure.core that should, for starters
<xeqi> or some other port that should be unused
<cemerick> If that works but port 0 doesn't, that'll be doubly interesting.
									  [21:49]
<hum_ph> I suspect I know the answer to this - but I'm going to ask anyway: is
	 gen-class my only option for subclassing an abstract class (working
	 with an ordinary external API)?  [21:50]
<xumingmingv> a stupid question, in clojure why we have a concept named
	      *multimethod* rather than *multifunction*?
<amalloy> yes, hum_ph
<amalloy> well, i guess no. you can use proxy  [21:51]
<amalloy> depending on your needs
<hum_ph> sorry - should also add that I need a no-arg constructor and a named
	 class for external instantiation
<gerry1> i'm trying port 2323  [21:52]
<amalloy> personally i'd write that in java, hum_ph. should be possible with
	  gen-class, but would be easier to just use a language that's designed
	  to take this kind of reflection/bean abuse  [21:53]
<gerry1> lein repl :connect 2323 not response  [21:54]
<noidi> gen-class is quite a pain to deal with  [21:55]
*** kral|off (~marco@thediracsea.org) is now known as kral
<noidi> at first I found it surprising that no-one's wrapped it in a nice
	DSL. Then I realized that there is one already and it's called Java :)
<hum_ph> heh  [21:56]
<gerry1> i'm do "lein repl :connect 2323 :headless,  it seems not response,but i
	 can do "alt-x nrepl" in emacs  [21:59]
<xumingmingv> a stupid question, in clojure why we have a concept named
	      *multimethod* rather than *multifunction*?  [22:00]
<tbaldridge> xumingmingv: I think method here is not used in the OOP sense
									  [22:01]
<tbaldridge> it's not "multimethod" as much as it is "multiple method function"
<estebann> xumingmingv: presumably because it is used for type based
	   polymorphism  [22:02]
<gerry1> repl still not work
<tbaldridge> http://en.wikipedia.org/wiki/Multiple_dispatch
<tbaldridge> Yeah, it's basically a polymorphism construct that's much more
	     flexible than the one offered by "normal" OOP languages
									  [22:03]
<borkdude> not necessarily type based, any value based
<xeqi> does "lein repl" work?  I don't think passing both subcommands would
<estebann> true
<xumingmingv> thanks, tbaldridge estebann  [22:14]
<amalloy> huh. is there no way to specify an :as alias in my :refer-clojure
	  clause? i need to add a separate :require/:as for that?  [22:15]
<ejackson> dnolen: what is a MVS ?  [22:20]
<jkkramer> amalloy: a separate :require is what I do. I didn't even think to try
	   :refer-clojure :as but it would make sense
<amalloy> jkkramer: yeah, i checked the source and evidently a separate require
	  is the only option, but it seems like almost every time you'd want an
	  :as  [22:21]
*** PuercoPop (~PuercoPop@190.237.7.137) is now known as Guest54844  [22:25]
*** Guest54844 (~PuercoPop@190.237.7.137) is now known as PuercoPop  [22:28]
*** RavenDT (HydraIRC@69.7.56.245) is now known as Raven  [22:34]
<acheng> is it true that bean only "mapizes" one level deep?  [22:35]
<S11001001> acheng: yes
<acheng> S11001001: is there a recursive version?  [22:36]
<S11001001> acheng: where would you stop?
<acheng> hm. java.data...
<acheng> don't stop til you get enough  [22:37]
<S11001001> can't write an algorithm for that
<acheng> (that was a pop culture reference :)
<S11001001> ,(bean 5)
<clojurebot> {:class java.lang.Long}
<S11001001> ,(bean Long)  [22:38]
<clojurebot> #<ExecutionException java.util.concurrent.ExecutionException:
	     java.lang.RuntimeException:
	     java.lang.reflect.InvocationTargetException>
<TimMc> That's just a security restriction, I think.
<S11001001> ,(count (bean Long))
<clojurebot> 39
<TimMc> Haha, what val caused the error?  [22:39]
<amalloy> TimMc: most of them, probably
<TimMc> ,(take 20 (bean Long)
<clojurebot> #<ExecutionException java.util.concurrent.ExecutionException:
	     java.lang.RuntimeException: EOF while reading>
<amalloy> i know lazybot won't let you use java.lang.reflect
<TimMc> I needn't do the binary search in public channel. Gimme a moment.
<joegallo_> it works fine at a local repl (for me)
<S11001001> ,(map (fn [[k v]] [k (try (pr-str v) (catch Throwable _ "ERROR"))])
	    (bean Long))  [22:40]
<clojurebot> S11001001: Pardon?
<acheng> looks like java.data will work for me
<TimMc> ,(key (second (drop 5 (bean Long))))  [22:41]
<clojurebot> #<RuntimeException java.lang.RuntimeException:
	     java.lang.reflect.InvocationTargetException>
<TimMc> Uhh...
<S11001001> acheng: also keep in mind that bean is lazy in map-building and
	    extracting properties; if yours isn't, then it will trigger errors
	    sometimes beaning values where built-in bean wouldn't  [22:43]
<redinger> has anyone looked into using Jark with Clojure 1.5?
<edw> Anyone know how to get sqlkorma to play nice with PostgreSQL over SSL
      i.e. Heroku's PostgreSQL servers?
<TimMc> ,(count (bean Long))
<clojurebot> 39
<TimMc> ,(count (drop 5 (bean Long)))
<clojurebot> #<RuntimeException java.lang.RuntimeException:
	     java.lang.reflect.InvocationTargetException>
<S11001001> TimMc: to force a pair it has to extract the value
<TimMc> Yep, it's the beaning process. ##(counted? (bean Long))
<lazybot> ⇒ true
<acheng> S11001001: ok thanks. keep on with the force don't stop  [22:44]
*** Guest__ (~wo66le@170.171.10.30) is now known as wo66le  [22:47]
*** RavenDT (HydraIRC@69.7.56.245) is now known as Raven  [22:51]
*** RavenDT (HydraIRC@69.7.56.245) is now known as Raven  [22:58]
<rossputin> hey guys, I'd like to convert a param coming into a function into
	    the correct type, if its passed in from one route its a string, from
	    another route a num… at the moment I've got a load of (Long/valueOf
	    x) code lying around… just looking to hear some better alternatives
	    really  [22:59]
*** russfran1 (~russfrank@li322-226.members.linode.com) is now known as
    russfrank
*** maravill_ (~maravilla@cpe-065-190-177-236.nc.res.rr.com) is now known as
    maravillas
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|mtg  [23:02]
<antares_> rossputin: can you paste an example?  [23:03]
*** RavenDT (HydraIRC@69.7.56.245) is now known as Raven  [23:06]
<rossputin> antares_: sure… Im doing stuff like : (q '[:find ?id :in $ ?fid
	    :where [?id :user/someid ?fid]] (db conn) (Long/valueOf id))… I'm
	    looking for a safer way that contends with different types coming
	    in… sometimes string, sometimes numeric
<antares_> rossputin: you can create a conversion protocol like here
	   https://github.com/michaelklishin/monger/blob/master/src/clojure/monger/conversion.clj
									  [23:07]
<antares_> rossputin: although maybe I don't understand what problem you are
	   solving by Long/valueOf. Are all outputs always strings? and you know
	   nothing about the schema?  [23:08]
*** _zach|away (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now
    known as _zach
<rossputin> antares_: the id param may be a string sometimes, or sometimes
	    numeric, depending on how the API is used (from RESTful web service
	    or web app)  [23:09]
<rossputin> antares_: just looking over the protocol example you referenced…
	    looks pretty concise  [23:10]
<antares_> rossputin: then a conversion protocol is just what you need  [23:11]
<rossputin> antares_: thanks for the help.. was wondering when I'd get round to
	    using protocols  [23:12]
<antares_> rossputin: also see
	   https://github.com/michaelklishin/welle/blob/master/src/clojure/clojurewerkz/welle/conversion.clj#L254,
	   a slightly different case that uses multimethods
<rossputin> antares_: are there performance characteristics of either in the
	    RESTful web service under load scenario that would make me choose
	    either one over the other ?  [23:14]
<antares_> rossputin: protocols are more efficient, they are single dispatch
<rossputin> antares_: thx
<antares_> but they also dispatch on the type of the first argument, that's it
									  [23:15]
<amalloy> a web service under load will have things that take way more cpu than
	  the difference between dispatching with a multimethod vs a protocol
									  [23:16]
<amalloy> so i would answer no to that last question
<rossputin> amalloy: good to know
<rossputin> thx guys
<antares_> rossputin: yes, when in doubt, profile first (VisualVM is a good tool
	   for starters)  [23:19]
<rossputin> antares_: I'll lookit up
<rossputin> antares_: I've only ever done that kind of thing in terminal, so
	    having some visual element will be nice  [23:22]
<antares_> rossputin: http://visualvm.java.net. I great book on profiling JVM
	   applications, mentions a lot of tools among other things:
	   http://www.amazon.com/Java-Performance-Charlie-Hunt/dp/0137142528
									  [23:24]
<antares_> *I would recommend
<rossputin> Thx  [23:25]
<AdamClements> Hi everyone. A pattern I seem to be repeating a fair amount is
	       along the lines of (when (pred x) x), is there a more concise
	       form of that in the core libs that I could use? Along the lines
	       of (blah pred x). It's especially annoying if x is non-trivial
	       and i have to put it in a let binding.  [23:28]
<amalloy> AdamClements: no, but nothing stops you from defining that function
	  yourself  [23:29]
<jsabeaudry> AdamClements, have a look at if-let and when-let  [23:31]
<amalloy> i don't think those are relevant to his problem  [23:32]
<jsabeaudry> I might not be understanding the problem correctly  [23:33]
<amalloy> he has (let [x (some big expr)] (when (pred x) x)), and he'd rather
	  have (test-with pred (some big expr))  [23:34]
<amalloy> when-let doesn't help, because he needs to let x, and test pred
									  [23:35]
<jsabeaudry> ah, ok!
<jsabeaudry> I'd call it only-when  [23:38]
<scriptor> (first (filter pred [x])) might work  [23:44]
<AdamClements> amalloy, yeah so I could do (defn blah [pred x] (when (pred x)
	       x)), but usually when I write little functions like that i find
	       that ti's already in the core libraries!  [23:46]
<tbaldridge> scriptor: on no, please don't do that..that'll be horribly slow
<scriptor> tbaldridge: hah :)  [23:47]
<AdamClements> jsabeaudry, when-let covers some situations I might use this in,
	       that's true. Not all of them
<AdamClements> jsabeaudry, only-when, good name, that was my other issue with
	       defining it myself!
<amalloy> agreed, AdamClements, this is something i'd expect to find in core,
	  but it's not there
<scriptor> doesn't one of the bots allow searching for type signatures?
<amalloy> those don't exist in clojure, so no? lazybot lets you search for
	  functions if you have an input and know what output you want
									  [23:48]
<AdamClements> amalloy, especially given how it's idiomatic to return nil in so
	       many situations
<tbaldridge> clojurebot: can you search by type signature?
<clojurebot> datatype is see datatypes
<tbaldridge> hrm...guess not....
<scriptor> ah, right, that's what I meant, not types
<rod__> noob question: is there a non-lazy version of map?  or do i just (doall
	(map ... ))  thanks
<metellus> rod__: dorun or doseq might do what you want  [23:50]
<amalloy> $findfn 3 9 12
<lazybot> [clojure.core/+ clojure.core/unchecked-add clojure.core/+'
	  clojure.core/unchecked-add-int]
<metellus> $findfn 2 2 4
<lazybot> [clojure.core/unchecked-multiply clojure.core/+ clojure.core/*
	  clojure.core/unchecked-add clojure.core/+'
	  clojure.core/unchecked-multiply-int clojure.core/*'
	  clojure.core/unchecked-add-int]
<scriptor> $findfn odd? 3 3
<lazybot> [clojure.core/max-key clojure.core/cond clojure.core/dosync
	  clojure.core/sync clojure.core/char-escape-string
	  clojure.core/*data-readers* clojure.core/with-loading-context
	  clojure.core/default-data-readers clojure.core/*clojure-version*
	  clojure.core/case clojure... https://www.refheap.com/paste/4582
<rod__> metellus: thanks - i haven't been able to get doseq to return the new
	collection yet, but i'll try again.
<tbaldridge> rod__: for that you want doall  [23:51]
<tbaldridge> just don't do something like (doall (range)) :-P  [23:52]
<rod__> heh - ok!
<rod__> i'll stick with doall then, cheers both
*** qmx|mtg (~qmx@redhat/jboss/qmx) is now known as qmx  [23:53]
<noidi> lpetit, thanks for keeping the counterclockwise "how to build" page up
	to date. I'm giving the instructions a go now :)  [23:57]
* lpetit crossing fingers  [23:58]

[Fri Aug 24 2012]
<noidi> lpetit, minor issue: "you must clone 6 repos" is followed by 8 repos
									  [00:02]
<lpetit> noidi: updated, thanks  [00:03]
<noidi> lpetit, after following the instructions, I get the following errors:
	http://dl.dropbox.com/u/4653951/ccw_build_errors.png  [00:07]
<noidi> have I skipped a step?
<lpetit> noidi: create the classes/ folders for the complaining projects
<noidi> ok  [00:08]
*** RavenDT (HydraIRC@69.7.56.245) is now known as Raven  [00:09]
<lpetit> noidi: added explicit instructions to do so, thanks for the feedback
									  [00:10]
<noidi> lpetit, maybe those directories could be added to the git repos like
	this http://stackoverflow.com/a/932982
<lpetit> noidi: unfortunately no because it can be destroyed by the IDE when
	 doing project/clean  [00:11]
<llasram> ~juxt
<clojurebot> juxt is usually the right answer
<noidi> lpetit, ok  [00:13]
<lpetit> clojurebot: it is "just" an answer aha  [00:14]
<clojurebot> Alles klar
<lpetit> err "juxt" an answer
<noidi> I added the directories and everything seems to build fine, thanks! :)
<noidi> now what project do I need to run to see the built CCW in action?
									  [00:15]
*** kral (~marco@thediracsea.org) is now known as kral|off
<amalloy> clojurebot: forget it |is| "just" an answer aha  [00:17]
<clojurebot> I forgot that it is "just" an answer aha
<lpetit> clgv: ping  [00:18]
<clgv> lpetit: pong
<lpetit> clgv: how can I reproduce Issue 409: 	Problem with Leiningen plugins
	 and hooks ?
<lpetit> clgv: I know next to nothing about plugins and hooks.  [00:19]
<lpetit> oh wait
<lpetit> your plugin is targeting lein2, right, not lein1 ?
<clgv> lpetit: yes
<lpetit> clgv: would have been too easy :)
<lpetit> clgv: I need your help for coming up with a minimalistic reproducible
	 scenario  [00:20]
<clgv> lpetit: the main problem seems to be that the leiningen namespaces are
       not available
<clgv> lpetit: I think the :plugin data works as expected, the exception was
       just confusing. so my plugin is there and tries to require/use leiningen
       namespaces which are not in the classpath-container, I guess  [00:22]
<lpetit> clgv: while developing the plugin, or using it from a client project?
<clgv> lpetit: while using it. but I check the former as well  [00:23]
<lpetit> clgv: I think you should explicitly put a dependency on leiningen-core
	 in your plugin's project.clj file. Do you do that?
<clgv> lpetit: no, I do not. since I don't have to when workin with raw
       leiningen  [00:24]
<clgv> lpetit: it provides those implicitly
<clgv> lpetit: also I have no clojure dependency in there. since that is also
       provided by leiningen. so I can't eval the plugin namespaces in CCW at
       all  [00:25]
<lpetit> clgv: I'm still not sure I totally grasp the problem
<lpetit> by veal, you mean "load" ?
<lpetit> clgv: ^^  [00:27]
<clgv> lpetit: yes. actually after "lein2 new plugin myplugin" which is the
       default template for plugins there is no dependency jar in my
       classpath-container in CCW. but for raw leiningen that would be ok. since
       it is executed via ":eval-in-leiningen true" - so clojure and
       leiningen-core comes from the leiningen installation
<lpetit> clgv: how is your plugin supposed to be used?  [00:28]
<clgv> lpetit: currently it only adds a hook, which is supposed to change
       behavior when  uberjar is built. so nothing that concerns CCW. but CCW
       gives me an error that it cant load those leiningen namespaces  [00:29]
<lpetit> clgv: I still don't understand where and when in ccw do these errors
	 occur
<clgv> lpetit: so in that particular case, I would be happy if CCW just ignored
       :hooks
*** abstractj (~abstractj@redhat/jboss/abstractj) is now known as
    abstractj|lunch  [00:30]
<clgv> lpetit: after saving the project.clj or updating dependcies
<clgv> or just openening the project
<lpetit> clgv: I think I got it
<lpetit> clgv: could you find a plugin similar to yours on clojars with which I
	 could reproduce the problem?
<clgv> lpetit: I think you could take any plugin that provides a hook and then
       specify the hook namespace in the project.clj under :hooks  [00:31]
<lpetit> clgv: do you have one in mind? Would really help me focus on problem
	 solving  [00:32]
<clgv> lpetit: hm I could built a dummy from my plugin. can I upload it with the
       issue?  [00:33]
<lpetit> clgv: can you make it available on clojars?
<clgv> lpetit:  yes. just testing it  [00:39]
<lpetit> clgv: gr8 !
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [00:40]
<clgv> lpetiti: it's up on clojars -> [lein-myhook "0.0.1"]  [00:41]
<lpetit> clgv: thanks. can you update the ticket with this & instructions for
	 reproducing the problem?  [00:42]
<clgv> lpetit: last errand for you ;)  [00:43]
<lpetit> :)
<noidi> lpetit, Running any project as an Eclipse Application seems to start a
	new Eclipse with my compiled CCW. Does it matter which project I run?
									  [00:46]
<clgv> lpetit: done. I think it's time to go home now ^^  [00:47]
<lpetit> noidi: running any plugin project will use the same configured
	 "Platform" and indeed every plugin project in your workspace will be
	 available in this Platform  [00:48]
<lpetit> clgv: thaks
<lpetit> noidi: but usually I start it from ccw.core
<lpetit> which makes the most sense to me
<noidi> OK, thanks!  [00:49]
*** Automorphism (~eduardo@unaffiliated/shinydarkness) is now known as
    lolcathost  [00:56]
<noidi> lpetit, is it possible to package and install the latest git version of
	CCW into the development eclipse? or is it only possible to install from
	an update site?  [00:58]
* noidi = eclipse newbie
<lpetit> noidi: meaning when you're happy with a change you did (as tested
	 through the dev Eclipse runtime), and you want to install it yourself
	 for your own eclipse?  [00:59]
<noidi> lpetit, yes, exactly
<lpetit> noidi: you create a project of kind Software Update Site. You open
	 site.xml, you add ccw.feature, you click on "Build" => after the build,
	 you reference your local update site directory from Help > install
	 software … (adding a "local folder" and not an url)  [01:00]
<lpetit> must go now, good luck and see you later !  [01:01]
<noidi> lpetit, thanks again :)  [01:04]
*** abstractj|lunch (~abstractj@redhat/jboss/abstractj) is now known as
    abstractj  [01:11]
<thorbjornDX> I'm looking at getting into clojure, and I picked up Clojure
	      Programming (chas emerick et al.) are there any other good
	      resources that I should look at early on?
<bowles> http://www.4clojure.com/
<bowles> 4clojure is a nice repl in browser that guides you through clojure
	 basics http://www.4clojure.com/  [01:12]
<thorbjornDX> bowles: thanks, will check it out
<bowles> Volkman has a pretty in-depth page I found very useful:
	 http://java.ociweb.com/mark/clojure/article.html  [01:13]
<scriptor> bowles, thorbjornDX: it's not exactly a repl  [01:15]
<scriptor> http://tryclj.com/ is more of a browser-based repl, 4clojure
	   interprets clojure data but it doesn't involve a loop  [01:16]
<thorbjornDX> 4clojure is more of a REP  [01:17]
<scriptor> even the print part is iffy  [01:18]
<thorbjornDX> scriptor: hah, true.
<scriptor> RE-GREEN-OR-RED-CIRCLE
<bowles> thanks for clarifying, I did like tyrclj
<thorbjornDX> btw: is leiningen the defacto way to write and run clojure code?
	      or should I just be doing java -jar
<scriptor> thorbjornDX: lein, definitely  [01:19]
<thorbjornDX> scriptor: sounds good.  What's the best way to get lein onto my
	      system?  Is it distributed as a .jar?  [01:20]
<scriptor> thorbjornDX: just a shell script, actually!
<scriptor> http://leiningen.org/
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|lunch  [01:21]
<technomancy> thorbjornDX: it could be in your package manager, but it's easy to
	      install by hand. just be sure to get 2.x
<thorbjornDX> technomancy: I'm running in a weird non-root environment, so I've
	      had to hack a lot of stuff.
<scriptor> well, it has a self-install command which does the installation of
	   all the rest, but you just need the shell script to get started
<technomancy> yeah, manual install works fine without root
<thorbjornDX> technomancy: how do I point it at my clojure.jar?  [01:22]
<thorbjornDX> technomancy: environment variable?
<scriptor> thorbjornDX: you don't need to
<technomancy> thorbjornDX: don't do that; just declare your dependencies
<technomancy> thorbjornDX: run `lein tutorial`
<thorbjornDX> scriptor: technomancy: Okay, I guess I always assumed that since
	      my project.clj was clojure syntax, it required clojure.jar to run
									  [01:23]
<scriptor> thorbjornDX: clojure is usually listed as one of the dependencies,
	   the page I linked above has an example on the front page
<scriptor> so it automatically downloads clojure.jar and puts it in your
	   project's classpath for you
<thorbjornDX> scriptor: okay, that makes sense  [01:24]
<thorbjornDX> scriptor: so lein will drop all of its requirements into ~/lib ?
									  [01:25]
<technomancy> thorbjornDX: they'll be in ~/.m2/repository, but you shouldn't
	      need to worry about where
<technomancy> just start hacking and it'll handle things for you, in general
									  [01:26]
<thorbjornDX> technomancy: gotcha, I'll run through the tutorial now
<thorbjornDX> thanks for you help
<thorbjornDX> ah, this is dead simple (and blows python packaging out of the
	      water)  [01:31]
<technomancy> sweet
<thorbjornDX> technomancy: now I just need to learn graph theory and I can make
	      some progress  [01:32]
<S11001001> virtualenv is pretty hilariously hacky
<thorbjornDX> S11001001: I've been trying to just run out of supposed "clean"
	      lib/site-packages, but it always ends up messy
<thorbjornDX> S11001001: (using pip, which at least allows me to 'uninstall')
									  [01:33]
<S11001001> I gave up and virtualenv for everything now
<technomancy> a big part of learning clojure is unlearning all the BS and
	      baggage you bring with you from past experience
*** lolcathost (~eduardo@unaffiliated/shinydarkness) is now known as
    Automorphism  [01:34]
<stuartsierra> Never thought I'd see the day when Maven-based dependency
	       resolution was viewed as "unlearning baggage."  [01:35]
<scriptor> could have once said the same of jvm-based languages  [01:38]
<stuartsierra> Kudos to technomancy are in order.
<duck11231> (inc technomancy)
<lazybot> ⇒ 36
<technomancy> aw shucks you guys  [01:39]
<nDuff> Hrm. No documentation for instant literals at http://clojure.org/reader
	-- where would that be?  [01:41]
<duck11231> there's some stuff in the changelog. I saw that the other day, but
	    it's not much  [01:43]
<stuartsierra> nDuff: It's not well-documented outside of the source.  [01:45]
<stuartsierra> Contributions welcome.
*** qmx|lunch (~qmx@redhat/jboss/qmx) is now known as qmx  [01:48]
<TimMc> stuartsierra: How should doc contributions be made?
<stuartsierra> dev.clojure.org  [01:49]
<TimMc> Ah.
<TimMc> Just add and edit pages?  [01:50]
<stuartsierra> yep
<nvy> thank you bowles @ java.oci link  [01:51]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off
<bowles> many of the resources mentioned here can be found at:
	 http://learn-clojure.com/  [01:53]
<noidi> lpetit, I made a tiny change to get my feet wet
	https://github.com/laurentpetit/ccw/pull/10  [01:55]
*** wo66le (~wo66le@170.171.10.30) is now known as nickyhof  [02:45]
*** imami|afk (~imami@173-13-139-237-sfba.hfc.comcastbusiness.net) is now known
    as banseljaj  [02:50]
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|mtg  [02:59]
<dansalmo> is this the best way to get the difference between these two strings
	   as "extra"? (apply str ((split-at (count "same")  "sameextra") 1))
									  [03:01]
<noidi> &(.replaceFirst "someextra" "some" "")  [03:05]
<lazybot> ⇒ "extra"
<clj_newb_23823> is there a file in clojure that says "create file XYZ if it
		 does not already exist"? I don't want to do a "check for xyz;
		 then create" since between the check /create, the file might
		 have bene created
<clj_newb_23823> is & a clojure macro or a lazybot tag?  [03:06]
<clj_newb_23823> &(+ 2 3)
<lazybot> ⇒ 5
<clj_newb_23823> & (println "Yo")
<lazybot> ⇒ Yo nil
<clj_newb_23823> is there a file in clojure that says "create file XYZ if it
		 does not already exist"? I don't want to do a "check for xyz;
		 then create" since between the check /create, the file might
		 have bene created
<S11001001> clj_newb_23823: opening a file for writing will create it if it
	    doesn't exist  [03:07]
<clj_newb_23823> &(println "Is there a way in Clojure to atomically say: [if
		 file XYZ does not exist; create file XYZ]")
<lazybot> ⇒ Is there a way in Clojure to atomically say: [if file XYZ does not
	  exist; create file XYZ] nil
<noidi> dansalmo, I find the .replaceFirst call slightly more readable, but note
	that the search pattern is a regular expression, not a plain string
<clj_newb_23823> S110010001 and if the file already exists?
<dansalmo> Thanks :nodi
<S11001001> clj_newb_23823: if you open it in append mode, nothing
<clj_newb_23823> urgh; so the hack is:
<noidi> &(.replaceFirst "sameextra" (java.util.regex.Pattern/quote "same") "")
									  [03:08]
<clj_newb_23823> open the file in append mode
<lazybot> ⇒ "extra"
<clj_newb_23823> check to see if here's already contents in it?
<TimMc> Just open in append mode and start writing.
<noidi> that Pattern/quote escapes all RE magic characters from the string
<S11001001> clj_newb_23823: it's not a hack; it's been the standard way to do it
	    for decades, and is there precisely to eliminate the race condition
	    you mention
<clj_newb_23823>
		 http://docs.oracle.com/javase/6/docs/api/java/io/File.html#createNewFile%28%29
<clj_newb_23823> I thikn that's what I want
<TimMc> clj_newb_23823: If the file is already there, you want to bail?  [03:09]
<clj_newb_23823> yes
<clj_newb_23823> hmm; my bad for not making that clear in my question
<TimMc> createNewFile seems legit, then -- as long as you are not using it for
	locking. :-)  [03:10]
<clj_newb_23823> is Clojure's "spit" atomic wrt to the file system?
<clj_newb_23823> i.e. if two clojure threads spit to the same file, is it
		 guarnteed that the contents on the FS will be exactly one of
		 the two calls  [03:11]
<clj_newb_23823> or can it be some threaded/interleaved form of both?
<S11001001> clj_newb_23823: latter
<S11001001> clj_newb_23823: as for createNewFile, remember that it is still
	    possible for someone to open and write to your file after you've
	    succeeded at createNewFile, unless your umasks/stickies are set to
	    deny them  [03:12]
<clj_newb_2398324> that's unfortunate
<amalloy> gotta switch to an immutable filesystem just to be safe
<clj_newb_2398324> hmm; yes, I need an immutable, persistent FS
<nvy> hey, I just did M-x clojure-jack-in, and it does give me a clojure shell
<clj_newb_2398324> I think it's called ZFS  [03:13]
<nvy> how do I make it "execute" my lein project's code?
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR
<nvy> (-main) clearly doesn't work
<technomancy> nvy: (doto 'my-main.ns require in-ns)
<technomancy> then (-main) will work
<nvy> technomancy: will I have to do that every time I modify my clojure code?
									  [03:14]
<technomancy> nvy: no, C-c C-k will load the current buffer from emacs  [03:15]
<emezeske> clj_newb_2398324: I don't think you repeated your question enough
<clj_newb_2398324> &(doseq [x (range 10)] (println "clj_newb's question"))
									  [03:16]
<lazybot> ⇒ clj_newb's question clj_newb's question clj_newb's question
	  clj_newb's question clj_newb's question clj_newb's question clj_newb's
	  question clj_newb's question clj_newb's question clj_newb's question
	  nil
<clj_newb_2398324> &(doseq [x (range 10)] (println "clj_newb's question\n"))
<lazybot> ⇒ clj_newb's question  clj_newb's question  clj_newb's question
	  clj_newb's question  clj_newb's question  clj_newb's question
	  clj_newb's question  clj_newb's question  clj_newb's question
	  clj_newb's question  nil
<clj_newb_2398324> this is probably good time for me to stop before I get kicked
									  [03:17]
<emezeske> Well, that was enough to get you on my ignore list.  *plonk*
*** clj_newb_2398324 (ab404e1a@gateway/web/freenode/ip.171.64.78.26) is now
    known as clj_newb_2398325
<S11001001> oh dear.
<clj_newb_2398325> this nick too?
<clj_newb_2398325> so I've rencely been using redis with clojure; and I really
		 like the fact that I can just backup dump.rdb  [03:18]
<clj_newb_2398325> is there any other datbases (something perferably document
		 store-ish) that also supports such simple backup?
<S11001001> zope  [03:20]
*** qmx|mtg (~qmx@redhat/jboss/qmx) is now known as qmx  [03:23]
<technomancy> couch is like that I believe  [03:24]
<bobajett> noob question: I have file hello.clj with (defn hello [] (println
	   "hello world")), how can I import this into my clojure REPL so I can
	   execute (hello) in my REPL?
<lynaghk> bobajett: you can use the 'load-file function  [03:26]
<lynaghk> bobajett: otherwise, you'll have to look at the docs for whatever
	  editor you're using. For instance, if you're using emacs+slime you can
	  do C-c C-l.  [03:27]
<stuartsierra> bobajett: Yes, `load-file` is the simplest way to load a
	       file. Once you have a project with real namespaces you would
	       likely use `require` instead.
*** nonrecursive_ (~nonrecurs@pool-98-118-40-65.bstnma.fios.verizon.net) is now
    known as nonrecursive  [03:28]
<bobajett> $ cat hello.clj  [03:29]
<bobajett> defn hello []
<bobajett>   (println "hello world"))
<clj_newb_2398325> you're missing a (defn
<bobajett> copy and paste error there. but ('load-file "hello.clj") and then at
	   the REPL user=> (hello) gives me a "Unable to resolve symbol" error
									  [03:30]
<clj_newb_2398325> why ('load-file "hello.clj") rather than (load-file
		 "hello.clj")  [03:31]
<bobajett> oops
<clj_newb_2398325> the correct way to do this is to 1: create a full transcript
		 2) past the transcript to a paste bin 3) post a url to the
		 paste bin here in the channel
<bobajett> awesome! thanks guys
<bobajett> that worked
<S11001001> ,(doc +')  [03:33]
<clojurebot> "([] [x] [x y] [x y & more]); Returns the sum of nums. (+) returns
	     0. Supports arbitrary precision. See also: +"
<S11001001> funny how + documents the behavior of some other function instead :)
<S11001001> funny how I forget to put ' even when I'm talking explicitly about
	    that, just like said docstring  [03:34]
<S11001001> ,(+')
<clojurebot> 0
<clj_newb_2398325> has anyone come up with a lazybot-clojurebot quine yet?
<clj_newb_2398325> ,?  [03:35]
<clojurebot> #<CompilerException java.lang.RuntimeException: Unable to resolve
	     symbol: ? in this context, compiling:(NO_SOURCE_PATH:0)>
<clj_newb_2398325> ,(println "clj_newb is going to get kicked")
<clojurebot> clj_newb is going to get kicked
<metellus> &(+ 1 1)  [03:36]
<lazybot> ⇒ 2
<clj_newb_2398325> ah, the => from lazybot prevents the quine; doh
<TimMc> S11001001: They changed the name, but forgot to change the docstring.
									  [03:37]
<S11001001> ,(doc +)
<clojurebot> "([] [x] [x y] [x y & more]); Returns the sum of nums. (+) returns
	     0. Does not auto-promote longs, will throw on overflow. See also:
	     +'"
<S11001001> TimMc: huh.  [03:38]
<TimMc> ,(meta #'+')
<clojurebot> {:ns #<Namespace clojure.core>, :name +', :file "clojure/core.clj",
	     :line 908, :arglists ([] [x] [x y] [x y & more]), ...}
<TimMc> ,(:added (meta #'+'))
<clojurebot> "1.0"
<S11001001> (use clj-time.travel)
<TimMc> ,(:added (meta #'+)) ;; for completeness  [03:39]
<clojurebot> "1.2"
<S11001001> I guess that's fair  [03:40]
<S11001001> but wasn't it 1.3?
<TimMc> Ha, I think so.  [03:41]
<TimMc> Clearly 1.3 is blaming 1.2.
<S11001001> in the tradition of emacs, change :added to :removed, for antinews
									  [03:42]
<scriptor> I don't know why I just checked the source for clj-time.travel
*** jimduey_ (~jimduey@75-23-241-51.lightspeed.kscymo.sbcglobal.net) is now
    known as jimduey
<S11001001>
	    https://www.gnu.org/software/emacs/manual/html_node/emacs/Antinews.html
									  [03:43]
<TimMc> 1.2's reader doesn't even believe that symbol literals can end in '
<S11001001> indeed
<S11001001> it makes for that neat (first [+' +]) trick  [03:44]
<S11001001> ,(first [+' magic])
<clojurebot> #<CompilerException java.lang.RuntimeException: Unable to resolve
	     symbol: magic in this context, compiling:(NO_SOURCE_PATH:0)>
<S11001001> oh yeah  [03:45]
<TimMc> Haha, I like that.
<S11001001> ,(first [+' 'magic])
<clojurebot> #<core$_PLUS__SINGLEQUOTE_
	     clojure.core$_PLUS__SINGLEQUOTE_@6aab998e>
<TimMc> ,((first [+' +]) Long/MAX_VALUE 1)  [03:46]
<clojurebot> 9223372036854775808N
<TimMc> Should work in 1.2 as well, right?
<S11001001> yes  [03:47]
<bobbrahms> hey all:  I want to add some clojure to my big java project, which
	    is built using maven.  But I want to be able to freely mix them,
	    having clojure importing java, and having java import clojure
	    generated classes, more or less with impunity.  But when I build,
	    either clojure or java gets built before the other guy and whichever
	    one goes first complains about not being able to find the classes
	    it's trying to import.  [03:51]
<bobbrahms> Now clojure gen-class seems good at making stubs.
*** banseljaj (~imami@173-13-139-237-sfba.hfc.comcastbusiness.net) is now known
    as imami|afk
<bobbrahms> Can I run the clojure maven build plugin in such a way that it can
	    generate just the class stubs it finds in the clojure files, then do
	    the java compile, then run the "real" clojure build again,
	    overwriting the stubs with the actual classes?  [03:52]
<stuartsierra> bobbrahms: no  [03:53]
<stuartsierra> Unless you compile the stubs and the java in separate sub-modules
<stuartsierra> But that's not going to do the over-writing you want.
<bobbrahms> but is there any problem with an approach like I am describing?
									  [03:54]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off
<stuartsierra> bobbrahms: loads  [03:55]
<stuartsierra> loads of problems, that is.
<bobbrahms> what are some of the main things I'm missing?
<stuartsierra> You cannot mix two languages without an integrated compiler.
<bobbrahms> could I build a program to go through my clojure files, pulling out
	    the namespace expressions with gen-class in them and then just
	    compile those to stubs at an early stage of the build?  [03:56]
<stuartsierra> I'm sure you could, but I doubt it would be less work than
	       refactoring your design to avoid the cyclic dependencies.
									  [03:57]
<bobbrahms> not really talking about cyclic dependencies here
<stuartsierra> If your Java code calls Clojure code which calls the Java code,
	       in the same project, that's a cyclic dependency.
<bobbrahms> more like inter-dependencies
<bobbrahms> I'm not talking about clojure module a referring to java mod b,
	    which refers to clojure module a  [03:58]
<stuartsierra> It doesn't matter if it's the same module or different modules,
	       there's no sane way to do it.  [03:59]
<bobbrahms> I'm talking about clojure module a referring to some java module
	    which might be in the same named package/namespace
<bobbrahms> in the (admittedly simple) experiments i've tried, it works if I do
	    manually what I've been describing  [04:00]
<bobbrahms> is there some other problem with that workflow?  at java compile
	    time, if it sees the stub classes, the java compile is happy
<stuartsierra> Like I said, you could probably make it work. But my strong
	       recommendation is to refactor your design.  [04:01]
<bobbrahms> Well, here's the thing
<bobbrahms> yes you can make a class, using clojure, that extends some java
	    class, or implements some interface  [04:02]
<S11001001> bobbrahms: if there's truly no cyclicality, you should be able to
	    arrange a DAG of subprojects, alternating java and clojure
<bobbrahms> but why should it be considered harmful or bad style to have, within
	    a project, java and clojure source directories with modules of each
	    being essentially fellow citizens?  [04:04]
<bobbrahms> I mean , yes what you say is true
<bobbrahms> you should be able to arrange it that way.  [04:05]
<bobbrahms> but it's so much more natural and easy if you could put things where
	    they want to be.
<stuartsierra> The problem is that neither the Clojure compiler nor the Java
	       compiler are aware of each other. So they have to be run in some
	       fixed order.
<bobbrahms> yes.
<stuartsierra> What you seem to want is a third "Clojure gen-class stub"
	       compiler that doesn't exist.  [04:06]
<bobbrahms> which is why I'm asking if there's any reason why I couldn't just
	    pick up the ns declarations and use them to make stubs to make the
	    java compile happy
<stuartsierra> Nothing's going to stop you.
<bobbrahms> right.. ok my question is this
<bobbrahms> when I rip out everything but the ns in my clojure module, it makes
	    a stub that makes the java import happy.  [04:07]
<bobbrahms> are there problems with this approach i'm going to run into?  Are
	    there some things that are going to fail, apart from ns declarations
	    that contain references to java-land imported stuff that doesn't
	    exist yet?  [04:08]
<nvy> so in nrepl I do C-C C-l within my bugger, it says then "namespace
      auha.core" loaded, how do you then run auha.core/-main ?
<nvy> user> (auha.core/-main)  [04:09]
<nvy> ClassNotFoundException auha.core  java.net.URLClassLoader$1.run
      (URLClassLoader.java:217)
<stuartsierra> bobbrahms: Probably. I can't enumerate them here. Again, you
	       could probably make it work. But it's going to be complicated and
	       something that no one else is doing.
<bobbrahms> OK stuart.  Thanks!
<stuartsierra> You're welcome.  [04:10]
<bobbrahms> if something specific comes to mind that would break this, I'd love
	    to know about it.  I'm pretty much a noob at clojure
<duck11231> nvy: I would expect it to do this, but try requiring that ns first
									  [04:13]
<nvy> duck11231: how would you do that?
<duck11231> (require 'auha.core)  [04:14]
<nDuff> bobbrahms: ...so, the usual approach is to just structure things such
	that the java can compile without the clojure
<nDuff> bobbrahms: ...for instance, you can reference fns through vars which
	return objects implementing interfaces accessible only from Java code,
	avoiding the need for your Java to know about anything generated from
	compiling the clojure  [04:16]
<bobbrahms> sure but wouldn't it be cool if you can refer to your clojure
	    classes from your java code?
<nDuff> Not really?
<nDuff> Using gen-class typically means you're doing something wrong
<nDuff> so if you're doing things right, you can refer to your clojure fns,
	through vars, as-is.  [04:17]
<nDuff> (well, "something wrong" meaning "something necessary for interop
	purposes")
<nDuff> (but that you wouldn't do if you had enough control to avoid it)
<bobbrahms> right
<bobbrahms> without gen-class, is there some way of using clojure to implement
	    some interface, make an object and pass it around?  [04:21]
<bobbrahms> proxy?
<clojurebot> proxy is <Chouser> proxy teases with its ease of use, then suddenly
	     betrays.
<nDuff> bobbrahms: gen-class isn't even the _preferred_ way to do that  [04:22]
<nDuff> reify is ideal
<nDuff> proxy if you can't use reify
<bobbrahms> reify?  cool
<nDuff> gen-class if you can't use proxy
<nDuff> ...if it's only implementing an interface, not a class, reify will be
	fine.  [04:23]
<amalloy> &(.close (reify java.io.Closeable (close [this] (println 5))))
<lazybot> ⇒ 5 nil
*** RavenDT (HydraIRC@69.7.56.245) is now known as Raven  [04:24]
<nvy> ok duck11231, and how to reload that namespace? C-c C-k doesn't do the
      trick
<bobbrahms> if I want to extend my java classes do I want to use gen-class?
									  [04:25]
<duck11231> nvy: Not sure. I haven't fully made the switch to nrepl yet, but
	    that was working when I tried it  [04:26]
<S11001001> when I use gen-class, it feels so dirty that I have to make a
	    separate library for the gen-class to keep it away from the nice
	    code
<bobbrahms> hahahaha awesome.
<nvy> I have switched to the auha.core namespace already duck11231, could that
      be the reason? is there a way to come back to user> ?  [04:27]
<stuartsierra> One thing you can do is define interfaces in Java and implement
	       them in Clojure with reify/deftype/defrecord.
<bobbrahms> is it difficult and/or wrong to create clojure based spring managed
	    beans
<nvy> just assuming that nrepl is similar enough
<duck11231> I think C-c M-n is the new C-c M-p and there-s always (in-ns 'user)
									  [04:28]
<S11001001> bobbrahms: it's going to cut you off from config by annotations
									  [04:29]
<stuartsierra> Clojure supports annotations in gen-class and deftype, but the
	       syntax is not documented except in unit tests.
<stuartsierra> (Actually, not sure about gen-class. Definitely deftype.)  [04:30]
<nathanic> bobbrahms:
	   http://www.deepbluelambda.org/programming/clojure/building-ejbs-with-clojure
<nathanic> not quite spring but in that general direction
<duck11231> I think it's time I swap out my "auto connect to slime" command with
	    an "auto connect to nrepl"
<S11001001> stuartsierra: sounds troublesome  [04:31]
<stuartsierra> It's certainly not worth the trouble of figuring it out, in my
	       opinion. If you need annotations, just write Java.  [04:32]
<S11001001> or scala, an open-source programming language designed with the
	    cloud in mind :)
<nvy> thanks duck, I'll try it
<gfrederi`> anybody coming to see rhickey tonight?  [04:33]
*** gfrederi` (user@2600:3c02::f03c:91ff:fe93:b10) is now known as gfredericks
<bobbrahms> not sure I really care about config by annotation.  But practically,
	    this is a spring app.
<wastrel> hi  [04:35]
<scriptor> gfredericks: whereat?  [04:38]
*** imami|afk (~imami@173-13-139-237-sfba.hfc.comcastbusiness.net) is now known
    as banseljaj  [04:40]
<bobbrahms> just to be clear: when you guys say that gen-class is to be used as
	    a last resort after reify and proxy, does this disdain extend into
	    the use of the :gen-class parameter of ns?
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|brb  [04:41]
<S11001001> bobbrahms: yep  [04:43]
<bobbrahms> OK, cool. thanks  [04:44]
<thorbjornDX> I'm trying to learn how recur works, In particular how it's used
	      in last, any tips?
<dnolen> bobbrahms: :gen-class in ns is standard if you're creating a  main
	 entry point for your app.
<bobbrahms> for static functions is gen-class required?  [04:46]
<S11001001> thorbjornDX: any experience in scheme?
<thorbjornDX> S11001001: I poked through the homework for an intro to scheme
	      course once
<thorbjornDX> S11001001: idk if that counts as experience :P  [04:47]
<technomancy> loop/recur is usually a sign that you're doing something really
	      low-level
<S11001001> thorbjornDX: did it cover named let, or (let lp (...)?
<technomancy> you probably won't need it when you're getting started
<thorbjornDX> S11001001: yes
<thorbjornDX> technomancy: I'm doing an exercise that requires me to get the
	      last element in a collection without last  [04:48]
<S11001001> thorbjornDX: imagine that every loop and fn creates a named let
	    called "recur", that you are only allowed to call when the compiler
	    can turn it into a goto without semantic change
<S11001001> thorbjornDX: consider iterate instead :)
<thorbjornDX> S11001001: okay, I'll check it out
<S11001001> bobbrahms: is there a way to make static methods with gen-class,
	    then?  [04:49]
*** qmx|brb (~qmx@redhat/jboss/qmx) is now known as qmx  [04:55]
<thorbjornDX> S11001001: (iterate println [1 2 3 4 5]) tends to explode, does my
	      function have to check for nil?
<bobbrahms> S11001001:  I was assuming.  in the :methods parameter you can have
	    #^{:static true}
<S11001001> ,(take 10 (iterate rest [1 2 3 4 5]))  [04:57]
<clojurebot> ([1 2 3 4 5] (2 3 4 5) (3 4 5) (4 5) (5) ...)
<brainproxy> at-at for scheduling? other recommendations?
<S11001001> thorbjornDX: look what's in there thorbjornDX :)
<S11001001> bobbrahms: interesting.  I wonder what it does.  [04:58]
<thorbjornDX> S11001001: ah, very cool.  Thanks for the example.
<S11001001> bobbrahms: though #^ is deprecated in favor of ^  [05:00]
<S11001001> bobbrahms: which dates that example to pre-1.2  [05:01]
<gfredericks> scriptor: chicago  [05:02]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [05:04]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [05:09]
*** RavenDT (HydraIRC@69.7.56.245) is now known as Raven  [05:21]
*** Automorphism (~user@unaffiliated/shinydarkness) is now known as Catnaroek
									  [05:32]
*** Catnaroek (~user@unaffiliated/shinydarkness) is now known as Automorphism
									  [05:33]
<thorbjornDX> S11001001: so now the last element of a list is a one element list
	      containing the last element of the vector that I had before.  Am I
	      missing something?  [05:36]
<thorbjornDX> ,(take (count [1 2 3 4 5]) (iterate rest [1 2 3 4 5])))  [05:37]
<clojurebot> ([1 2 3 4 5] (2 3 4 5) (3 4 5) (4 5) (5))
<TimMc> &(take-while seq (iterate rest [1 2 3 4 5]))  [05:40]
<lazybot> ⇒ ([1 2 3 4 5] (2 3 4 5) (3 4 5) (4 5) (5))
<konr> Is there any particularly good resource on clojurescript you guys
       recommend?  [05:47]
<dnolen> konr: nothing besides what's available online at the moment - there's
	 an O'Reilly book on the way.  [05:48]
<S11001001> thorbjornDX: filter  [05:49]
<S11001001> then...
<konr> dnolen: thanks!  [05:55]
<konr> This tutorial looks pretty cool: http://clojurescriptone.com/
<technomancy> if you're running leiningen from git, please pull the latest
	      master  [05:57]
<technomancy> I think we're ready to cut a preview9 release and want to make
	      sure any issues are caught
<dnolen> konr: it is! though very specific to CLJSOne  [05:58]
<scottj> dnolen: who's writing the cljs book?
<dnolen> http://shop.oreilly.com/product/0636920025139.do
<Raynes> dnolen: When do you think you might have a chance to take a look at
	 that cljs -> node issue I had? Someone posted a patch that he didn't
	 seem confident about, but some feedback would probably be great.
									  [05:59]
<dnolen> Raynes: maybe? sometime this weekend - I looked over it quickly. Seems
	 like just reordering the deps right?  [06:00]
<Raynes> dnolen: Yep.
<Raynes> Once again, I'd help out, but I'm still sorting out CA stuff. :(
<dnolen> Raynes: does the patch work fro you?
<Raynes> I didn't apply it. I have no idea how to set up cljs without cljsbuild.
									  [06:01]
<Raynes> I can give it a shot this weekend, I suppose.
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR
<tomoj> Raynes: what I do is just symlink /vendor/clojurescript to my
	clojurescript clone, then in /project.clj :source-paths
	["vendor/clojurescript/src/clj" "vendor/clojurescript/src/cljs"]
									  [06:03]
<dnolen> Raynes: you just need to set up checkouts
<Raynes> Bleh.
<emezeske> Raynes: The info on how to do that is in wiki form:
	   https://github.com/emezeske/lein-cljsbuild/wiki/Using-a-Git-Checkout-of-the-ClojureScript-Compiler
									  [06:04]
<emezeske> Raynes: :)
<Raynes> You aren't helping me get out of doing stuff.
<dnolen> Raynes: no sirree
<cemerick> Holy unrepeatable build, Batman.
<emezeske> Heh, I can't do that, but I can try to make it easier when you have
	   to :)  [06:05]
<cemerick> Adding a project.clj to the cljs source tree and then symlinking the
	   whole mess to be a checkout dep of your project would avoid the
	   :source-paths faffery, right?  [06:06]
<dnolen> cemerick: you tell us ;)  [06:07]
*** _zach (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now known
    as _zach|away  [06:08]
<cemerick> dnolen: I can just barely rub two cljs sticks together at the moment.
	   Be with you soon. :-)
<cemerick> On that note, it's screwy that I can grok the compiler and such, but
	   the mechanics of things often escape me.
* nDuff boggles at the idea of Raynes not having a CA signed  [06:11]
<Raynes> nDuff: I do, but it is under a different name.
<nDuff> Ahhh.  [06:12]
<Raynes> Don't ask.
<osener> hi everyone! I just pushed the initial commit of a helm source for
	 nrepl  [06:14]
<osener> would love to have some early feedback
<osener> https://github.com/osener/helm-nrepl/
<osener> (I actually don't know elisp, not sure if it is apparent...)  [06:15]
<osener> helm is a completion framework for Emacs btw
<osener> available actions are "insert symbol", "show documentation", "jump to
	 definition"  [06:16]
<cemerick> emezeske: BTW, do let me know what if anything I can do to make it so
	   that lein-cljsbuild's REPL support can be significantly simplified.
	   I'd hope it end up being a hook to add piggieback middleware and then
	   delegate to leiningen.repl with some init expressions, etc.
<osener> I plan to add a namespace browser in near future
<emezeske> cemerick: Ooh, the middleware being something that writes out
	   javascript to connect to the port 9000 server or whatever?
									  [06:17]
<cemerick> emezeske: Not at present; right now, Piggieback just makes it so that
	   a cljs REPL can be hoisted on top of Leiningen (or any other
	   nREPL-based tool).  So, you'd get the terminal and I/O stuff out of
	   your hair immediately, and hopefully benefit from cljs code
	   completion when that lands in reply and lein.  [06:19]
<cemerick> But, I'm all for making this stuff easier and minimizing the
	   aggregate amount of code needed to do so. :-)  [06:20]
<cemerick> https://github.com/cemerick/piggieback if you haven't seen it
<emezeske> cemerick: Ahh, I hadn't seen it, cool  [06:24]
<thorbjornDX> S11001001: let me know if this is awful somehow: (fn lst [l]
	      (first (first (filter #(= 1 (count %)) (take (count l) (iterate
	      rest l))))))
<emezeske> cemerick: I'll have to read up -- it's been a while since I gave much
	   thought to repl stuff in cljsbuild.  It is pretty bad right now.
									  [06:25]
<S11001001> thorbjornDX: replace that filter #... with remove next, and the take
	    is unnecessary  [06:26]
<cemerick> emezeske: well, hopefully you can slash and burn a bunch of code in
	   the process.  Anyway, let me know what I can do to help along the
	   way.  [06:27]
<emezeske> cemerick: Sweet, thanks!
<S11001001> thorbjornDX: there should be no calls to count left when you're done
<thorbjornDX> S11001001: I'll give it a shot, thanks for the feedback  [06:28]
*** Automorphism (~user@unaffiliated/shinydarkness) is now known as
    CockroachCoder
<Cr8> psh, i reccommended a logging library the other day and now I need it and
      can't remember the name  [06:36]
<technomancy> timbre?  [06:37]
<Cr8> that was it
<SegFaultAX|work2> Has anyone used Misaki?
*** amalloy (~amalloy@li231-96.members.linode.com) is now known as amalloy_
									  [06:41]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [06:43]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [06:45]
*** rlb` (rlb@66-90-217-50.dyn.grandenetworks.net) is now known as rlb  [06:51]
<mefesto> so i just switched from ubuntu to osx.  i know nothing about osx and
	  have been fumbling around all day.  to get my clojure dev setup going
	  i have installed xcode (cli tools), xquartz, and homebrew.  through
	  homebrew i installed emacs with the cocoa flag.  is this a good option
	  or is there a better one for me to try?  [07:00]
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|away
<brehaut> wait, to get clojure installed‽
<casion> mefesto: that's the best option in my experience
<Cr8> hm
<brehaut> http://emacsforosx.com  [07:01]
<Cr8> getting a NullPointerException when lein tries to AOT compile my :main
      file
<brehaut> and when you try to run lein self-install for the first time, the OS
	  should prompt you to install java
<mefesto> casion: great, glad to hear i haven't wasted all day :)
<mefesto> brehaut: already have java7 going and leiningen
<brehaut> then emacsforosx should cover the rest for you  [07:02]
<casion> mefesto: just install clojure mode, paredit, clojure
<casion> and you're about done
<mefesto> brehaut: awesome, thanks for the reference
<mefesto> casion: yeah i have that plus nrepl going so i think im good
<mefesto> my main concern was homebrew + emacs with cocoa flag
<casion> mefesto: I find the homebrew emacs more useful with the NS extensions
									  [07:03]
<casion> than emacsforosx
<mefesto> casion: NS ext?
<casion> mefesto: --cocoa
<mefesto> ah i see
<cored> hello everyone  [07:04]
<cored> I'm new to clojure
<mefesto> i was hesitant to get this machine but after using it all day im
	  pretty happy.  only minor gripe is that i miss having a right side
	  control key
<cored> and getting some problems with a piece of code, let me show you
<cored> https://gist.github.com/3430574  [07:05]
<cored> that's the code
<cored> and this is the error
<cored> CompilerException java.lang.RuntimeException: No such namespace:
	clojure, compiling:(/home/homer/code/clojure/word.clj:2)
<cored> any suggestion?
<mefesto> is it possible to remap the right side command and alt keys to mimic
	  alt, ctrl respectively?
<cored> is clearly that it doesn't find the clojure namespace but I thought that
	was part of the CLASSPATH is that exists in Clojure world  [07:06]
<Cr8> mefesto: yes. Hit modifier keys in keyboard preferences:
      http://drop.crate.im/System_Preferences-20120823-160634.png
<nDuff> cored: maybe you're thinking clojure.core?  [07:07]
<nz-> Cr8: why are you using refer here?
<mefesto> Cr8: thank you!
<nz-> d
<technomancy> cored: setting CLASSPATH is strongly discouraged
<nz-> s/Cr8/cored/
<mefesto> Cr8: oh this is system wide? i was hoping for something emacs only
									  [07:08]
<cored> technomancy: I see  [07:09]
<cored> nz-: I'm following this series
	http://writingcoding.blogspot.com/2008/06/tokenization-part-4-organization.html
<cored> nz-: he use refer there, when talking about code organization
<technomancy> wow, over four years old
<cored> technomancy: the series?  [07:10]
<cored> well yes
<cored> but I thought that probably stuffs haven't change that much
<cored> :-)
<Raynes> You've probably found the worst possible thing you could read.
<brehaut> technomancy: blogs are always kept relevant!
<technomancy> that's like from before the dawn of time in clojure years
<Raynes> 4 years ago Clojure pretty much didn't exist, cored. Everything has
	 changed.
<cored> shits
<Cr8> huh
<Cr8> i apparently can't AOT compile a ns that uses timbre :{  [07:11]
<wmealing_> the logger ?
<cored> I just wanted something like
	https://github.com/thoughtbot/trail-map/blob/master/trails/ruby.md
<wmealing_> Cr8: man i was looking forward to using that..
<cored> but for Clojure
<brehaut> its not just from the dawn of clojure time, it predates technomancy's
	  announcement on the ML that he had made everything better
<Cr8> well i might be doing something exceedingly dumb  [07:12]
<Cr8> I haven't figured it out yet.
<cored> something to follow up
<Frozenlo`> "Error: problem requiring leiningen.js hook
<Frozenlo`> Exception in thread "main" java.io.FileNotFoundException: Could not
	    locate leiningen/js__init.class or leiningen/js.clj on classpath:"
	    What's this leiningen.js?
*** Frozenlo` (~user@cable-15.246.173-182.electronicbox.net) is now known as
    Frozenlock
<wmealing_> Cr8: if you do.. let me know because i am keen.  [07:13]
<Raynes> technomancy:
	 https://groups.google.com/d/msg/clojure/gBoCUXq37fM/841iHii--2IJ You
	 were so cute back in 2008.
<Raynes> 2009*
<technomancy> Raynes: the chat logs from the day I joined this channel are a
	      real blast too
<Raynes> technomancy: Gib
<technomancy> "what's this classpath thing? it smells like bullshit."
<brehaut> haha  [07:14]
<cored> so, guys what do you suggest for a beginner ?
<cored> grab a book and start from there?
<mefesto> lol  [07:15]
<technomancy> ~volkmann
<clojurebot> volkmann is probably the best free introduction to the Clojure
	     language: http://java.ociweb.com/mark/clojure/article.html
<technomancy> ~beginner's guide
<clojurebot> Cool story bro.
<technomancy> ~brief beginner's guide
<clojurebot> I don't understand.
<Raynes> Clojure Programming would be a great place to start if you were willing
	 to throw some green at learning Clojure.
<cored> Raynes: what :-/
<technomancy> if you want something free, try the volkmann tutorial or the brief
	      beginner's guide
<technomancy> otherwise, clojurebook.com
<Raynes> The volkmann article is ancient but the troll under the bridge keeps it
	 up to date, it's pretty amazing.  [07:16]
<cored> I will read everything
<cored> I find :-)
<Raynes> Except blog posts.
<cored> ok, except blog posts
<Raynes> Seriously, ignore them all. Even if they're mine. Especially if they're
	 mine.
<cored> well if they are from this year I think that's ok, right Raynes ?
<Raynes> Maybe.
<cored> I was considering in getting, the joy of clojure, practical clojure and
	programming clojure  [07:17]
<Raynes> Make sure you avoid stuff by brehaut.
<brehaut> if a blog says its from 2012 its wrong, if its earlier, its wrong and
	  out of date
<brehaut> (inc raynes)
<lazybot> ⇒ 15
<jkkramer> I learned a lot from watching the early clojure / rich hickey
	   videos. not sure how dated they are now, though
<Raynes> <3
<cored> brehaut: :-)
<Raynes> As dated as dated gets.
<cored> brehaut: how can you anybody be up to date with Clojure?
<Raynes> How can that sentence be reworded to make sense?
<Raynes> :p  [07:18]
<cored> haha
<cored> how can anybody be up to date with Clojure, now a days
<thorbjornDX> Raynes: is Clojure Programming (the book) any good?
<Raynes> They can be Rich Hickey.
<SegFaultAX|work2> thorbjornDX: It's very good, yes.
<Raynes> thorbjornDX: It is the latest and greatest. I haven't read the whole
	 thing personally, but I trust cemerick's ability to make awesome.
<Frozenlock> cored: You could consider lurking here. I'm always amazed by the
	     little gems that can be discovered. Just by checking other
	     problems/solutions :)
<SegFaultAX|work2> thorbjornDX: Alongside Joy of Clojure.
<splunk> Programming Clojure is also really good  [07:19]
<thorbjornDX> SegFaultAX|work2: Okay, I'm digging into chapter 1 of prog
	      clojure, I'll have to check out the other one you suggested
<cemerick> Raynes: blasphemer!
<cored> Frozenlock: :-)
<splunk> I'm waiting for a book that goes beyond just introducing the language
<cored> I found this: http://learn-clojure.com/  [07:20]
<Raynes> splunk: It's called The Joy of Clojure.
<Raynes> And it has been available for quite a while now.
<Cr8> mm
<Cr8> its not timbre, its spyglass
<SegFaultAX|work2> splunk: What are you looking for, specifically?
<splunk> Raynes: eh...it didn't change my perspective as much as SICP for
	 example
<splunk> These are good questions.  Thinking...
<cored> also, this
	http://www.youtube.com/watch?v=Aoeav_T1ARU&list=PLAC43CFB134E85266&feature=plcp
<SegFaultAX|work2> splunk: SICP is a completely different kind of book with a
		 completely different goal.  [07:21]
<cored> but those videos are from three years ago, so probably won't do me any
	good
<shawnlewis> is there convention for naming locals that would collide with
	     something that's already in the current namespace? For example in
	     python I might name a local "file_" instead of "file"
<technomancy> cored: the videos are generally more abstract, and thus a lot less
	      likely to get out of date  [07:22]
<technomancy> cored: it's the "type this stuff in at the command line; use this
	      IDE integration" stuff where everything breaks horribly
<brehaut> not to mention people doing videos / presentations put more work into
	  them than blog posts often get
<cored> technomancy: I see, I found a presentation from Neal Ford I thought he
	was into Scala but now he is with Clojure, one of my personal heroes :-)
<SegFaultAX|work2> Argh, Scala.  [07:23]
<Raynes> $kill
<lazybot> KILL IT WITH FIRE!
<cored> hehe  [07:25]
<cored> well I saw him talking about it, don't know where but he was
<cored> but now he is talking about a plan for enterprise domination with
	Clojure, which is cool
<ToxicFrog> ...wow, I had no idea Scala was so reviled here.  [07:28]
<Raynes> technomancy: http://en.wikipedia.org/wiki/Leiningen_Versus_the_Ants
	 Says that leiningen uses ant.
<Raynes> ToxicFrog: It isn't.
<technomancy> Raynes: hah; I hope not
<Raynes> technomancy: No, it seriously does.
<technomancy> Raynes: you mean http://en.wikipedia.org/wiki/Leiningen_(software)
	      I think
<Raynes> technomancy: Look under 'See also'
<technomancy> oh, heh
<technomancy> you're right  [07:29]
<cored> what do you guys think about the clojure katas?
<technomancy> Raynes: that's dumb; it should just link to the disambiguation
	      page at the top I think
<technomancy> from the talk page: "Awesome story... just awesome. I hope someone
	      makes a defend the castle type game of this story."  [07:30]
<davejacobs> did compojure get rid of magic variables?  [07:53]
<SegFaultAX|work2> I'm looking for a function similar to group-by, except it
		 simply paritions a collection into 2 lists: those true for the
		 predicate, and those false for the predicate.  [07:58]
<SegFaultAX|work2> Does such a thing already exist?
*** abstractj (~abstractj@redhat/jboss/abstractj) is now known as abstractj|away
<shaungilchrist> not that I am aware of - but if you create it will you please
		 call it dichotomize-by  [08:00]
* wmealing_ has an idea of how to do it in function.  [08:01]
<wmealing_> would partition-by work ?
<SegFaultAX|work2> shaungilchrist: Deal.  [08:02]
<duck1123> davejacobs: I'm not sure what it's called, but I think there's a fn
	   that gives access to the request
<duck1123> that may only be in noir, i don't use it
<shaungilchrist> are clojurescript questions appropriate here?
<nDuff> shaungilchrist: Yes.  [08:03]
<shaungilchrist> I have latest lein and it no longer has a bootstrap task so the
		 clojurescriptone instructions do not work
<shaungilchrist> should I just get older version of lein or is there a newer way
		 of accomplishing same thing?  [08:04]
<nDuff> shaungilchrist: ...you've hit on part of why folks tend to keep "lein1"
	around, even if under a different command.
<tmciver> SegFaultAX|work2: there used to be something like that in a contrib
	  library but you could do something like ##((juxt (fn [x] (filter even?
	  x)) (fn [x] (filter odd? x))) [1 2 3 4 5])
<lazybot> ⇒ [(2 4) (1 3 5)]
<technomancy> shaungilchrist: using clojurescript without cljsbuild is kind of a
	      pain  [08:05]
<shaungilchrist> yeah I just got lein 1.6 and bootstrap is running fine now
									  [08:06]
<shaungilchrist> checking out lein-cljsbuild now though  [08:07]
<tmciver> SegFaultAX|work2: amalloy's is even better: (def split-pred (juxt
	  filter remove))
<tmciver> SegFaultAX|work2: Ah, it was called 'separate' in clojure.contrib
									  [08:08]
<SegFaultAX|work2> tmciver: I'm not sure I understand (juxt filter remove)
<technomancy> oh, you're in for a treat
<technomancy> juxt is the best  [08:09]
<SegFaultAX|work2> technomancy: I understand juxt, I think.
<SegFaultAX|work2> But I don't understand that use of filter.  [08:10]
<SegFaultAX|work2> Oh wait, I understand.
<tmciver> SegFaultAX|work2: you'd have to pass it your pred and your collection:
	  ##((juxt filter remove) even? [1 2 3 4 5])
<lazybot> ⇒ [(2 4) (1 3 5)]
<SegFaultAX|work2> That's pretty cool.
<SegFaultAX|work2> ,((juxt filter remove))  [08:11]
<clojurebot> #<ArityException clojure.lang.ArityException: Wrong number of args
	     (0) passed to: core$filter>
*** banseljaj (~imami@173-13-139-237-sfba.hfc.comcastbusiness.net) is now known
    as imami|afk
*** _zach|away (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now
    known as _zach  [08:14]
<SegFaultAX|work2> Juxt is really awesome.
<davejacobs> duck1123: sorry, missed your msg  [08:15]
<davejacobs> i think if you use compojure.handler/site over your app-routes,
	     they are supposed to get the magic variables
<davejacobs> however, that's not working out for me. (looks from the source code
	     like it should)  [08:16]
<davejacobs> the Internet-at-Large says that magic variables should be bound
	     inside the defroutes macro by default...
<rafik> Hello, I have what seems like a simple question but I can't figure it
	out. I need to get the values from a map in a specified order. So
	something like (get-values map [:a :b]). But I need the values return to
	be in that order. Any hints?  [08:22]
<imeredith> rafik: usually maps are sorted because it helps with lookup time
									  [08:24]
<imeredith> (im not a clj person so i could be wrong with clojure)
<tmciver> I don't think you can rely on any ordering with a normal clojure map.
<tanzoniteblack> rafik: clojure maps are either based on a hash-map or a
		 sorted-map  [08:25]
<Frozenlo`> rafik: If you really just want to get them in a particular order:
	    (map #(get MAP %) [:first-key :second-key :third-key...])
<rafik> ah ok so get can take a vector of keys  [08:26]
<jeremyheiler> ,(map (partial get {:a 1 :b 2}) [:a :b])
<clojurebot> (1 2)
<jeremyheiler> doh, Frozenlo beat me to it
<rafik> oh nvm
<tmciver> ,(map {:b 2 :c 3 :a 1} [:a :b :c])
<clojurebot> (1 2 3)
<jeremyheiler> oh yea, maps are functions too
*** jtoy_ (~jtoy@69-12-169-82.dedicated.static.sonic.net) is now known as jtoy
									  [08:27]
<Frozenlo`> Can't believe I forgot that.
<rafik> tmciver: Oh wow, that's incredibly simple and makes complete sense
<rafik> Thank you guys :)
<rafik> jeremyheiler: Thank you!  [08:28]
<SegFaultAX|work2> How can I improve my implementation of quicksort?
		 https://www.refheap.com/paste/4597  [08:29]
*** Frozenlo` (~user@cable-15.246.173-182.electronicbox.net) is now known as
    Frozenlock
<wmealing_> shaungilchrist/Segfault: i was waiting for a compile. is this what
	    you meant ?  http://hastebin.com/pomorececi.coffee  [08:30]
<wmealing_> SegFaultAX|work2:rather
<rafik> Could someone actually quickly explain how that worked? How do you use
	map on a map like that. They are functions?
<Frozenlock> rafik: Keys are functions of a map, and vice-versa.
<jeremyheiler> ,({:a 1} :a)  [08:31]
<clojurebot> 1
<jeremyheiler> ,(:a {:a 1})
<clojurebot> 1
<jeremyheiler> (get {:a 1} :a)
<tmciver> SegFaultAX|work2: I don't think you actually need that juxt separate,
	  try split-with.
<jeremyheiler> ,(get {:a 1} :a)
<clojurebot> 1
<Frozenlock> Magnificent, isn't it? :P
*** qmx|away (~qmx@redhat/jboss/qmx) is now known as qmx
<tmciver> ,(doc split-with)
<clojurebot> "([pred coll]); Returns a vector of [(take-while pred coll)
	     (drop-while pred coll)]"
<jeremyheiler> yes yes
<rafik> Frozenlock: Oh neat! Thanks for the help  [08:32]
<SegFaultAX|work2> ,(split-with (partial < 10) (shuffle (range 20)))
<clojurebot> [(18) (10 1 14 13 11 ...)]
<tmciver> SegFaultAX|work2: hmm, no, that's not right. disregard me.  [08:33]
<Frozenlock> I don't think I've used `get' a single time since I discovered this
	     relation.
<jeremyheiler> Frozenlock, I've had to use it when I'm stuck with string keys
<Frozenlock> Well except just here.
<SegFaultAX|work2> tmciver: I made that assumption, too. I realized I needed a
		 partition function. Unfortunately none of the existing
		 partitions match this use case.
<SegFaultAX|work2> tmciver: That's why I asked if this function already existed.
<Frozenlock> jeremyheiler: I usually do ((keyword "a") {:a 1}) o_O  [08:34]
<SegFaultAX|work2> (Didn't want to re-invent what might already be there by a
		 different name)
<tmciver> SegFaultAX|work2: but you're already re-inventing sort with that
	  function. ;)
<SegFaultAX|work2> tmciver: Don't tell anyone. :)
<jeremyheiler> Frozenlock, I mean I would have to do (get {"a" 1} "a")
<tmciver> Your secret is safe with me.  [08:35]
<Frozenlock> Oh, string as a key!
<Frozenlock> Why the hell? :)
<Frozenlock> ,(name :so-easy-to-get-string-later)  [08:36]
<clojurebot> "so-easy-to-get-string-later"
*** jtoy_ (~jtoy@50.0.132.2) is now known as jtoy  [08:37]
<jeremyheiler> heh, it's not always worth translating the map of string keys to
	       keyword keys.
<Frozenlock> YES! Yes it is! ArrrAAARRR!
<SegFaultAX|work2> Is there a function specifically to turn a list of char into
		 a string? Eg (apply str (\f \o \o))?
<jeremyheiler> lol
<SegFaultAX|work2> Seems like a common enough usecase.  [08:38]
<tmciver> SegFaultAX|work2: nope, that's it.
<SegFaultAX|work2> Boo.
<tmciver> at least, I don't think there is.
<Frozenlock> (defn stringify [& rest] (apply str rest))
<jeremyheiler> str using a StringBuilder, so it's cool  [08:39]
<SegFaultAX|work2> Frozenlock: I know how to do it. Again, I just don't want to
		 re-invent something that might already exist.
<Frozenlock> jeremyheiler: bullseye, again.
<jeremyheiler> uses*
<Frozenlock> Wasn't there `logic', or something like it, to check if we where
	     reinventing the wheel?  [08:41]
<SegFaultAX|work2> Frozenlock: Is it illogical to assume that such a thing might
		 already exist?  [08:42]
<duck1123> it doesn't have all the wheels, but check out kibit
<Frozenlock> SegFaultAX|work2: No, I mean, the package `logic'
<Frozenlock> That wasn't an insult at all :)  [08:43]
*** jcrossley3 (~user@68.114.25.210) is now known as jcrossley3-away
<Frozenlock> https://github.com/clojure/core.logic  (but I don't know how to use
	     it)
* Frozenlock successfully used a javascript library with cljs  [08:45]
<Frozenlock> Yeah, achievements, I has zhem!
<mefesto> I'm trying to get color-theme working on my system (OSX 10.8).  I
									  [08:54]
<mefesto>           installed emacs with homebrew and everything else seems to
	  be fine.
<mefesto>           I'm unable to install any other color-theme packages from
	  marmalade.
<mefesto>           It complains that I have color-theme 6.5.x when I need
	  6.6.x.  Any
<mefesto>           ideas (I'm new to OS X)?
<mefesto> ugh, im sorry about that :(
<mefesto> cut & paste gone wrong.
<clj_newb_27892> how do I use macros in clojurescript  [08:55]
<clj_newb_27892> this is baffling me  [08:56]
<clj_newb_27892> so do I define them in a *.cljs file or a *.clj file, and do
		 they go in cljs-src/* or clj-src/* ?
* Frozenlock is listening for this answer as well  [08:57]
<emezeske> clj_newb_27892: You define them in a *.clj file  [08:58]
<clj_newb_27892> where do I put them?
<emezeske> clj_newb_27892: They can go in clj-src OR cljs-src, as long as
	   they're on the classpath you're good
<clj_newb_27892> hmm
<clj_newb_27892> okay
<clj_newb_27892> let me try
<emezeske> clj_newb_27892: And make sure you use :require-macros instead of
	   :require  [08:59]
<clj_newb_27892> I'm using :use-macros
<boyscared> how does one increase the timeout when running `lein repl'? my slow
	    computer always gets REPL timeout errors :(  [09:01]
*** amalloy_ (~amalloy@li231-96.members.linode.com) is now known as amalloy
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|away  [09:02]
<clj_newb_27892> what is this "lein timeout" ?
<clj_newb_27892> I've never heard of it.
<boyscared> whenever i run `lein repl' on my netbook, i get "REPL server launch
	    timed out."  [09:03]
<boyscared> it's just because it takes so long
<boyscared> nevermind, found it... it's :repl-options {:timeout x}  [09:07]
<clj_newb_27892> this is a question about fishing, not a single fish: how do I
		 get lein to tell me what the latest version of clojruescript
		 is? I'm currently using [org.clojure/clojurescript "0.0-1236"]
		 ... and I think this is part of my woes.  [09:12]
<jeremyheiler> you can look it up on search.maven.org  [09:14]
<jeremyheiler>
	       http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22org.clojure%22%20AND%20a%3A%22clojurescript%22
<clj_newb_27892> why does the 1450 branch not show up on my "lein search
		 clojurescript" ?  [09:15]
<clj_newb_27892> okay  [09:19]
<clj_newb_27892> somethign appears to work
<clj_newb_27892> thanks :-)
<jeremyheiler> it shows up for me. maybe you need to refresh your local index?
	       anyway, glad stuff is working.  [09:21]
<clj_newb_27892> classpath, clean, compile, deploy, deps, help, install,
		 interactive, jar, javac, new, plugin, pom, repl, retest, run,
		 search test, test! trampoline, uberjar, upgrade, version <--
		 which one of these updates my local index?  [09:22]
<clj_newb_27892> oh, lein search --update hehe  [09:23]
<clj_newb_27892> lein search clojurescript Warning: couldn't download index for
		 http://repo1.maven.org/maven2
<clj_newb_27892> hmm mauyb ethat is why it does not work for me
<clj_newb_27892> lein version Leiningen 1.7.1 on Java 1.7.0_05 Java HotSpot(TM)
		 64-Bit Server VM  [09:24]
<clj_newb_27892> what version of lein are you using?
<jeremyheiler> 2.0.0-preview8  [09:25]
<Frozenlock> Is there any other in-browser REPL?  [09:30]
<Frozenlock> (except himera)
*** PuercoPop (~PuercoPop@190.41.173.174) is now known as Guest62257  [09:31]
<ibdknox> wow  [09:36]
<ibdknox> did you guys see the thread on fogus's blog post about snippets?
									  [09:37]
<amalloy> ibdknox: i saw it this morning with about ten comments, has it
	  exploded further?  [09:39]
<ibdknox> amalloy: it's at  15, but you probably saw most of it
<ibdknox> I'm just astounded by the bile in rich's responses
<amalloy> i agree, it's nuts
<ibdknox> fogus is absolutely correct
<ibdknox> it is very important if only to provide a frame for what someone is
	  looking at  [09:40]
<amalloy> it's trivial to write a compelling snippet for clojure
<ibdknox> I completely disregarded clojure for several months because of
	  clojure.org
<shaungilchrist> I get the feeling his bile is not directed at fogus but more at
		 the general dumbing down/selling of languages
<ibdknox> shaungilchrist: it's not a matter of dumbing it down, its a matter of
	  providing a reference point  [09:41]
<Frozenlock> ibdknox: could you post the link?
<ibdknox> he's clearly never marketed anything
<ibdknox> Frozenlock: http://blog.fogus.me/2012/08/23/minimum-viable-snippet/
<Frozenlock> Thank you very much!
<ibdknox> datomic suffers from a similar fate :(
<Frozenlock> datowhat? :)
<ibdknox> lol
<shaungilchrist> yeah I actually agree - if I wasn't already "into" lisp clojure
		 would not entice me
<clj_newb_27892> is Rich Hickey the most brilliant systems engineer since the
		 turing award winners?  [09:44]
<ibdknox> lol
<clj_newb_27892> I'm not kidding. Clojure has the brilliance of: functional data
		 structures that actually works; the sending of agents
		 _functions_ rather than _values_ is brilliant. I haven't
		 figured out the brilliance of datomic yet, but I suspect it's
		 sheer brilliance.  [09:46]
<clj_newb_27892> That said, I don't think he'll win the turing given it's not
		 "theoretically new enough"
<clj_newb_27892> that said, I thikn fogus is absolutely right on the minimum
		 vialbe snipplets  [09:49]
<amalloy> personally i'd love to see the solution to project euler #2 (sum of
	  even fibonacci numbers less than four million) on clojure.org. the
	  simplicity is so captivating  [09:50]
<amalloy> i always use that to introduce folks to the dramatically reduced
	  intermingling of "business logic" with bookkeeping code that clojure
	  and FP bring  [09:51]
<Frozenlock> Learning Clojure is for the masochists. No clear example on
	     clojure.org. Still a (relatively) small community, absolutely no
	     great tutorial to get started on the spot. (You can't get someone
	     started on Clojure by telling him "Oh just use Emacs." If he's not
	     already a user, that's just insulting.) Then there's the eternal
	     `contrib' found in so many examples, yet which is now
	     non-existent. Oh and everything assumes that you know java
									  [09:52]
<Frozenlock> javascript for cljs.
<Frozenlock> I am a masochist.
<Frozenlock> ibdknox: I disregarded clojure for several months because of this:
	     http://www.loper-os.org/?p=42  [09:53]
<clj_newb_27892> Frozenlock: I thought learning Clojure was hard. They I tried
		 writing a realtime webchat in ClojureScript w/ websockets
		 despite not knowing CSS, HTML, JavaScript, or web standards.
									  [09:54]
<clj_newb_27892> ClojureScript's code is the documentation.
<clj_newb_27892> oh, I forgot to mention _via_ Google Closure library ... taht
		 made it extra fun  [09:55]
<ibdknox> Frozenlock: wow.. that is impressively angry
<clj_newb_27892> [/end bragging]
<Raynes> Frozenlock: That guy is the biggest running joke we have in the Clojure
	 community.
<Frozenlock> Raynes: The guy from LoperOS?  [09:56]
<casion> "The Clojure user who is missing some routine or other will run crying
	 to Java for help"  [09:57]
<casion> ahahahaha
<Raynes> Frozenlock: Indeed.
<casion> this post is hilarious… it's sattire right?
<casion> I'm just going to assume it is so I can sleep easy
<TimMc> casion: Hard to tell sometimes with LoperOS.
<Frozenlock> clj_newb_27892: Clojure code is clear. However the slope is quite
	     steep for those in this channel who are not geniuses, ie me.
<casion> I'm pretty far removed from every clojure is, I don't use java much,
	 I've never used lisp, I've never programmed functionally  [09:58]
<casion> but I find clojure code very easy to read
<clj_newb_27892> truth be told, I started with haskell before Clojure ... then
		 decided, at first, taht Clojure was not learning because
		 Haskell convinced me I was not smart enough for functional
		 programming
<casion> solving things in clojure on my own though..  [09:59]
<clj_newb_27892> then, by accident, I realized Clojure was closer to scheme than
		 Haskell in the IQ-required category
<casion> I find that very fiddicult due to the afforementined reasons
<Frozenlock> casion: he has a valid point. How do you parse numbers in clojure?
	     You call an obscure java method :)
<Frozenlock> Well obscure for me at least.
<amalloy> &(read-string "23490235")  [10:00]
<lazybot> ⇒ 23490235
<Frozenlock> Wut
<Frozenlock> Wait what....
<Iceland_jack> Couldn't `int' also parse strings into integers though? E.g. (int
	       "242" 9) ⇒ 200  [10:01]
<amalloy> Iceland_jack: couldn't "+" implicitly accept strings as well? you have
	  to draw the line somewhere
<ibdknox> Frozenlock: I think that is because Clojure has not yet been correctly
	  presented for beginners. Not because of the language itself
<Iceland_jack> I suppose, but there is a reason why + doesn't accept strings as
	       well
<amalloy> and same for int, of course
* brehaut has a PHP flashback  [10:02]
<Iceland_jack> Well + accepting strings and integers would make it
	       non-associative, i.e. (+ "hi" 2 5) could just as well return
	       "hi7" and "hi25"
<Frozenlock> amalloy: Omg I love you! I don't know why, everyone I saw was
	     always using float.parse or something like that!
<Frozenlock> I won't feel dirty anymore!
<TimMc> Frozenlock: read-string is a little weird for that, though.  [10:03]
<TimMc> &(doc *read-eval*)
<lazybot> java.lang.SecurityException: You tripped the alarm! *read-eval* is
	  bad!
<TimMc> Careful with read on user input.
<amalloy> Iceland_jack: i didn't imagine it would perform string
	  concatenation. (+ "3" 5) could easily return 8  [10:04]
<Frozenlock> ibdknox: Don't get me wrong, the language is GREAT. I'm doing more
	     with it than I would with anything else. But some corner can
	     be... wilder. Places where the underlying language isn't totally
	     abstracted away.
<amalloy> but it doesn't, because that would be bad, just like int being loose
	  about what types it accepts
<Iceland_jack> Hm maybe, I just feel something like Python's `int' is really the
	       way to go  [10:05]
<Frozenlock> I don't want to imagine how it was before leiningen....  [10:06]
<Iceland_jack> I prefer Clojure to something like Common Lisp by a mile but I
	       dislike the amount of Javaisms at times, Integer/parseInt…
<brehaut> Iceland_back: type(int) #=> <type 'type'>
<brehaut> Iceland_jack: so the equivalent in clojure is to use javas Integer
	  class  [10:07]
<brehaut> ,(Integer "123")
<clojurebot> #<ExecutionException java.util.concurrent.ExecutionException:
	     java.lang.RuntimeException: Expecting var, but Integer is mapped to
	     class java.lang.Integer>
<brehaut> bah
<Frozenlock> Oh.. `read-string' doesn't exist in cljs yet :(
<brehaut> ,(Integer. "123")
<clojurebot> 123
<Iceland_jack> Hm, only that doesn't work with different bases  [10:08]
<brehaut> ,(Integer/parseInt "AB" 16)  [10:09]
<clojurebot> 171
<brehaut> its not rocket surgery; just look at the javadoc
<Iceland_jack> Yeah I know how to do it :) it's an aesthetic nitpick
<brehaut> i have a nitpick with python not allowing unboxed ints, so lets call
	  it even ;)  [10:11]
<Iceland_jack> Fair enough
<Iceland_jack> Clojure is a beautiful language, and the Java interop is a(n
	       almost) neccessary part of it
<clj_newb_234> wtf ... is (:selector hashmap) broken in clojurescript? i.e. (def
	       x {:first "Alexander" :last "the Great"}) (:first x)  [10:15]
<tomoj> incidentally (int "3") works in cljs :/  [10:16]
<tomoj> because (Math/floor "3")
*** pepijndevos (~pepijndev@ec2-23-21-19-58.compute-1.amazonaws.com) is now
    known as pepijn_away
<tomoj> also (= (+ 1 "1") (+ "1" 1) "11") ...  [10:17]
*** qmx|away (~qmx@redhat/jboss/qmx) is now known as qmx
<tomoj> (pos? "1")  [10:18]
<ibdknox> clj_newb_234: no, that's not broken
<clj_newb_234> ibdknox: it is broken for me  [10:19]
<clj_newb_234> what version of clojurescript are you using?
<clj_newb_234> i'm using 0.0-1450
<clj_newb_234> it worked back when I was using 0.0-12??
<lazybot> clj_newb_234: What are you, crazy? Of course not!
<ibdknox> I'm using something around there
<ibdknox> I track master, but I'm a little behind
<ibdknox> clj_newb_234: exact code?  [10:20]
<clj_newb_234> let me produce a minimal example with corresponding javascript
<clj_newb_234> ibdknox: http://pastebin.com/zK6HFVAz  [10:21]
<clj_newb_234> Error: Uncaught TypeError: undefined is not a function  [10:22]
<clj_newb_234> I need to becareful here. If not, I might end up being useful to
	       the clojure community rather than being a leech.
<clj_newb_234> I ahve no optimization flags; I do have :pretty-print true
<Frozenlock> clj_newb_234: Works for me.
<clj_newb_234> Frozenlock: can you pastebin the generated javascript code you
	       get?  [10:23]
<Frozenlock> No, I simply tested it in my REPL...
<ibdknox> clj_newb_234: what line is that error on?
<clj_newb_234> Frozenlock: We're testing ClojureSCRIPT, not Clojure ...  [10:24]
<Frozenlock> Yes, my cljs repl
<clj_newb_234> ibdknox: line 116 -- should I paste the entire genrated file?
<ibdknox> clj_newb_234: I'm more wondering which of the two generated lines it's
	  on
<clj_newb_234> oh; the "return" line  [10:25]
<ibdknox> clj_newb_234: the first call or the second?
<clj_newb_234> the second call
<ibdknox> swap the order of the two call
<ibdknox> s
<ibdknox> and see what happens
<clj_newb_234> it still dies on the (:first x) line
<tomoj> so, what, theKeyword.call is undefined?  [10:26]
<ibdknox> cljs.core.Keyword doesn't exist?
<clj_newb_234> tomoj: I believe the problem is trying to use th ekeyword as a
	       function.
<clj_newb_234> ibdknox: how can I test taht?
<ibdknox> using chrome?  [10:27]
<clj_newb_234>      (js/console.log "printing keyword")       (js/console.log
	       cljs.core.Keyword)
<clj_newb_234> outputs "undefined"
<clj_newb_234> yes, using Chrome
<ibdknox> do lein cljsbuild clea
<ibdknox> n
<ibdknox> sounds like your core.cljs got hosed somehow  [10:28]
<tomoj> how would a Keyword have a call anyway?
<clj_newb_234> restarting web server ....
<clj_newb_234> (:keyword x m) should ge equiv to (get m :keyword)
<tomoj> I thought implementors of IFn don't get auto-promoted to real js
	functions
<clj_newb_234> still does not work  [10:29]
<amalloy> tomoj: dnolen added some tricks in the compiler, so that calling a
	  keyword literal as a function is extra-smart somehow. i don't recall
	  the details
<clj_newb_234> same error: cljs.core.Keyword is apparently still undefined
<clj_newb_234> what version of clojurescript are you guys using?  [10:30]
<tomoj> also I notice in my core.cljs (deftype Keyword [k] IFn (invoke [_ coll]
	..))
<clj_newb_234> I'm happy to upgrade. :-)
<tomoj> but IFn has only -invoke
<tomoj> peculiar...
<Frozenlock> I don't remember downloading any particular version... is it
	     contained in cljsbuild?  [10:31]
<clj_newb_234> hmm, I'm unforunately not using cljsbuild  [10:32]
<Frozenlock> No repl an no cljsbuild o_0   you are courageous!
<tomoj> cljsbuild 0.2.5 depends on 0.0-1450
<ibdknox> clj_newb_234: why aren't you using cljsbuild?  [10:33]
<clj_newb_234> i hacked my system so taht when I hit ctrl-l in VIM, cljsbuild is
	       called (via require cljs.build), and then the web browser is
	       remotely restarted
<ibdknox> clj_newb_234: just for kicks and giggles, turn on simple optimizations
									  [10:34]
<clj_newb_234> actually, after I nuked .repl
<clj_newb_234> something else is broken,
<clj_newb_234> {return
	       cljs.core.apply.call(null,Array.,cljs.core.map.call(null,clj__GT_js,x));
	       (core.js line 68)
<clj_newb_234> so your intuition is right, something is wront with cljs core
									  [10:35]
<tomoj> amalloy: I see the bit that emits new Keyword(...).call, but not how
	Keyword gets a call method
<clj_newb_234> hmm, the following is intereting:  [10:42]
<clj_newb_234> WARNING: Wrong number of args (0) passed to cljs.core/array at
	       line 115
	       file:/Volumes/ramdisk/crfx/lib/clojurescript-0.0-1450.jar!/cljs/core.cljs
<clj_newb_234> wtf, is 1450 broken?
<clj_newb_234> I'm using clojure 1.4.0
<mindbender1> while I was learning clojure I looked up to a number of
	      people. But now it's clearer to me who's who and those who
	      actually know what they are doing and why they are in clojure in
	      the first place  [10:43]
<clj_newb_234> hmm  [10:44]
<clj_newb_234> I havefound an offentind pieces of code (wrhtten by me)
<clj_newb_234> (apply js/Array. (map ...))
<clj_newb_234> apparently Js/Array. is not the right way to construct an aaray
	       in JavaScript
<clj_newb_234> how do I create a JavascriptArray ?  [10:45]
<ibdknox> array
<ibdknox> it's a core function
<tomoj> ah, I see, extend-type (which is called by deftype) notices IFn and sets
	.call and .apply on the prototype  [10:46]
<clj_newb_234> this is completely unsatisfying: but eerything works now
<clj_newb_234> I really wish I knew _wtf_ I did incorectly
<Frozenlock> ibdknox: Do you know if there's any plan to integrate a function
	     similar to your clj->js from jayq in cljs.core?  [10:47]
<ibdknox> I dunno  [10:48]
<ibdknox> there should be :)
<ibdknox> dnolen is the man to talk to
<ibdknox> or just file an issue
<tomoj> I heard someone say that it is not provided because there is no
	generally correct answer
<ibdknox> my version from jayq recently became incorrect though
<Frozenlock> How comes? .core changed?  [10:49]
<ibdknox> .strobj is not guaranteed to be there anymore
<ibdknox> since we have for realz persistent datastructures now
<Frozenlock> tomoj: well clojure is almost synonymous with maps. Something MUST
	     be able to convert it to javascript compatible data.  [10:51]
<Frozenlock> ibdknox: As long as I don't update I'm safe :)
<tomoj> you may be able to write a conversion function which satisfies you
<tomoj> maybe ibdknox's would satisfy you
<tomoj> the claim is something like that there is no one obvious solution that
	will satisfy everyone  [10:52]
<clj_newb_234> dumb question: is there a way to tell JavaScript: "When I read an
	       undefined variable, don't give me nil. Give me a BIG RED
	       WARNING"?  [10:53]
<clj_newb_234> this would save me an infinite amount of debugging time
<clj_newb_234> for some value of infinite
<tomoj> I think you can get that by wrapping your code in `(function(){"use
	strict";<CODE>})()`  [10:54]
<Frozenlock> tomoj: perhaps. I don't know js, there might be other things than
	     json and arrays that could hold the data as well. Still, Maps are a
	     big part of clojure. If you can't use them easily, it's a big
	     handicap.
<clj_newb_234> tomoj: how do I do that in clojurescript?
<tomoj> there is no better way I know of than e.g. a shell script that adds that
	wrapper to the compiled output  [10:55]
<tomoj> (which can be called in cljsbuild's :notify-command  [10:56]
<clj_newb_234> to every *.js file in public/out/ ?
<tomoj> if you use cljsbuild with :output-to you will only get one file  [10:57]
<tomoj> also I've no clue whether the generated code is strict-friendly..
<tomoj> and even if you have multiple files you probably only need the strict
	wrapper in the main file that contains your entry point  [11:01]
<Frozenlock> Anyone tried this? https://github.com/bodil/catnip  I'm too lazy to
	     try it myself....  [11:02]
<clj_newb_234> post it as a task to mechanica turk  [11:03]
<yankov> anyone knows how to achieve this? (set! (symbol k) 32)  [11:07]
<yankov> need to set a value of var where name of var stored in k
<brehaut> yankov: why are you wanting to set vars programmatically?  [11:08]
<Raynes> Step one: tell you how you don't really want to do this  [11:09]
<Raynes> Step two: tell you how to do this
<yankov> brehaut: I want to write a simple data structure server as a learning
	 expretiment
<Raynes> Step three: tell you again how you don't want to do this.
<brehaut> yankov: have you considered having a map of keywords to values in an
	  atom?
<amalloy> brehaut: probably symbols to values, imo, but i guess we don't know
	  enough context to be sure  [11:10]
<yankov> brehaut: yes, but I thought i won't be able to have a lot of keywords
	 in a single map? would it be efficient?
<brehaut> lets leave efficency aside; avoiding madness is a better first
	  priority  [11:11]
<yankov> like could I have millions of keys
<amalloy> yankov: a namespace is just a map too
<yankov> amalloy: hm.. really?  [11:12]
<yankov> interesting..
<amalloy> it's not an IPersistentMap, but it's not magic either. demanding
	  random access for a million keys is a slight pain either way
<amalloy> but maps are very fast; just worry about solving your actual problem,
	  not invented subproblems like efficiency  [11:13]
<yankov> but what would be a right way to approach it. say i wanna be able to
	 store millions of keys
<yankov> gotcha.. I'll try to dig this way. with maps
<brehaut> ,(count (time (into {} (map (juxt identity identity) (range
	  1000000)))))  [11:18]
<yankov> oh, let me try :)
<Frozenlock> This time I won't fall for it.
<amalloy> you may not make it in the sandbox time limit, brehaut
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|away
<clojurebot> Execution Timed Out
<brehaut> amalloy: looks like it takes about 5 seconds locally  [11:19]
<brehaut> i wasnt sure what clojurebots limit is
<yankov> took 2 seconds for me
<yankov> does clojurebot eval stuff  [11:20]
<yankov> ,(+ 1 1)
<clojurebot> 2
<yankov> nice
<amalloy> &(let [m (time (into {} (map (juxt identity identity) (range
	  1000000))))] (time (count (assoc m 10 20)))
<lazybot> java.lang.RuntimeException: EOF while reading, starting at line 1
<brehaut> yankov: the number it gives isnt especially useful; if its a hot piece
	  of code the JVM will reoptimize it and it will start running a bunch
	  faster
<amalloy> &(let [m (time (into {} (map (juxt identity identity) (range
	  1000000))))] (time (count (assoc m 10 20))))
<lazybot> ⇒ "Elapsed time: 2751.355012 msecs" "Elapsed time: 285.904236 msecs"
	  1000000
<tomoj> huh  [11:21]
<amalloy> 2.5s to build the map makes sense, but 0.2s to update it seems really
	  high
<tomoj> yes
<tomoj> gc hiccup?
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off
<amalloy> could be. maybe into's use of transients helps a LOT?  [11:22]
<brehaut> its running much faster on my local machine
<amalloy> yeah, same here
<brehaut> 0.03s sort of thing
<amalloy> ~clojurebot
<clojurebot> clojurebot is a cold unfeeling genderless mechanism
<amalloy> damn it, clojurebot, tell me you're not a benchmarking platform
<tomoj> &(let [m (time (into {} (map (juxt identity identity) (range
	1000000))))] (time (count (assoc m 10 20))))
<lazybot> ⇒ "Elapsed time: 2085.048106 msecs" "Elapsed time: 222.939766 msecs"
	  1000000
<brehaut> it is spiking a bunch though; i suspect there is some GCing of all
	  those vectors and seq links going on
<tomoj> &(let [m (time (into {} (map (juxt identity identity) (range
	1000000))))] (time (assoc m 10 20)))  [11:23]
<amalloy> brehaut: 0.03s? for me it's like 0.03ms
<brehaut> yeahs orry, ms
<amalloy> tomoj: no good, you've printed it all
<lazybot> ⇒ "Elapsed time: 2353.310162 msecs" "Elapsed time: 321.089554 msecs"
	  {0 0, 32768 32768, 65536 65536, 98304 98304, 131072 131072, 163840
	  163840, 196608 196608, 229376 229376, 262144 262144, 294912 294912,
	  327680 327680, 360448 360448, 393216 393216, 425984 425984, 458752
	  458752, 491520 491520, 5242...
<tomoj> realized that as emacs was freezing up from me having typed it at the
	repl just before I sent it here :(  [11:24]
<tomoj> I don't get it
<tomoj> the assoc is ~10% of the build time, where I see 0.007% here
<tomoj> maybe it's on a micro ec2?  [11:28]
<brehaut> or the heap size is really low?  [11:29]
<amalloy> oh sure. the heap size *is* small
<amalloy> he gets 60mb, or maybe 80
<tomoj> why would that make an assoc slow?
<tomoj> cus GC is just making everything slow?  [11:30]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [11:32]
<amalloy> actually he seems to be accidentally running with a *large* heap, and
	  the machine is swapping. so taht's my analysis
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off
<amalloy> doesn't explain why building the map is fast, i guess  [11:33]
<yankov> hm, I guess if I have a one giant map atom, if I change value of one
	 keyword and value of other keyword was changed concurrently - that'd
	 screw it up  [11:39]
<yankov> cause it'll compare a value of the entire map each time. so if one of
	 the million of keywords was changed then it'll try to rewrite again
	 with the new value  [11:42]
<yankov> do i make any sense ...
<jeremyheiler> yankov: thats when you'll probably want to use stm  [11:43]
<yankov> jeremyheiler: yes, and I thought of creating a separate atom for each
	 "key"  [11:45]
<jeremyheiler> ah i see. i suppose it depends if your map is flat or not  [11:48]
<jeremyheiler> or at least, that the only part you care to "manage" is the first
	       level  [11:49]
<jeremyheiler> Does (or has) anybody get "could not locate lein jacker [...] on
	       classpath" when using lein-ring?  [12:01]
<cldwalker> hi, is there a recommended library for paginating html pages?
									  [12:05]
<technomancy> take/drop would be great except for the fact that drop forces a
	      bunch of work that gets thrown away  [12:09]
<technomancy> if anyone's running lein from git, please update to the latest
	      master; it will become preview9 if no issues are reported
									  [12:13]
<l1x> hey guys  [12:22]
<l1x> is there a good way to find all the elements in a lazy seq which are lets
      say smaller than 10?
<amalloy> &(doc filter)  [12:23]
<lazybot> ⇒ "([pred coll]); Returns a lazy sequence of the items in coll for
	  which (pred item) returns true. pred must be free of side-effects."
<l1x> thx
*** _zach (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now known
    as _zach|away  [12:24]
<NotActuallyOnFir> Hello!  [12:30]
<NotActuallyOnFir> I am apparently violating the irc naming convention length.
<NotActuallyOnFir> I am apparently "NotActuallyOnFir" which is entertaining.
*** reprisal (reprisal@dereferenced.nullpointer.net) is now known as william-s
									  [12:31]
<NotActuallyOnFir> I have a question, if anyone is alive. I'm trying to use the
		 native-deps plugin, but leiningen doesn't feel like recognizing
		 "native-deps" as a task.
<l1x> amalloy: filter itself is not good for a lazy sequence because it is going
      to go through all the elements and those are infinite lets say in the
      fibonacci sequence, i found take-while which is good for this scenario,
      but thanks anyways
<amalloy> you asked for all of them, mate  [12:32]
<Sgeo> Hey, is Light Table just a realization of old Smalltalk concepts?
<Sgeo> As in, it's not sensible to look at code as plain text?
<casion> Sgeo: yes, no
<l1x> amalloy: yeah my question was not clear :)  [12:33]
<NotActuallyOnFir> Anyone? Native-deps? I've got my regular old deps, but my
		 native-deps are being elusive.  [12:34]
<shaungilchrist> you probably need older version of lein?  [12:36]
<Sgeo> Wait. Light Table is going to be a commercial product?
<shaungilchrist> I jut ran into this w/ latest not supporting bootstrap as task
		 so installed version that was up on port
<NotActuallyOnFir> "up on port"?  [12:37]
<casion> Sgeo: that seems to be the plan
<Sgeo> :(
* Sgeo wanted something free >.>
<casion> you could use emacs or eclipse
<shaungilchrist> sorry NotActuallyOnFir I am using osx - port is a package
		 manager.  [12:39]
<amalloy> personally i'm happy with emacs, but if light table turns out to be a
	  better product, only a fool would begrudge spending $50 on a tool that
	  improves something you spend like a hundred hours a month with
<amalloy> (here wildly assuming $50 is the price point; substitute whatever
	  number is right)
<casion> I agree with amalloy
<frio> pretty much  [12:40]
<Sgeo> The kickstarter says it will be open source and licenses are for packaged
       distributions
<shaungilchrist> I imagine there will be a free version for individuals and then
		 a "team" version - but that is pure speculation
<casion> I've been using emacs for non-lisp things for a good while, and I love
	 it… but light table shows fantastic promise
<amalloy> last i heard the platform was free and plugins or packages or
	  something were going to be for sale
<casion> I would gladly switch over when the time comes
<casion> I've paid thousands for IDEs in the past  [12:41]
<casion> $50 would be pretty tame IME
<l1x> looks nice  [12:42]
<wmealing_> how does that work ?
<wmealing_> "licenses are for packaged distributions"
<wmealing_> so, if you download it, its open source
<wmealing_> and if your a distro, you have a different license ?
<shaungilchrist> but if you work for mega-corp that actually prefers to pay
		 people for license keys so they can put them on their internal
		 wiki..  [12:43]
<Sgeo> Is it possible to rename a namespace?  [12:45]
<NotActuallyOnFir> OK, so if native-deps is borked in the new version of
		 leiningen, is there any functionality in leiningen that handles
		 native libraries, or am I back to manually extracting files and
		 setting my library.path manually?
<Sgeo> And unrelatedly to that question, but relatedly to the Light Table stuff,
       how does Light Table deal with side-effecting functions?  [12:46]
<muhoo> was just looking at a jsfiddle, and realized lighttable is kind of likd
	clojurefiddle  [12:51]
<muhoo> and himera is like cljsfiddle
<Raynes> muhoo: What drugs do you use?  [13:15]
<muhoo> heh
<Raynes> So I don't get any?  [13:17]
<Raynes> You're either a great friend or no friend at all.
<muhoo> dude, i actually had to fire up intellij and mess with a bunch of java
									  [13:19]
<muhoo> so maybe that's the drug. you don't want any, trust me.
<muhoo> android + clojure = nil  [13:20]
<Raynes> I use TextEdit for Java.
<muhoo> :-0
<Raynes> And I compile to bytecodes by hand.
<muhoo> i was using emacs for java, and the fail was too strong.  [13:21]
<Raynes> If you're going to use a primitive language, might as well do it
	 primitively.
<muhoo> assembler in edlin!!
<muhoo> sadly the nifty html5 stuff i was going to do in cljs, doesn't work on
	the ancient android 1.6 donut browser i'm delivering on.  [13:22]
<Sgeo> If I read refs outside of a transaction, might I see an inconsistent view
       of the world?  [13:32]
<francis> Hello all, just want to make sure that I'm approaching this problem
	  correctly. I've got to http post an xml document to a remote
	  server. Currently, I'm just using clj-http.client and it throws back a
	  200 with an xml response as the body. I want to be sending it a body
	  that is a (valid) xml string right?  [13:33]
<francis> http://paste.lisp.org/display/131181  [13:37]
<jeremyheiler> fancis, if you want to send xml with the POST, then you'll
	       probably have to use :form-params or :multipart  [13:40]
<jeremyheiler> mabye?
<jeremyheiler> nvm. perhaps you could set the content type for xml?  [13:43]
<jeremyheiler> man, it's late. i should probably stop trying to think...  [13:44]
<francis> and then just pass it a string? (EG: (def xml-doc "<xml>valid</xml>"))
<francis> I'm actually getting a response back that it's well formed, but dosn't
	  have the correct auth info
<jeremyheiler> how is it expecting you to authenticate?  [13:45]
<francis> part of the xml doc I'm sending it
<francis> <username>blah</username><password>sfuff</password>
<francis> I append that to the top of my request  [13:46]
<jeremyheiler> ok
<francis> The specific error message I'm getting back is "<ErrorDescription>The
	  XML document is well formed but the document is not
	  valid</ErrorDescription>"  [13:50]
<francis> with some other tags and whatnot  [13:51]
<francis> I feel like it might just be throwing that in general though
<francis> wait, duh
<francis> just try as json
<francis> yeah, damn - gives the same error back  [13:52]
<jeremyheiler> are you sure just appending the auth xml at the beginning of the
	       document is correct?
<francis> "The Request message consists of two complete XML documents. The first
	  document is an AccessRequest. It is immediately followed by
	  (concatenated to) a Request. When a client application is undergoing
	  testing and integration, the document combination should be sent to
	  the URL: https://wwwcie.stuff.com/ups.app/xml/Request"  [13:53]
<francis> The doc definately has me thinking so  [13:54]
*** jeremyheiler (~jeremyhei@cpe-72-230-245-1.rochester.res.rr.com) is now known
    as jeremyheiler_  [14:10]
<clj_newb_2385> async- is kind of long to type; is there a satdnard convention
		to denote that this clojurescript function is asynchronous?
<Sgeo> Why does the implementation of doto use gensym directly instead of an
       autogensym#  [14:11]
<clj_newb_2385> emezeske: are you a key contributor to clojurescript?
<amalloy> Sgeo: try rewriting it with an auto and see  [14:12]
<Sgeo> I .. don't think I understand how auto works well enough
<amalloy> Sgeo: short answer, then: auto-gensyms are only "consistent" within a
	  single syntax-quoted form  [14:13]
<amalloy> &[`(x#) `(x#)]  [14:14]
<lazybot> ⇒ [(x__50520__auto__) (x__50521__auto__)]
<amalloy> and you can't write doto with gensyms without using the binding's name
	  in at least two different quoted forms
<clj_newb_2385> &`[(x#) (x#)]
<lazybot> ⇒ [(x__50529__auto__) (x__50529__auto__)]
<Sgeo> hmm. I'd imagine this limits their utility quite a bit
<clj_newb_2385> so why not "lift" the ` ?  [14:15]
<amalloy> not really
<amalloy> clj_newb_2385: try rewriting it and see
<clj_newb_2385> in fact, maybe this is because I'm bad at writing macros; but I
		always only have one `
<emezeske> clj_newb_2385: I've contributed a couple minor patches
<Sgeo> Actually, I imagine there's a different way to write doto.... don't know
       if that gets rid of the auto though
<clj_newb_2385> oh gah ... doto ... the java interop  [14:16]
<clj_newb_2385> no thanks, I like my sanity
<Sgeo> Conceptually, it's sort of like a comp of functions, who why not rewrite
       it into that?
<amalloy> doto has nothing to do with java interop
<amalloy> that's just one useful application
<emezeske> clj_newb_2385: Oh, I didn't see the word "key" in your question.  I
	   am definitely not a key contributor.
* Sgeo now wants to write a $ function that takes a value and a function and
  applies the function to the value  [14:17]
<clj_newb_2385> Sgeo: stealing from haskell?
<Sgeo> clj_newb_2385, yes. I am a fan of Haskell.
<clj_newb_2385> emezeske: ah. for some reason, when I do "lein search
		clojurescript", [emezeske/clojurescript ... ] has 4 entires
									  [14:18]
<Sgeo> The nice thing would be that using such would mean no particular argument
       position has special significance if you use lambdas
<clj_newb_2385> Sgeo: port over haskell's type system
<clj_newb_2385> the only thing I feel clojure lacks ... is an ability to detect
		errors before runtime
<Sgeo> clj_newb_2385, I'm not that insane (or that smart)
<emezeske> clj_newb_2385: At one time I maintained a few clojurescript packages,
	   before the upstream folks were releasing them regularly
<Sgeo> But yes, I like static typing  [14:19]
<Sgeo> "do" is officially on my list of concepts, along with "yield" and
       "functor", that has utterly unpredictable meaning from language to
       language  [14:20]
<Sgeo> s/concepts/words/
<clj_newb_2385> also "return"
<clj_newb_2385> >> also means different things in haskell
<Sgeo> clj_newb_2385, well, I think "return" is only an outlier in Haskell
<Sgeo> do is a general purpose looping mechanism in Common Lisp, and a grouping
       construct in Clojure  [14:21]
<Sgeo> yield means one thing in C# and Python and a different thing in Ruby
<Sgeo> And functor.... I don't think there are even two languages that use the
       same meaning.
<Sgeo> Why doesn't Clojure have a macroexpand that macroexpands subforms?
									  [14:25]
<Sgeo> Is there any reason to omit that?
<tomoj> it's in tools.macro
<Sgeo> Ah  [14:26]
<tomoj> reason not to have it in core? dunno
<shaungilchrist> wow I am pretty impressed by the clojurescriptone dom testing
		 stuff. This may be a nice way to sneak some clojure into my 9-5
<Sgeo> Wait, let is a macro?
<shaungilchrist> let is usually syntactic sugar and or a macro for lambda
		 immediately applied  [14:27]
<Sgeo> Hmm, I guess if I want to use doto and use a nonstandard position, I
       could write something like  [14:29]
<tomoj> let* is the special form, let adds destructuring
<Sgeo> &(doto 5 (#(- 6 %)) (+ 3))  [14:30]
<lazybot> ⇒ 5
<Sgeo> Although is that too ugly, hmm
<Sgeo> Wait, what.
<akhudek> Sgeo: are you thinking of -> ?  [14:31]
<akhudek> not sure if -> works with lambdas
<Sgeo> akhudek, I guess seeing that doto didn't mean interop made me think that
       doto would.. be not necessarily a thing for mutable thingies
* Sgeo ewws at the mutable
<amalloy> &(doto (atom 5) (swap! inc)) ;; *shrug*  [14:32]
<lazybot> ⇒ #<Atom@d4c046: 6>
<Sgeo> &(-> 5 (#(- 6 %)) (+ 3))  [14:33]
<lazybot> ⇒ 4
* Sgeo still wonders if that's a bit ugly
<amalloy> it is, but you can't have everything
<amalloy> &(-> 5 (->> (- 6)) (+ 3)) also works
<lazybot> ⇒ 4
<Sgeo> ($ 5 (comp #(- 6 %) (partial 3))  [14:34]
<Sgeo> oops
<Sgeo> ($ 5 (comp #(- 6 %) (partial 3)))
<clojurebot> what is cells
<Sgeo> ^^not that ugly I think?
<Sgeo> I guess I could concede varargs and have $ do an implicit comp  [14:37]
<Sgeo> ($ 5 #(- 6 %) #(/ % 3))
<Sgeo> Also, ignore the $ and comp above, I'm a derp  [14:38]
<Sgeo> I should try things at a repl
<Sgeo> Clojure is largely functional, why not use functions instead of macros
       when they fit (like here)  [14:39]
*** amalloy (~amalloy@li231-96.members.linode.com) is now known as amalloy_
									  [14:53]
<Sgeo> &(map #(% 2) [(partial + 1) (partial * 3)])  [15:08]
<lazybot> ⇒ (3 6)
<francis> Does anyone know of an article/resource that clearly explains http
	  post? I'm not 'getting it' even though I can post data to servers and
	  such  [15:23]
<tomoj> http://tools.ietf.org/html/rfc2616#section-9.5 ?  [15:26]
<francis> tomoj: Thats the sort of stuff I've been reading, thanks though
									  [15:29]
<tomoj> you may get better results if you indicate better your confusion  [15:35]
<francis> Sorry, that was terribly ambigous my confusion is stemming from having
	  to interface with another sever with POST. Seems easy enough, given
	  clj-http.client. You just would make a request like so:
	  (clj-http.client/post "https://someurl.com/something" {:body "some
	  data"})  [15:38]
<francis> And then that server should just be like "Oh, tight - data, I'll send
	  back a response"
<francis> right?
<clojurebot> flatten |is| rarely the right answer. What if your "base type" is a
	     list
<tomoj> did you already try setting the content type?
<francis> yeah
<francis> but there is no documentation (that I can find) indicating what I can
	  pass it  [15:39]
<francis> should everything be a string?
*** kral|off (~marco@thediracsea.org) is now known as kral
<francis> then they would have to parse each string
<francis> and I keep running into URI encoding
<kral> hola
<francis> but that, to me at least seems to be for get
<tomoj> well, posts with content type application/x-www-form-urlencoded use
	urlencoding  [15:40]
<tomoj> and those are pretty common
<tsdh> Is it possible to extend a protocol on a reification of another protocol?
       Basically, I'd like to extend a protocol to the CollReduce/CollFold
       reifications returned by the reducer fns.  [15:41]
<tomoj> francis: do you have an 'nc' command available?
<francis> nc?  [15:42]
<clojurebot> multiple inheritance is
	     http://www.piratejesus.com/nerdcore/nerdcore017.gif
<francis> in emacs?
<tomoj> on the command line
<francis> yeah
<tomoj> if so you can do e.g. `nc -l 8080`, then change the url in your post to
	localhost:8080/yada
<tomoj> to see exactly what you're sending over (.. maybe you already have
	accomplished this some other way?)  [15:43]
<tomoj> tsdh: no
<tsdh> tomoj: Guessed that, but wasn't sure.  Thanks.
<tomoj> which protocol, I'm curious? your own?  [15:44]
<tsdh> tomoj: Yes, my own.
<francis> I'm getting a connection refused, though I would need a server running
	  for it to grab the post body right?  [15:45]
<tomoj> maybe your nc is different than mine, for me `nc -l 8080` starts a
	server on port 8080
<francis> nevermind, the connection terminated while it was sending  [15:46]
<francis> anyway yeah - it reutrns a bunch of symbols and stuff
<tomoj> a bunch of symbols? you mean.. text?  [15:47]
<francis> it shows up as text in my shell, but like so 'n
<francis> from
<francis> (client/post "https://localhost:8080" {:body "some test text"
	  :content-type :xml})
<francis> I'm guessing I've got to decode it  [15:48]
<francis> wait
<francis> duh
<tomoj> https?  [15:49]
<clojurebot> eg, https://github.com/clojure/tools.logging is the new version of
	     clojure.contrib.logging
<tomoj> clojurebot: you're chatty today  [15:50]
<clojurebot> what should I do today, it is the weekend and all
<francis> no, encoding text as xml
<francis> though there is that too
<francis> if that is what :content-type does
<tomoj> https://gist.github.com/c5fe830d0471f1afe50f  [15:52]
<tomoj> that is what I see..
<francis> I see the same thing when I remove the ssl encryption  [15:53]
<tomoj> and the body looks like you expect, your xml?
<francis> yeah
<tomoj> you might also try :content-type "text/xml" I guess
<tomoj> other than that HTTP can't help you.. the server must not like your
	body?  [15:54]
<francis> okay
<francis> thats what I was sort of hoping to hear
<tomoj> what status code is it returning?
<francis> 200, with an error message  [15:55]
<tomoj> lol
<francis> (on actaual application)
<tomoj> HTTP really can't help you
<tomoj> because whoever wrote that application isn't really using it :)
<francis> wait what?
<francis> 200 is a sucess code  [15:56]
<francis> right?
<clojurebot> technomancy: you're right I should explain the reason. The reason
	     is I would like to be able to call aether with an extra parameter
	     for introducing my own :transfer-listener.
<tomoj> http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1
<tomoj> clojurebot: botsmack  [15:57]
<clojurebot> botsmack is headdesk
<francis> That makes it sound to me as if it is being used  [15:58]
<francis> I get back a response
<francis> it gives an 'OK'
<tomoj> yeah they're using HTTP in some sense
<tomoj> by "really" I mean something like "correctly"..
<tomoj> you should be getting an error code  [15:59]
<francis> I am
<tomoj> 200 is not an error code
<tomoj> error codes are at least 400
<francis> no, the body that gets returned is an xml doc containg the error code
<tomoj> by "error code" I refer to the response status code number, like 200
	("OK") or 400 ("Bad request")  [16:00]
<tomoj> er, "error code" would be status code numbers >=400, specifically
<francis> right, not found ect ect  [16:01]
<tomoj> presumably this should be a 400, if it's your body that's the problem
<francis> my impression is that it takes my request, says "hey, we parsed this,
	  it didn't have the info we wanted, so we returned this XML with some
	  info"
<francis> I get that back  [16:02]
<tomoj> too bad they are not more specific..
<francis> it tells me the xml doc is well formed, but  [16:03]
<francis> hold up
<augustl> for "settings" for a ring app, I'm considering adding a middleware
	  that adds a :myapp-env to each request. Any other suggestions?
	  :myapp-env will be a map containing the database to use, and some
	  other config stuff.  [16:05]
<francis> (:body (client/post "stuff")) returns a string of XML saying with
	  error info and a description "the xml document is well formed but the
	  document is not valid"
<francis> still though
<francis> If I know I can just pass it xml as a string, thats progress  [16:06]
<francis> thanks
<tomoj> it's interesting that clj-http only has extensible output coercion, not
	input coercion  [16:10]
<francis> You'd only need that as a server though, and ring has something to do
	  that (I would imagine)  [16:11]
<francis> that's my impression anyway
<francis> if I'm way off base, please - correct me
<tomoj> I would like to do (http/post url {:body (protobuf Foo :foo 1)
	:content-type :x-protobuf})  [16:13]
<tomoj> (on the client)
<_ulises> how can I add documentation to vars?  [16:14]
<francis> {:^doc "string"} - if I'm not mistaken  [16:15]
<francis> (def {:^doc "doc string here"} thing "whatever")
<tomoj> (def ^{:doc "foo"} foo)  [16:16]
<tomoj> (defn foo "foo" [])
<hyPiRion> ,(:doc (meta #'meta))
<clojurebot> "Returns the metadata of obj, returns nil if there is no metadata."
<_ulises> that did it  [16:17]
<_ulises> thanks!
<francis> tomoj: to me the client is the user - they wouldn't need input
	  coercions, except for the response from the server  [16:18]
<francis> and I think there is something to handle that
<francis> :accept  [16:19]
<tomoj> by client I refer to the clojure instance calling clj-http.client/post
									  [16:20]
<tomoj> clj-http automatically does input coercion for json :form-params
<tomoj> e.g. (http/post url {:form-params {:foo "bar"} :content-type "json"})
<tomoj> it automatically json-encodes the form-params and uses that as the body
									  [16:21]
<tomoj> if it were extensible you could do similar magic for xml, protobuf,
	whatever
<francis> are you just looking at source for this?
<francis> I found almost no documentation  [16:22]
<Sgeo> Wait, what's #' in Clojure?
<tomoj> yeah
<tomoj> the docs mostly just show a bunch of examples
<Sgeo> In Common Lisp it's (function) which is a form which, given a symbol
       representing a function, gives back the function
<Sgeo> But Clojure is a Lisp-1
<tomoj> &'#'foo
<lazybot> ⇒ (var foo)
<francis> Sgeo: what like this? #(stuff %)
<tomoj> &(doc var)  [16:23]
<lazybot> ⇒ "Special: var; The symbol must resolve to a var, and the Var
	  object\nitself (not its value) is returned. The reader macro #'x
	  expands to (var x)."
<Sgeo> francis, no, what tomoj said
<augustl> iirc # is deprecated for some uses, like (defn #^ReturnTypeHere ...)
<francis> oh, nifty
<guns> Sgeo:
       https://github.com/clojure/clojure/blob/master/src/jvm/clojure/lang/LispReader.java#L100
									  [16:24]
<Sgeo> EvalReader?  [16:25]
<Sgeo> Is that like CL's #.
<guns> It reads the next character after # and dispatches on that  [16:26]
<Sgeo> Clojure> (bindings [*read-eval* true])
<Sgeo> java.lang.SecurityException: You tripped the alarm! *read-eval* is bad!
<Sgeo> (On TryClj)
*** Guest62257 (~PuercoPop@190.41.173.174) is now known as PuercoPop  [16:28]
<tomoj> (read-string "#=(+ 1 2)")
<Sgeo> I thought the reader was supposedly side-effect free?  [16:30]
<tomoj> only if *read-eval* is false  [16:31]
<tomoj> otherwise it will do whatever you tell it to do..
<tomoj> #= is almost obsolete  [16:32]
<tomoj> the new literal stuff can replace most uses of it, I think
<Sgeo> "new" literal stuff?  [16:33]
<Sgeo> When was it used before?
<tomoj> &(binding [*print-dup* true] (pr-str (struct (create-struct :foo)
	"foo")))  [16:34]
<lazybot> java.lang.SecurityException: You tripped the alarm!
	  pop-thread-bindings is bad!
<tomoj> oh bollocks  [16:35]
<tomoj> example here http://dev.clojure.org/jira/browse/CLJ-976  [16:39]
<tomoj> google for 'extensible reader' or 'reader literals'
<tomoj> http://www.infoq.com/interviews/hickey-clojure-reader  [16:43]
*** DrPheltR1ght (~DrPheltRi@94-195-23-77.zone9.bethere.co.uk) is now known as
    DrPheltRight  [16:48]
*** Lajla (~Lajla@2001:0:5ef5:79fb:cb5:1aef:ae33:eb94) is now known as
    Prof_Stanislav  [17:11]
*** Prof_Stanislav (~Lajla@2001:0:5ef5:79fb:cb5:1aef:ae33:eb94) is now known as
    Qolqqqque  [17:18]
*** Qolqqqque (~Lajla@2001:0:5ef5:79fb:cb5:1aef:ae33:eb94) is now known as
    Olganov  [17:21]
<magopian> this frustration when you come up with what seems a nice solution to
	   a 4clojure problem, but it fails miserably on longer sequences
	   because of a timeout
<magopian> (yeah, computing permutations on a 11-long sequence yields nearly
	   40millions possibilities... so what :)  [17:22]
<Sgeo> for is just like Python generator expressions and Haskell list
       comprehensions, right?
<magopian> Sgeo: regarding python, yeah, i'm pretty sure that's the same  [17:23]
<broquaint> Along those lines, Sgeo.  [17:24]
<magopian> Sgeo: it's not the same as python's list comprehension i believe, as
	   for in clojure is lazy
<Sgeo> magopian, hence why I said "generator expression"  [17:25]
<Sgeo> (Which are lazy)
<magopian> yup );
<magopian> was just confirming ;)
<Sgeo> What's fn* ?  [17:27]
<Sgeo> future-cancel "Cancels the future, if possible."  [17:28]
<Sgeo> I think the Foundation should attempt to contain it as an SCP  [17:29]
<ro_st> is there a version of flatten that doesn't recur?  [17:32]
<ro_st> ie, it only does one level down
<ro_st> i have a seq of seqs of two-item vectors which i want to apply hash-map
<Bronsa> (partial mapcat identity)
<Bronsa> ,(mapcat identity '[[a b [c d]] [e f]])  [17:33]
<clojurebot> (a b [c d] e f)
* Sgeo thinks in Haskell terms for a bit  [17:34]
<igstan> ,(+ 1 2)
<clojurebot> 3
<ro_st> thanks Bronsa!
<Sgeo> mapcat is bind on sequences, isn't it? And identity is id. In Haskell,
       join = (>>= id)  [17:35]
<Sgeo> So... that makes sense. I learn something new every day
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [17:38]
<Sgeo> loop/recur makes good sense for some use cases for TCO, but what if I
       want to represent state as being which function I'm in at the time?
									  [17:51]
<Sgeo> As in, one function does some work, then calls another if x condition is
       met, etc.
<magopian> Sgeo: trampoline?  [17:52]
<magopian> not sure it'll fit your needs though
* Sgeo wonders how difficult it would be to write a macro that rewrote code that
  would expect TCO into code that uses trampoline  [17:53]
<tomoj> would that macro not implement TCO?  [18:01]
<Raynes> tomoj: Good morning Mr. Sir.  [18:04]
<tomoj> morning  [18:05]
<Sgeo> Does Clojure have macrolet or symbol-macrolet?  [18:06]
<Raynes> $cd macrolet
<Raynes> $kill  [18:07]
<lazybot> KILL IT WITH FIRE!
<Raynes> lazybot no work
<Sgeo> Hmm https://github.com/clojure/tools.macro/
<Raynes> It doesn't have it built in, but there is an implementation.
<Raynes> $clojuredocs macrolet  [18:08]
* Raynes squints
<Raynes> $login
<lazybot> You've been logged in.
<Raynes> $loaded
<Raynes> I give up.
<Raynes> Don't know how to use my own bot.
<cemerick> we all knew they'd go rogue eventually  [18:09]
<Sgeo> What is the ^{:dynamic true} stuff about?  [18:10]
<Sgeo> doall is sequence_  [18:17]
<Sgeo> Oh, or is it sequence, and dorun is sequence_  [18:18]
<ejackson> cemerick: if they ever get control of hiredman's Clojure Rover, we're
	   doomed.
<cemerick> Sgeo: ^:dynamic controls whether a var is dynamic or not
<cemerick> See http://clojure.org/vars  [18:19]
<Sgeo> Ah, so binding can't just affect any var.... of course it shouldn't
<Sgeo> I guess I was thinking that the separation of binding/var fixed all
       issues, but... yeah  [18:20]
<clgv> Raynes: lazybot seems to have a crysis since a while ;)  [18:21]
<clgv> *crisis
<Sgeo> There's no such thing as saving an image, is there?  [18:23]
<Sgeo> Because I think I like images.
*** kral (~marco@thediracsea.org) is now known as Guest33085  [18:26]
<ro_st> argh. i thought i could (apply hash-map '(["1" "2"] ["3" "4"])) to get
	back {"1" "2" "3" "4"}  [18:30]
<ro_st> but i'm getting "No value supplied for key: ["1" "2"]"  [18:31]
<ro_st> ah i'm a doofus. apply hash-map works on a flat seq  [18:32]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [18:36]
*** Guest33085 (~marco@thediracsea.org) is now known as kral|off
<clgv> Sgeo: humm you can change the value of *compile-files* than you will have
       an image in your "classes" folder.  [18:37]
<igstan> ,(into {} '(["1" "2"] ["3" "4"]))
<clojurebot> {"1" "2", "3" "4"}
<nbeloglazov> $source clojure.string split  [18:38]
<lazybot> Source not found.
<nbeloglazov> $source clojure.string/split
<lazybot> clojure.string/split is http://is.gd/GcEANF
<clgv> clgv: but you would have to store uncompiled stuff.
<clgv> ouch  [18:39]
<Sgeo> &(#(#(list %)) 5)  [18:40]
<lazybot> java.lang.IllegalStateException: Nested #()s are not allowed
<nbeloglazov> $cd-search macrolet  [18:43]
<lazybot> clojure.contrib.macro-utils/symbol-macrolet:
	  http://clojuredocs.org/v/679; clojure.contrib.macro-utils/macrolet:
	  http://clojuredocs.org/v/658
<nbeloglazov> Raynes: I like `clojuredocs` more than `cd-search`. How about
	      adding it to set of commands?  [18:44]
<nbeloglazov> I think it's more intuitive  [18:46]
<clgv> $help
<lazybot> You're going to need to tell me what you want help with.
<clgv> $help plugin
<lazybot> Topic: "plugin" doesn't exist!
<clgv> humm he needs a feature list ^^
<nbeloglazov> $help source  [18:47]
<lazybot> nbeloglazov: Link to the source code of a Clojure function or macro.
<clgv> $list
<lazybot> I know about these topics:
<nbeloglazov> :)
<clgv> he knows nothing ^^
<wmealing_> ignorance is bliss  [18:48]
<nbeloglazov> $list something
<lazybot> I know about these topics:
<Raynes> $whatis source
<lazybot> source is http://github.com/flatland/lazybot
<nbeloglazov> $help whatis  [18:49]
<lazybot> nbeloglazov: Pass it a key, and it will tell you what is at the key in
	  the database.
<Raynes> $whatis Raynes
<lazybot> Raynes does not exist in my database.
<nbeloglazov> $rwhatis  [19:02]
<lazybot> The_Matrix is everywhere. It is all around us. Even now, in this very
	  room. You can see it when you look out your window or when you turn on
	  your television. You can feel it when you go to work... when you go to
	  church... when you pay your taxes. It is the world that has been
	  pulled over your eyes to blind you from the truth. That you are a
	  slave, Neo. Like everyone else you were born into bondage. Born into a
	  prison that you cannot
<cemerick> lazybot's really bought the farm now  [19:03]
<cemerick> Raynes just needs to hook it up to rapgenius or something for the
	   ultimate entertainment bot.  [19:04]
<clgv> $debug  [19:05]
<lazybot> clgv: It is not the case that you don't not unhave insufficient
	  privileges to do this.
<clgv> lol
<Sgeo> Hmm. I think I really like condp  [19:08]
<nz-> ,(doc condp)  [19:10]
<clojurebot> "([pred expr & clauses]); Takes a binary predicate, an expression,
	     and a set of clauses. Each clause can take the form of either:
	     test-expr result-expr test-expr :>> result-fn Note :>> is an
	     ordinary keyword. For each clause, (pred test-expr expr) is
	     evaluated. If it returns logical true, the clause is a match. If a
	     binary clause matches, the result-expr is returned, if a ternary
	     clause matches, i...
*** Lajla (~Lajla@ip51cc146b.speed.planet.nl) is now known as Boson  [19:18]
*** Boson (~Lajla@ip51cc146b.speed.planet.nl) is now known as Fermented_fermio
*** Fermented_fermio (~Lajla@ip51cc146b.speed.planet.nl) is now known as
    FermentedFermion
<Sgeo> Suppose I have a function that takes a callback, and I want to write code
       in a more sequential manner. I note that via promises, I can make a
       promise, pass in a callback that will deliver on the promise, and then
       attempt to deref the promise. Is this a reasonable use of promises, or
       are there better solutions?  [19:26]
<Sgeo> (Assuming I'm in a separate thread)  [19:27]
<clgv> Sgeo: can I have a drawn sketch? ;)  [19:28]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [19:31]
<clgv> Sgeo: read it 3 times and not yet completely sure what you want to do
<Sgeo> http://paste.lisp.org/display/131183  [19:32]
<Sgeo> Pretend that i-take-a-callback has a good reason for taking a callback
       --- maybe it's taking an event handler that will only fire once (ok, not
       a good way to explain that)
<clgv> Sgeo: it looks pretty strange. could you describe what you really need?
									  [19:33]
<Sgeo> Want to use an event-based API as though it had functions that retrieved
       the "next" event that is, for example, a click.  [19:34]
<Sgeo> Oh, hmm, my code doesn't quite work as I intended  [19:36]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [19:37]
<Sgeo> http://paste.lisp.org/display/131183#1  [19:38]
<clgv> Sgeo: so you want to wait for the first event?  [19:43]
<clgv> Sgeo: that's what your code would manage then - and it makes only sense
       if there is another thread triggering the event  [19:44]
<Sgeo> On a related note, how easy/annoying is the JNI to work with?  [19:45]
<Sgeo> Note that I don't really know Java that well. It's the highly-functional
       lisp that attracts me to Clojure.
<Sgeo> (And the libraries)
<clgv> Sgeo: never really used JNI myself. but I read one or two articles about
       it and it seemed more complicated than python's C interface  [19:48]
<Sgeo> Oh fun.
<clgv> try it ^^  [19:50]
<Sgeo> " The let special form is used here for efficiency in the event that the
       first parameter, number, is passed as an expression instead of a simple
       value."  [19:56]
<Sgeo> Suddenly, I don't trust this person to write macros.
<Sgeo> ...I think I've read this piece of drivel disguised as a popular guide to
       Clojure before.  [20:01]
*** weavejester_ (~weavejest@cpc1-haye18-2-0-cust78.haye.cable.virginmedia.com)
    is now known as weavejester  [20:03]
<zoldar> Sgeo: do you mean that this around-zero macro is leaky?  [20:09]
<Sgeo> zoldar, I mean that I think it's insufficient to say that it's an
       "efficiency" issue. If the expression happens to be impure, running more
       than once can cause observable confusing behavior.  [20:10]
<clgv>  Sgeo: link?  [20:11]
<Sgeo> http://java.ociweb.com/mark/clojure/article.html
<zoldar> Sgeo: ah, right
<jrajav> Sgeo: What would you recommend?  [20:12]
<clgv> Sgeo: he doesnt read that bad though. maybe he slipped on that one ^^
									  [20:14]
<Sgeo> If it's not going to elaborate on why it's necessary, might just say
       "efficiency and safety" and "a possibly impure expression"?
<Sgeo> Ugh, how much Java stuff am I going to end up learning if I get into
       Clojure?  [20:22]
*** jcrossley3-away (~user@68.114.25.210) is now known as jcrossley3  [20:23]
<clgv> Sgeo: depends on how much you will need java libs.  [20:24]
<Sgeo> Threads themselves afaict are created and started via Java classes and
       methods
<hyPiRion> Sgeo: Not much, java String is the only thing I work with.
<Sgeo> clgv, even basic math and threading seems to call into the Java interop
       in a user-exposed way
<clgv> Sgeo: yeah that's a pity
<hyPiRion> If you're working heavily with threads, then you should learn them.
<stuartsierra> You rarely need to call Thread.new in Clojure: Futures and Agent
	       send-off will create threads as needed.  [20:25]
<Sgeo> Do promises create threads, wait, that makes no sense
<clgv> when the reducers lib is ready, there are even less cases where you have
       to create threads or threadpools yourself  [20:26]
<clgv> Sgeo: no
<clgv> Sgeo: then you need a future
<nz-> is there somewhere introduction or something like that to reducers?
									  [20:34]
<vijaykiran> nz-: did you see rhickey's talk  http://vimeo.com/45561411  ?
									  [20:35]
<nz-> not yet  [20:36]
<vijaykiran> that with blog posts on clojure.com should give enough info to
	     start and experiment with reducers I think  [20:37]
*** cemerick_ (~cemerick@c-76-23-244-114.hsd1.ma.comcast.net) is now known as
    cemerick  [20:42]
*** grim_radical_ (~grim_radi@brownman.org) is now known as grim_radical
<Sgeo> I should try to port the TardisT monad transformer to Clojure  [20:44]
<Sgeo> Although that would require me to understand the Tardis monad, as well as
       monad transformers.  [20:45]
<stuartsierra> I've never heard of the Tardis monad, but it has an awesome name.
									  [20:46]
<john2x> hello  [20:48]
<mmitchell> would someone mind telling me what i'm doing wrong here? I'm
	    attempting to create reduce-like function. I'd like this to be lazy,
	    and so with large inputs, using something like (take 3 ...) would
	    cause work to be done for only 3 items. Any tips?
	    https://gist.github.com/3450179  [20:50]
<mmitchell> the time prints immediately, but the actual time to produce results
	    seems way to long  [20:51]
<Sgeo> stuartsierra,
       http://hackage.haskell.org/packages/archive/tardis/0.3.0.0/doc/html/Control-Monad-Tardis.html
<clgv> mmitchell: well thats not how lazy-seq works.  [20:52]
<mmitchell> clgv: I'm reading through this now:
	    http://clojure.org/lazy#Making%20Clojure%20Lazier--The%20current%20seq%20model
									  [20:53]
<clgv> mmitchell: you can use `reductions` which is lazy
<mmitchell> clgv: ok, i'll have a look  [20:54]
<Sgeo> The chance of me understanding both it and the way monads work in Clojure
       is... probably not that high  [20:57]
*** foxdonut (~foxdonut@modemcable126.53-57-74.mc.videotron.ca) is now known as
    Guest75769  [20:59]
* Sgeo vaguely wonders why whoever decided to call it m-result instead of
  m-return  [21:04]
<Sgeo> Are monads easier to learn for people who started in Haskell than people
       who started in Clojure?  [21:05]
<Sgeo> "Rather, 'a' can be used in the following expressions to access the basic
       values contained inside the monadic value returned from '(f3 x)'."
<Sgeo> That's... not quite accurate. Monads are not necessarily containers. But
       I don't know a better way to put that.  [21:06]
<Fossi> i suspect monads aren't "easier to learn" for anybody ;)
<chouser> it's the state monad that's the brain-twister
<Chousuke_> I don't find monads particularly difficult anymore. some
	    implementations of them might not be obvious, but the concept itself
	    is pretty straightforward  [21:11]
<nvy> suppose I have some hash list X, which I want to process through a special
      function of mine, and pass it another process for more processing. But the
      first process may have some requirements of X, and I want to expose the
      fact that there is a wrong input to the user. When there is no bad input,
      then I want to process it with the second process, and if the requirements
      aren't met, I want to do the same thing, and so on..  [21:12]
<nvy> can someone describe such a workflow? I'm too used to raising exceptions
      in the imperative world
<Chousuke_> sounds like you want the Either monad or something similar :P
									  [21:14]
<Chousuke_> you can use exceptions in clojure though, it's fine.
<nvy> is there any reading that I could do relating to this perhaps? :)  [21:16]
<Chousuke_> using exceptions is not a bad idea in a case like this I think, if I
	    understand you correctly  [21:17]
<nvy> well, in this specific application... I receive some XML as user input,
      and I want to verify that: 1) it is valid, 2) it is indeed Atom XML
									  [21:18]
<nvy> and then do further processing on it
<Chousuke_> Though it will be a good idea to separate the input checking and
	    exception-throwing from the actual processing functions.
* Sgeo wants CL-like condition system  [21:19]
<nvy> what's CL Sgeo ?
<nvy> Common Lisp?
<Sgeo> Yes
<Chousuke_> conditions would be fun but it's not really possible on the JVM
	    without sacrificing interop transparency  [21:20]
<nvy> all these Lisps are so new to me. I started trying to get hang of emacs
      for the first time in my life
<stuartsierra> It's hard to implement conditions without manipulating the stack,
	       which the JVM doesn't support.
<nvy> these "conditions" remind me of coroutines, Sgeo, am I on the right track?
									  [21:23]
<Sgeo> Might be able to build conditions on coroutines, but don't need
       coroutines for conditions
<Sgeo> Afaict, it's possible to do it with dynamically scoped variables and
       first-class functions  [21:24]
<naeg> can this list comp be made nicer or replaced?
       http://bpaste.net/show/6qLdugRuSEubf13MBttD/  [21:26]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [21:27]
<nvy> ok Sgeo, understood  [21:28]
<Sgeo> nvy, I was sorely disappointed when I actually understood why the
       condition system wouldn't let me trivially implement continuations
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [21:29]
<nvy> naeg: I believe that the if part can be replaced with (max x y), and  you
      should have a look at :when keyword for the for. (but I'm a newbie)
<naeg> nvy: the if part actually has some other test in it and since I want to
       iterate over all x and y, :when is no option for me afaik  [21:31]
<Sgeo> Does the monad library for Clojure have a way to define monad
       transformers?
<Sgeo> I might have more luck just transliterating TardisT into Clojure than
       trying to understand it as a monad.
<Sgeo> I suspect that it relies on laziness though  [21:32]
<acheng> Sgeo: as a side note, stack traces when using monads will not be very
	 useful
<Sgeo> Stack traces in Clojure are actually useful sometimes?  [21:33]
<Sgeo> </stereotyping>
<acheng> "oh look, i'm in m-bind. and now i'm in m-result. and back in
	 m-bind. ooh"  [21:34]
<chouser1> Clojure stack traces contain a wealth of useful information, hidden
	   under a huge pile of noise.
<acheng> re stacktraces: for my users' use case, i floss all references to
	 certain packages and then expand it with the source of the fn's
	 involved. very transparent for them  [21:35]
<Sgeo> (def parser-m (state-t maybe-m))  [21:36]
<Sgeo> I take it monad transformers in Clojure-world are actually functions
<Sgeo> Is my head going to explode?
<acheng> Sgeo: depends on how awesome your head is  [21:38]
<john2x> I'm going through 4clojure at the moment, and I'm kind of stuck
<jimduey> Sgeo: all monad transformers are functions. They take a monad and
	  return a monad.
<john2x> how do I get a sum of numbers in a list? like sum() in most
	 langauges.. (+ (1 2 3)) doesn't work..
<wmealing_> (+ listname)  [21:39]
<Sgeo> ,(apply + '(1 2 3)
<clojurebot> #<ExecutionException java.util.concurrent.ExecutionException:
	     java.lang.RuntimeException: EOF while reading>
<Sgeo> ,(apply + '(1 2 3))
<clojurebot> 6
<Sgeo> ,(+ '(1 2 3))
<clojurebot> #<ClassCastException java.lang.ClassCastException: Cannot cast
	     clojure.lang.PersistentList to java.lang.Number>
* Sgeo slaps wmealing_ 
<jimduey> Sgeo: http://www.clojure.net/2012/03/05/Transformers/
<brainproxy> interested in rdf/rdfa, but clj-plaza and hiccup-rdfa look a bit
	     stale... any thoughts?
<duck1123> actually, for the case of +, I think reduce is better
<john2x> ah reduce it is. thanks!  [21:40]
<duck1123> clj-plaza is good, I was updating it the other day
<nbeloglazov> &(time (reduce + (range 1000000)))
<lazybot> ⇒ "Elapsed time: 383.682792 msecs" 499999500000
<nbeloglazov> &(time (apply + (range 10000000)))
<lazybot> ⇒ "Elapsed time: 2043.416524 msecs" 49999995000000
<nbeloglazov> &(time (reduce + (range 10000000)))  [21:41]
<lazybot> ⇒ "Elapsed time: 2013.09087 msecs" 49999995000000
<brainproxy> jimduey: I saw you speak last year at StrangeLoop on
	     monads... wasn't into clojure at the time, so it was a bit
	     confusing, but I still have the notes I took from your presentation
	     :)
<Sgeo> jimduey, in Haskell, they're not functions (well, I guess you can call
       them type-level functions)
<john2x> hmm what's the difference between apply and reduce?  [21:42]
<nbeloglazov> john2x: did you read doc for apply and reduce?
<jimduey> brainproxy: glad to see you came over to the good side. :)  [21:43]
<brainproxy> duck1123: you have a fork?
<duck1123> brainproxy: yes, check out my fork, it should be 1.3+ compatible
<duck1123> I think it's net.kronkltd/plaza  [21:44]
<john2x> apply applies the function to each item, and reduce applies the
	 function to each item while passing the result to the next iteration?
<duck1123> I yanked out a lot of stuff I didn't need, mind you. Intended to put
	   it back as a separate library, but haven't yet
<Sgeo> apply applies the function as though the list was expanded into the
       arguments  [21:45]
<arrdem> john2x: take another look at apply, you described map.
<duck1123> but it works pretty well for my needs. I was re-writing a bunch of
	   stuff the other day, but I haven't pushed it yet
<nbeloglazov> ,(doc apply)  [21:46]
<clojurebot> "([f args] [f x args] [f x y args] [f x y z args] [f a b c d ...]);
	     Applies fn f to the argument list formed by prepending intervening
	     arguments to args."
<duck1123> (reduce + [1 2 3 4]) => (+ (+ (+ 1 2) 3) 4),       (apply + [1 2 3
	   4]) => (+ 1 2 3 4)
<brainproxy> duck1123: cool... i will take a look, thanks for the tip :)  [21:47]
*** jeremyheiler_ (~jeremyhei@cpe-72-230-245-1.rochester.res.rr.com) is now
    known as jeremyheiler  [21:48]
<Sgeo> My mind just went numb  [21:49]
<Sgeo> getPast getFuture sendPast sendFuture use the tardis function in their
       definition. tardis uses all of thse.
<duck1123> there's a tardis function?  [21:51]
<Sgeo>
       http://hackage.haskell.org/packages/archive/tardis/0.3.0.0/doc/html/src/Control-Monad-Tardis-Class.html
									  [21:52]
<Sgeo> I'm sure I once knew what the rec in that do is, but I forgot
<djcoin> Does the Clojure folks  around here tends (or plan to) to use monads,
	 lenses and other functional stuff ?  [21:56]
*** PuercoPop (~PuercoPop@190.41.173.174) is now known as Guest63098
<jimduey> djcoin: some do. I like the way monads and arrows make code
	  simpler. Many others are not impressed.
<jimduey> Sgeo: Tardis looks mind bending. Thanks.  [21:58]
<jimduey> Are you porting it to Clojure?
<Sgeo> jimduey, it's something I vaguely want to do, but I don't even understand
       it at this point.  [21:59]
<Sgeo> And don't know how well it would work in Clojure: As far as I know, it
       relies on laziness.
*** kral|off (~marco@thediracsea.org) is now known as Guest33085  [22:00]
<jimduey> Sgeo: I was just thinking this morning that I needed to write another
	  blog post about something monadic. Perhaps one on the reverse state
	  monad and one on a tardis transformer.
<Sgeo> jimduey, cool
<jimduey> Do they have any practical use?  [22:01]
*** Guest33085 (~marco@thediracsea.org) is now known as kral
<Sgeo> jimduey, no idea
<jimduey> :)
<Sgeo> I think there is some example of practical use somewhere
*** statonjr_ (~statonjr@209.34.239.254) is now known as statonjr
<Sgeo>
       https://github.com/DanBurton/tardis/blob/master/Control/Monad/Tardis/Example.hs
<jimduey> Some light reading for this evening.  [22:03]
<Sgeo> Looking at all this DoRec stuff, I think domonad may be unsuitable
       syntactic sugar for the Tardis monad.
<Sgeo> And may need to be modified
*** garyposter (~gary@99-98-191-175.lightspeed.rlghnc.sbcglobal.net) is now
    known as gary_poster
<Sgeo> http://www.haskell.org/ghc/docs/6.12.3/html/users_guide/syntax-extns.html
									  [22:05]
<Sgeo> Look for "The recursive do-notation"
<djcoin> jimduey: Sgeo : as you seems to be in functional stuff, may I ask the
	 question of why did you choose clojure over scala, haskell and such ?
	 (I'm making the choice to move to clojure in the weeks but if you can
	 shed some light on your own choices :) - many thanks !)  [22:06]
<john2x> what's clojure's And/Or operator?  [22:07]
<arrdem> john2x: .... (and) (or)
<jeremyheiler> &(doc and)
<lazybot> ⇒ "Macro ([] [x] [x & next]); Evaluates exprs one at a time, from left
	  to right. If a form returns logical false (nil or false), and returns
	  that value and doesn't evaluate any of the other expressions,
	  otherwise it returns the value of the last expr. (and) returns true."
*** hum_ph (~hum_ph@c58-111-145-186.thorn2.nsw.optusnet.com.au) is now known as
    hum_ph|away
<john2x> oh. lol. thanks  [22:08]
<Sgeo> I'm sort of only getting back into Clojure now. I think the things I want
       most are convenient and community-accepted macros (Template Haskell is a
       macro system for Haskell, but it's ugly and often frowned upon), and the
       plausibility of changing a program while it runs for development
       purposes.
*** qmx|away (~qmx@redhat/jboss/qmx) is now known as qmx
<jimduey> djcoin: I came to Clojure first, then discovered the functional
	  paradigm. There's so much to learn here, I haven't moved on to
	  Haskell. Particularly with the typed clojure work Ambrose is doing.
<Sgeo> Actually having a sizable community is nice too (Scala and Haskell do
       too, but it's why I'm choosing Clojure over, say, any Scheme or Racket)
									  [22:09]
<djcoin> Yeah Typed Clojure would be awesome (inspired from Racket it seems)
									  [22:10]
<djcoin> Thanks a lot for your inputs
<arrdem> djcoin: I learned CLISP and Scheme first, but struggled with them
	 because I found that they were very self-contained communities and
	 languages. The kind of place where you roll your own "like a man"
	 instead of using a library. Then I found Clojure and between Clojars,
	 Lein and the easy java interop all is well.  [22:13]
<djcoin> arrdem: I come from python/javascript (i do RIA with GIS stuff), and
	 i'm becoming tired of those languages. I don't know lisp-like much,
	 what do you use those kind of language for ? AI (cliché ;) ) ?
									  [22:15]
<arrdem> djcoin: no, not AI... Clojure I have used for a lot already the others
	 I learned just because I found the implimentation, notation, macros and
	 functional approach mind-bending and worth learning.  [22:17]
<arrdem> and yeah, I came from C++, C and Python before I drank the Lisp
	 kool-aid  [22:18]
<naeg> djcoin: I'm new to clojure too, but you can basically do everything. Web,
       database, drawing stuff, ... guess almost everything you could do with
       java. but it's ofc very suitable for AI, algorithmic problems, etc.
									  [22:19]
<Sgeo> I'm the sort of person who can never actually stick with a language
<naeg> know that feel, bro  [22:20]
<naeg> hi scriptor
<scriptor> hey naeg
<naeg> scriptor: I'm not sure whether it was you or piranha being interested in
       it - but I managed to transliterate the clojure conways game of life into
       python
<djcoin> Huhu  [22:21]
<scriptor> naeg: ah, nice, how was it?
<djcoin> Yeah i know that feel too - but I guess I may stop sometimes spending
	 time looking at language and learn more in other fields
<naeg> scriptor: http://bpaste.net/show/2RM4RfewQbrCJr1Hnf6p/  [22:22]
<djcoin> Not sure it makes sense :b or is incompatible of course
<naeg> scriptor: some guys in #python didn't really like what i was doing^^
<scriptor> hehe
<scriptor> figures
<naeg> ?
<scriptor> it's pretty unpythonic, I guess  [22:23]
<naeg> it is, yeah
<naeg> just wanted to know how far you can push FP in python
<naeg> and it's almost 1:1 with the clojure solution
<scriptor> is the clojure solution online somewhere?  [22:24]
<naeg> scriptor: I can paste mine, just a second. you could also help me with
       one problem I'm having there if you have time
<naeg> scriptor: http://bpaste.net/show/s5aUgEV54mHZ9CGx5ALo/  [22:25]
<naeg> scriptor: I tried to combine empty-board and populate into create-world,
       but I'm unsure about the list comp and the (vec)  [22:26]
<naeg> not sure whether that is idiomatic in clojure or there is a better way to
       do it
<e_svedang> excuse me gentlemen, i'm trying to find information on how to access
	    a gensym:ed symbol from an expression that i pass into a macro... is
	    this possible?
*** _zach|away (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now
    known as _zach  [22:28]
*** abstractj|away (~abstractj@redhat/jboss/abstractj) is now known as abstractj
									  [22:30]
<scriptor> naeg: hmm, why do you need to call vec in create-world?  [22:31]
<bosie> whats the point of constantly?
<naeg> scriptor: because otherwhise all of it would would be a list. shouldn't I
       use vectors for this kind of things?  [22:32]
<scriptor> bosie: when you need to pass something a function instead of a value
<bosie> scriptor: ah
<bosie> scriptor: completely missed "returns a function" and the importance of
	it
<scriptor> naeg: true, it's better for contains
<Sgeo> bosie, identity can be useful too  [22:33]
<Sgeo> ,(doc identity)
<clojurebot> "([x]); Returns its argument."
<bosie> hm
<bosie> Sgeo: don't get it  [22:34]
<bosie> Sgeo: thats for when you need to pass in …. a number and get one back?
<bosie> or sth
<Sgeo> An example someone else showed earlier (of how to do this particular
       operation):
<Sgeo> ,(mapcat identity [[[1 2 3]] [[4 5 6]]])  [22:35]
<clojurebot> ([1 2 3] [4 5 6])
<scriptor> it makes it convenient to filter out all falsy values from a
	   collection as well
<scriptor> ,(filter identity [1 nil false])
<clojurebot> (1)
<Sgeo> That is, you're not often going to be doing (identity foo), but you might
       pass identity into something expecting a function  [22:36]
<bosie> Sgeo: trying to wrap my head around your example  [22:37]
<bosie> (identity [[1]]) returns [[1]]
<Sgeo> mapcat takes a function and a sequence, and applies the function to each
       element, like map, then concatenates the result
<bosie> right
*** willythewisp_ (~willythew@host-93-104-226-162.customer.m-online.net) is now
    known as willythewisp
<bosie> so the two elements it works on are [[1 2 3]] and [[4 5 6]]  [22:38]
<bosie> applying identity on those yield the same resrult
<Sgeo> Yes.
<bosie> so concaneting should actually make no difference
<Sgeo> And then the cat part of mapcat ... hmm
<bosie> right
<Sgeo> jimduey, feel like describing bind on lists today?
<bosie> Sgeo: true  [22:39]
<Sgeo> ,(concatenate [1 2 3] [4 5 6)
<clojurebot> #<ExecutionException java.util.concurrent.ExecutionException:
	     java.lang.RuntimeException: Unmatched delimiter: )>
<bosie> Sgeo: the cat works on each element
<Sgeo> ,(concatenate [1 2 3] [4 5 6])
<clojurebot> #<CompilerException java.lang.RuntimeException: Unable to resolve
	     symbol: concatenate in this context, compiling:(NO_SOURCE_PATH:0)>
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|brb
<bosie> i get it  [22:40]
<scriptor> naeg: what is living-cells, by the way? Specifically why is first
	   called on it?
<bosie> thx Sgeo  [22:41]
<naeg> scriptor: look at the glider and light-spaceship defintion below. first
       is called because & puts it into a list
<naeg> scriptor: it's a set with the coordinates of the cells which should be
       alive
<jimduey> Sgeo: http://www.clojure.net/2012/02/02/Monads-in-Clojure/ Look at the
	  'Binding' section  [22:42]
<Sgeo> jimduey, I meant explaining to bosie
<naeg> scriptor: you can try it out with (create-world 4 4 glider)
<jimduey> :) Sorry. most of my brain is already at work.
<scriptor> naeg: ah, right. Is there a reason for living-cells to come after the
	   &?
<Sgeo> Since >>= is a flipped mapcat
<bosie> jimduey: where do you work  [22:43]
<jimduey> Lonocloud
<naeg> scriptor: because I wanted it to be optional. one could do (create-world
       4 4) this way
<bosie> jimduey: liking it?
<scriptor> got it, contains would always return false and it would be a blank
	   board
<jimduey> Love it. Get to work with some of the smartest people I've met on some
	  hard problems.  [22:44]
<bosie> heh
<naeg> I'm not sure whether this is the right way to make it optional though
<bosie> jimduey i guess they have a pride in excellency eh? not the usual 80/20
	perspective ? ;)
<jimduey> Most definitely.  [22:45]
<Sgeo> Another time that identity _would_ be useful, is if Clojureists generally
       used the Cont monad
<scriptor> naeg: another alternative is using the multiple arity feature
<Sgeo> jimduey, since you're a monad person, is Cont implemented in some
       library?
<Sgeo> (The continuations monad, in case you're not familiar with "Cont" because
       that's the Haskeller's name)  [22:46]
<naeg> scriptor: would you recommend to do so? never heard of it before
<jimduey> Sgeo: Yeah. Konrad's algo.monads has it. And my protocol-monads
	  library does as well.
<jimduey> https://github.com/jduey/protocol-monads
<scriptor> naeg: it's when a function can be defined using different arities, ie
	   different implementations depending on the number of arguments
<Sgeo> Protocols make me feel icky  [22:47]
<bosie> jimduey:  what are you using at work?
<bosie> jimduey:  programming language
<Sgeo> It's like a less general multimethod system
<naeg> scriptor: but clojure doesn't have these keyword arguments like python?
       e.g. def create_world(w, h, cells=()) and when you call it you either do
       create_world(4,4) or create_world(4,4,cells=[[0,1], [0,2]])  [22:48]
*** mybuddymichael (~michael@rrcs-74-87-7-226.west.biz.rr.com) is now known as
    Guest30838  [22:49]
<scriptor> naeg: doesn't use keyword args, one sec let me write up an example
<arrdem> naeg: the usual solution is to have Clojure generate a map from
	 keywords and values at the end of your function's arguments
<jimduey> bosie: We're 99.9% Clojure
<bosie> jimduey: i envy you  [22:50]
<jimduey> I have to say it's pretty great.
<bosie> does sound like it
<scriptor> naeg: https://www.refheap.com/paste/4608
<naeg> arrdem: but when I'm having only one argument, I can directly use &,
       right?
<arrdem> naeg: thing (fn [a b c &{:keys [foo bar baz] :or {:foo 1 :bar 2 :baz 3}
	 :as tail}]
<naeg> map would be overkill in that case, imo
<scriptor> jimduey: what's the other 0.1%?  [22:51]
<jimduey> Sgeo: I actually have come to like protocols. They allowed me to
	  implement monads using only a single macro. Whereas Konrad had to use
	  all kinds of macrology in algo.monads
<naeg> scriptor: would you change create-world to use this? it would be
       basically the same, just with only 2 args there would be no if
<jimduey> scriptor: A little java and clojurescript
<scriptor> naeg: right, your current method is more concise, so I'd probably
	   keep it the same  [22:52]
<naeg> but I learnt something new, thanks
<scriptor> naeg: also, for can take in multiple arguments, so you could create
	   an empty x by y board like so https://www.refheap.com/paste/4610
									  [22:54]
<scriptor> s/multiple arguments/multiple bindings
<duck1123> I usually find the rest-arg keyword maps to be more annoying then
	   they are worth.
<duck1123> whenever I do that, I find that I regret it and change it to take an
	   actual map  [22:55]
<clgv> duck1123: you could try [clojure.options "0.2.2"] for better syntax and
       documentation support for options  [22:56]
<naeg> scriptor: I tried to do so, but it didn't work  [22:57]
<naeg> yours seems not to work either
<naeg> it returns just a list of " " instead a list of lists of " "
<scriptor> ah, good catch
<naeg> i played around with  multiple bindings for a few mins, then just decided
       to make a second for  [22:58]
<duck1123> clgv: interesting. starred for later. The thing that usually makes me
	   mad is when I already have the options in a map and have to figure
	   out how to apply them
<Sgeo> jimduey, are the applicative and functor functions defined in monad
       libraries?  [22:59]
<clgv> duck1123: I mostly needed it when having several layers of functions with
       keyword-arguments. you always dont know what option you can specify for
       the lower layers
<Sgeo> Since all monads should be applicatives and functors, it should be easy
       to write <$> and <*>
<Sgeo> Although I'd need to think about it a bit because of the whole not
       currying by default thing  [23:00]
* Sgeo attempts to open browser
<jimduey> Sgeo: nope  [23:01]
<Chousuke_> many haskell techniques end up kind of cumbersome in Clojure  [23:02]
<Chousuke_> in particular, point-free style is often pointless :P
<scriptor> clojure's not a fan of indian food, clearly  [23:03]
<Sgeo> Chousuke_, I think -> should be replaced with a function
<clgv> Sgeo: nooo! please dont! then you couldnt use it for java interop
<Sgeo> Gah, I used to know the definitions of fmap and <*> for monads  [23:05]
*** imami|afk (~imami@173-13-139-237-sfba.hfc.comcastbusiness.net) is now known
    as banseljaj
<Sgeo> Wait, fmap = liftM and <*> = ap, I think
<Sgeo> So I can cheat
<Chousuke_> Sgeo: yeah, it really can't be replaced with a function.
*** _zach (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now known
    as _zach|away
<Sgeo> (-> 5 #(+ 3 %) #(* 2 %))  [23:06]
<Sgeo> ?
<dnolen> Sgeo: yuck
<Sgeo> I think being unable to specify which argument it goes in is uglier
<Chousuke_> nah, that's just how it works
<Chousuke_> in practice, -> and ->> are what you need the most.  [23:07]
<Chousuke_> people have implemented their own "generic" versions but I don't
	    think they're used much, really.
<duck1123> you can even chain them together somewhat
<nvy> (?doc ->)  [23:08]
<Sgeo> Anyways.... to write fmap in curried or uncurried form. That is the
       question.  [23:10]
*** willythewisp_ (~willythew@host-93-104-226-162.customer.m-online.net) is now
    known as willythewisp  [23:12]
<Sgeo> Yeah, with variadic functions, would make most sense to ...  [23:15]
<Sgeo> Not worry too much about the mixing of fmap and <*> and just make a
       useful function?
<jkkramer> I'm a java logging noob. I'm writing a library that creates and
	   executes sql statements, which I'd like to log. However, I want to
	   ensure that consumers of the lib can opt in or out of seeing these
	   (trace-level) logs in a standard way. If I use tools.logging, what
	   kind of config should I use to accomplish this?  [23:18]
<jkkramer> (any suggested reading on the topic is welcome, too)
*** qmx|brb (~qmx@redhat/jboss/qmx) is now known as qmx  [23:19]
<duck1123> if you're writing a library, other than tools.logging, you should
	   keep the choice of logging backend out of it. Specify what you like
	   for testing though  [23:23]
<duck1123> I find that log4j works pretty well
<acheng> java interop question: typing java.lang.Double/parseDouble at the repl
	 fails with "unable to find static field" ... but using it at the repl
	 works. why?  [23:24]
<acheng> by "using" i mean just calling it like (java.lang.Double/parseDouble
	 "3.2")  [23:25]
<jkkramer> duck1123: alright, so I just don't configure anything lib side? just
	   use tools.logging macros? what if a consumer lib hasn't done any log
	   configuration?
<djcoin> ( jimduey: https://github.com/jduey/fruit-exchange <= the link in the
	 title of the project is broken)  [23:26]
<acheng> ,java.lang.Double/parseDouble
<clojurebot> #<CompilerException java.lang.RuntimeException: Unable to find
	     static field: parseDouble in class java.lang.Double,
	     compiling:(NO_SOURCE_PATH:0)>
<acheng> ,(java.lang.Double/parseDouble "3.14")  [23:27]
<clojurebot> 3.14
<jeremyheiler> acheng: Because Java methods cannot be referenced directly like
	       that.
<acheng> jeremyheiler: so i can't include it in a call to comp ?
<acheng> ,(comp str java.lang.Double/parseDouble)
<clojurebot> #<CompilerException java.lang.RuntimeException: Unable to find
	     static field: parseDouble in class java.lang.Double,
	     compiling:(NO_SOURCE_PATH:0)>
<S11001001> ,#(Double/valueOf %) ; acheng  [23:28]
<clojurebot> #<sandbox$eval103$fn__104 sandbox$eval103$fn__104@7e9bd781>
<dnolen> jonasen: did you see ekeko?
<acheng> S11001001: thanks  [23:29]
<duck1123> jkkramer: You'll probably want to pick a log backend for your test
	   environment, so you could set up some sane filters based on that
	   backend and your namespaces. Just don't clobber the root logger
<duck1123> I had an issue for a while where Korma was setting all my logging to
	   debug. It annoyed the hell out of me.
<jonasen> dnolen: I did. but I haven't had time to study it yet  [23:30]
<jkkramer> duck1123: yeah that's what I'd like to avoid (writing a lib in a
	   similar niche as korma). what's the proper way to "pick a log backend
	   for a test environment" using project.clj / log config? I'm pretty
	   clueless and not sure where to look for examples of best practice
									  [23:32]
<duck1123> jkkramer: https://github.com/duck1123/ciste/blob/master/project.clj
<duck1123> notice log4j is a dev dependency. users of this lib are free to
	   choose whatever backend they like, but the tests will use lg4j
									  [23:33]
<duck1123> of course, now that I look at this, I'm not sure if my log4j
	   properties is the best it can be  [23:34]
<dnolen> jonasen: seems very similar to scape but w/ core.logic instead.
<jkkramer> duck1123: excellent thanks. so if someone uses your lib without
	   choosing or configuring a logging backend, it won't blow up or
	   anything?  [23:35]
*** Guest63098 (~PuercoPop@190.41.173.174) is now known as PuercoPop  [23:36]
<jonasen> dnolen: and somehow depends on Eclipse if I understood it correctly
<duck1123> Good question. I think c.t.logging has a fallback to printing. I'll
	   have to give that a try
<dnolen> jonasen: only in that it is an Eclipse plugin.
<dnolen> jonasen: Eclipse exposes the Java AST, they use core.logic to query
	 over that.
<dnolen> jonasen: these guys have been working on this problem for a long time
	 w/ Smalltalk (SOUL), should be interesting to see where it goes.
									  [23:37]
<jonasen> dnolen: definitely!
<jkkramer> duck1123: I just know it's pretty common for non-java-background
	   clojure authors like me to be oblivious to logging concerns, so want
	   to accommodate that  [23:38]
<jonasen> dnolen: I'll probably install Eclipse and try the demo this weekend
<dnolen> jonasen: it got me thinking that core.logic AST query engine for JS
	 (via Esprima or some such) would be kinda cool.  [23:39]
<duck1123> jkkramer: I know how you feel. I'm just finally getting to the point
	   that I feel confident that I know where my library is logging and why
<duck1123> I still want to try out timbre, but haven't had the time
<jonasen> dnolen: I've been thinking about doing something with JS too. What's
	  Esprima?
<dnolen> jonasen: it parses JS and generates the AST as JSON, http://esprima.org
									  [23:40]
<jonasen> dnolen: Thanks for the link, I'll take a look  [23:42]
<mmitchell> (defn map-count [coll f] (map (comp count last) (group-by f coll)))
									  [23:54]
<mmitchell> is there a clojure.core way of doing this?
<S11001001> ,(doc frequencies)  [23:58]
<clojurebot> "([coll]); Returns a map from distinct items in coll to the number
	     of times they appear."
<S11001001> ; mmitchell
<scriptor> how often are transients used by regular clojure devs?  [23:59]
<mmitchell> S11001001: awesome! thank youl

[Sat Aug 25 2012]
<kencausey> I'm having trouble running clojurescriptone (Debian 64bit, OpenJDK
	    7): http://paste.lisp.org/+2T85  [00:00]
<technomancy> scriptor: I've never seen them used directly, just via into
*** _zach|away (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now
    known as _zach
<Sgeo> Oh hey algo.monads has a m-lift
<Sgeo> It seems to be a macro, I'm not sure how necessary that is.  [00:01]
<clj_newb-2840> e is a javascript event callback. Why does clojurescript force
		me to type (.-keyCode e) instead of e.keyCode ? the lattter is
		so much more readable
<shaungilchrist> abstract the pain away  [00:04]
*** willythewisp_ (~willythew@178-26-41-44-dynip.superkabel.de) is now known as
    willythewisp  [00:06]
<duck1123> has anyone ever taken a stab at allowing javascript object properties
	   to be accessed via destructuring? Would that even be possible?
									  [00:07]
<Sgeo> You know what would be funny? If by studying this Clojure code I actually
       ended up understanding Cont better than I did when trying to grasp it in
       Haskell  [00:08]
<duck1123> (fn [{:properties [keyCode] :as e}] ...)
* nDuff didn't know that existed as a destructuring form; it's beautiful.
									  [00:09]
<duck1123> it doesn't, but it would be
*** pepijn_away (~pepijndev@ec2-23-21-19-58.compute-1.amazonaws.com) is now
    known as pepijndevos  [00:10]
*** abstractj (~abstractj@redhat/jboss/abstractj) is now known as abstractj|away
									  [00:12]
*** kral (~marco@thediracsea.org) is now known as kral|off  [00:13]
<nDuff> clj_newb-2840: That's a hard question to answer without going into a lot
	of background. Are you familiar with language isomorphism as a concept?
									  [00:14]
<nDuff> Does partial preserve type hints?  [00:36]
<duck1123> nDuff: I'm pretty sure it does  [00:43]
<Sgeo> ,(println "Hello")  [00:55]
<clojurebot> Hello
<Sgeo> ,(dosync (println "Hello"))  [00:56]
<clojurebot> Hello
<Sgeo> !!!
<Sgeo> Why does that work?
<Sgeo> ,(dosync (io! (println "Hello")))
<clojurebot> #<IllegalStateException java.lang.IllegalStateException: I/O in
	     transaction>
<shaungilchrist> haha
<Sgeo> Why isn't println defined with io! in its definition?  [00:57]
<duck1123> that would be a lot of overhead when it's generally not needed
									  [00:58]
<antares_> Sgeo: because you cannot add io! everywhere, that's why
<antares_> Sgeo: specifically you cannot modify Java libraries doing I/O. So
	   clojure.core/io! is for your own code.  [00:59]
<technomancy> Sgeo: that would make it really annoying to add debugging calls
	      too
<Chousuke_> println isn't really a "dangerous" IO operation in most cases
	    anyway.  [01:01]
*** Chousuke_ (oranenj@battery.modeemi.fi) is now known as Chousuke
*** PuercoPop (~PuercoPop@190.237.7.137) is now known as Guest35268  [01:10]
*** Guest35268 (~PuercoPop@190.237.7.137) is now known as PuercoPop  [01:12]
*** statonjr_ (~statonjr@209.34.239.254) is now known as statonjr  [01:21]
*** FermentedFermion (~Lajla@ip51cc146b.speed.planet.nl) is now known as
    HughValhugh  [01:23]
*** _zach (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now known
    as _zach|away
<thorbjornDX> destructuring is so badass  [01:30]
<Raven> That it is.  [01:31]
<thorbjornDX> I thought keyword arguments in python were cool, now they seem
	      like more of a hinderance  [01:32]
*** abstractj|away (~abstractj@redhat/jboss/abstractj) is now known as abstractj
<thorbjornDX> (even though I can't write a damn thing in clojure so far, haha)
<Raven> I really liked the way keword arguments are done in common lisp.  [01:38]
<antares_> Monger 1.2 RC1 is released:
	   https://github.com/michaelklishin/monger/blob/master/ChangeLog.md
									  [01:39]
<XPherior> Would it be unheard of to load all rows of a database, lazily, and
	   use filters to get a result, as opposed to using Korma?  [01:44]
<nDuff> XPherior: That'd be pretty awful, yes.  [01:47]
<XPherior> nDuff: Why?  [01:48]
<nDuff> XPherior: ...a RDBMS does a lot of work to be able to do indexing, query
	optimization, &c., and you're throwing that out of the window. In short,
	it'll be vastly, dramatically slower.
<XPherior> nDuff: Yeah I suppose that makes sense. My idea was that I could
	   package filters into functions. So rather than calling (where {:a b})
	   5 or 6 times throughout a file, I could just have a referentially
	   transparent function that's tested.  [01:49]
<nDuff> ...personally, by the way, I spent much too much time fighting korma,
	and have enjoyed my life much more since I switched to clojure.java.jdbc
									  [01:50]
<nz-> ,(doc reify)
<clojurebot> "([& opts+specs]); reify is a macro with the following structure:
	     (reify options* specs*) Currently there are no options. Each spec
	     consists of the protocol or interface name followed by zero or more
	     method bodies: protocol-or-interface-or-Object (methodName [args+]
	     body)* Methods should be supplied for all methods of the desired
	     protocol(s) and interface(s). You can also define overrides for
	     meth...
<nDuff> (and rolled my own thin query-builder layer)
<XPherior> nDuff: I see. Is it on Github?
<nDuff> No, and it's not really good enough for me to want to release it -- it's
	very much something that has exactly as much functionality as I need
	right this minute, and no more.  [01:51]
<XPherior> Got'cha.
*** robink_ (~quassel@fatcat.creosotehill.org) is now known as robink
<nDuff> that said, for all korma talks about being composeable, it's full of
	macros (which aren't, very much), has hardcoded assumptions making it
	hard to use DB-specific extensions, &c.
<XPherior> The macro thing has bitten me a few times.  [01:52]
<TimMc> nDuff: Aw c'mon, what's the harm? Just put it up on a pastebin. What's
	the worst that could happen? :-P  [01:53]
<TimMc> (Besides, y'know, someone taking the code and inflicting it upon the
	world in the form of a hacked-together library.)  [01:55]
*** _zach|away (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now
    known as _zach
<nz-> nDuff: have you tried clojureql?  [01:58]
<nDuff> nz-: No, I haven't. Looks interesting.  [01:59]
<nz-> nDuff: i looked briefly at both clojureql and korma and picked korma, and
      it was not easy start  [02:00]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [02:03]
* technomancy is really looking forward to the next version of c.j.jdbc  [02:06]
*** abstractj (~abstractj@redhat/jboss/abstractj) is now known as abstractj|away
									  [02:09]
<cemerick> technomancy: is there some talk somewhere about what's coming down
	   the pike?  [02:12]
<technomancy> cemerick: just rumblings from IRC and the mailing list
* jkkramer is writing data-structure- and function-based DB query lib
<cemerick> eh, must have missed it
<cemerick> I'm tempted to just write my own.  I don't much care about databases
	   other than postgres, and the closer to jdbc I am (within reason) the
	   better.  [02:14]
<cemerick> As it is, I already monkeypatch c.c.jdbc to make it return vectors
	   from queries instead of maps *shrug*
<technomancy> cemerick:
	      http://comments.gmane.org/gmane.comp.java.clojure.user/59832
									  [02:15]
*** amalloy_ (~amalloy@li231-96.members.linode.com) is now known as amalloy
<technomancy> specifically the suggestions from hiredman, which I hope are
	      carried to fruition
<cemerick> oh, right jsql, I remember now
*** abstractj|away (~abstractj@redhat/jboss/abstractj) is now known as abstractj
									  [02:16]
<cemerick> technomancy: sounds like a massive undertaking
<technomancy> perhaps. needs to happen though; c.j.jdbc is really awkward.
									  [02:17]
<jkkramer> I have a working sql-as-data-structures lib; not ready for prime time
	   though
<technomancy> I hate how (sql/with-connection db/db [...]) is basically always
	      on my clipboard when doing repl work.
<technomancy> oh dang
<technomancy> I'm an idiot
<technomancy> (sql/with-connection db/db (clojure.main/repl))
<cemerick> It's not directly comparable, but the result would probably have
	   similar scope as sqlalchemy, which is a beast  [02:18]
<technomancy> jkkramer: have you looked at seancorfield's jsql and the mailing
	      list thread above?
<cemerick> technomancy: or just alter-var-root and be done
<technomancy> yeah, there's that too
* nDuff utterly adores SQLAlchemy, but... yeah, that's not exactly a weekend's
  work.  [02:19]
<cemerick> (You'll not be able to use clojure.main/repl from nrepl.el)
<cemerick> nDuff: Seems like a life's work, really :-)
<technomancy> cemerick: yeah, this is a remote dyno anyway; drawbridge hasn't
	      been ported to nrepl.el either =\  [02:20]
<cemerick> oh right, that thread is where I mentioned CTEs and such.  Very, very
	   handy for generating SQL from datalog-esque queries.
<jkkramer> technomancy: yeah. the goals for jsql and my lib
	   (https://github.com/jkk/honeysql - WIP) are a little
	   different. honeysql does purely sql -> string, no db
	   management. Developing another lib as a layer on top which handles
	   DB, relations, etc
<jkkramer> sql -> string + params, rather  [02:21]
<technomancy> hrm
<jkkramer> sql data structure -> string + params
<cemerick> technomancy: you need deuce, pronto :-P
<technomancy> jkkramer: oh, gotcha. I think that's what hiredman suggested jsql
	      turn into.
<technomancy> so that's very interesting to me
<technomancy> a low-level sql compiler that other libraries could target
<jkkramer> that's the goal of honeysql  [02:22]
<technomancy> you should probably sync up with seancorfield anyway, since that's
	      what jsql *should* be =)  [02:23]
<jkkramer> I'll do that. Planning a alpha-level release soon; would like to have
	   something tangible to contribute rather than intensions  [02:25]
<unlink> How do I get metadata on a function in a defn?
<unlink> Similar to the effect of (def f (with-meta (fn [] ...) {:some
	 "metadata"}))  [02:26]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [02:29]
<mybuddymichael> unlink: Are you talking about (defn ^{:foo "bar"} foo-bar (...
									  [02:32]
<shaungilchrist> is anyone actually using clojure-clr?  [02:36]
<nDuff> shaungilchrist: The survey covers taht.
<nDuff> err, that, even.
<shaungilchrist> sorry - survey?
<nDuff>
	http://cemerick.com/2012/08/06/results-of-the-2012-state-of-clojure-survey/
<shaungilchrist> op delivered
<shaungilchrist> that does answer my question but not what I was hoping for
		 haha.  [02:38]
<shawnlewis> Is it possible to make a macro that expands like this: (or-pred :id
	     [4 5 6]) -> (or {:id 4} {:id 5} {:id 6}). Note I don't want a
	     fully-qualified "or" as this is being passed into another macro
	     (korma)  [02:40]
<clj_newb_2840> https://github.com/clojure/clojurescript/wiki/Exception-Handling
		<-- how does exception handling actually work in clojurescript?
		is it implemented?  [02:41]
<cemerick> nDuff: that's saved now :-)
<cemerick> ~survey
<clojurebot> survey is
	     http://cemerick.com/2011/07/11/results-of-the-2011-state-of-clojure-survey/
<metellus> get with the times, clojurebot
<shaungilchrist> is there anything that has surpassed enfocus wrt dom
		 manipulation? It looks pretty rad  [02:45]
<shawnlewis> figured it out. you need to do: ~(symbol "or") to get an
	     unqualified symbol within a backtick clause  [02:47]
<zerokarmaleft> ,`((symbol "or") ~(for [v [4 5 6]] '{:id v}))  [02:48]
<clojurebot> ((clojure.core/symbol "or") ({:id v} {:id v} {:id v}))
<shawnlewis> ,`(~(symbol "or") ~(for [v [4 5 6]] '{:id v}))  [02:49]
<clojurebot> (or ({:id v} {:id v} {:id v}))
<zerokarmaleft> hrm
<shawnlewis> ,`(~(symbol "or") ~@(for [v [4 5 6]] '{:id v}))  [02:50]
<clojurebot> (or {:id v} {:id v} {:id v})
<zerokarmaleft> need ~v
<shawnlewis> ya
<shawnlewis> ,`(~(symbol "or") ~@(for [v [4 5 6]] `{:id ~v}))  [02:51]
<clojurebot> (or {:id 4} {:id 5} {:id 6})
<zerokarmaleft> ,`(~(symbol "or") ~(for [v [4 5 6]] `{:id ~v}))
<clojurebot> (or ({:id 4} {:id 5} {:id 6}))
<shawnlewis> the tricky part is that ~(symbol "or")
<zerokarmaleft> ah splice also
<joly> ,`(~'or true false)  [02:55]
<clojurebot> (or true false)
<joly> shawnlewis: ^  [02:56]
<TimMc> clojurebot: survey is
	http://cemerick.com/2012/08/06/results-of-the-2012-state-of-clojure-survey/
									  [02:57]
<clojurebot> In Ordnung
<TimMc> clojurebot: forget survey |is|
	http://cemerick.com/2011/07/11/results-of-the-2011-state-of-clojure-survey/
<clojurebot> I forgot that survey is
	     http://cemerick.com/2011/07/11/results-of-the-2011-state-of-clojure-survey/
<shawnlewis> joly: sweet  [03:00]
<hyPiRion> Hm.  [03:01]
<mrb_bk> dnolen: thanks again man, great talk last night  [03:04]
<dnolen> mrb_bk: np! was really tons of fun!
<mrb_bk> dnolen: definitely! and i woke up remembering some embarrassing shit i
	 did, which is always awesome!
<solussd> does anyone here remember the programming tutorial (for
	  non-programmers) that was an online clojure interpreter that stepped
	  the user through each programming concept page by page? it was only a
	  few pages long…. can't for the life of me find it with google, but
	  wanted to point someone at it. It was discussed on the mailing list a
	  few months ago  [03:05]
<jeremyheiler> solussd: ClojureScriptOne?
<technomancy> tryclj.com?
<dnolen> mrb_bk: haha yes the mutual trolling portion of the evening was
	 hilarious.
<mrb_bk> dnolen: haha, yes  [03:06]
<solussd> neither of those…
<mrb_bk> glad i didn't give them my business card
<solussd> this was more step-by-step tutorial. something you could point a
	  non-programmer at and they'd get it.  [03:09]
<solussd> it doesn't even mention its clojure until a page or so in
<technomancy> solussd: casting spels?  [03:10]
<solussd> that's not it either… this was very HTML5y  [03:11]
<technomancy> ndimiduk: hey, you'll be interested in this:
	      https://github.com/technomancy/leiningen/pull/746/files
									  [03:14]
<technomancy> courtesy of llasram
<ndimiduk> technomancy: slick!  [03:16]
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|mtg
<technomancy> ndimiduk: should be going out in a release later today
<solussd> found it! talkingtomachines.org  [03:18]
<technomancy> wow, that's pretty slick
<scriptor> damn, can't believe I didn't see this before  [03:19]
<pjstadig> ,[(nth "foo" 1) (get "foo" 1)]
<Raynes> People keep doing these cute little tutorials. I wonder if contributing
	 something like it to tryclojure is something they actively think about
	 and decide against. It's like people are allergic to it.
<clojurebot> [\o \o]
<pjstadig> ,[(nth (StringBuilder. "foo") 1) (get (StringBuilder. "foo") 1)]
									  [03:20]
<clojurebot> [\o nil]
<pjstadig> :-/
<S11001001> Raynes: following standards
<S11001001> Raynes: fear of comparison?
<solussd> raynes: I think this is more focused on the non-programmer, where
	  tryclojure assumes some familiarity with programming  [03:21]
<scriptor> people might want a different interface from a repl
<pjstadig> RT.get explicitly checks for only String or arrays when indexing with
	   an integer, then it calls RT.nth
<pjstadig> RT.nth allows also for CharSequences  [03:22]
<pjstadig> but you can't index into a CharSequence using get and a number
<xeqi> does vim have a nrepl front end?  [03:25]
<technomancy> xeqi: it's unfinished IIRC  [03:26]
<technomancy> blocked on a haskell client implementation
<eggsby> hmm, how can I get the pomfile from lein pom to see my :main/-main
	 method ?
*** qmx|mtg (~qmx@redhat/jboss/qmx) is now known as qmx  [03:27]
<technomancy> eggsby: where would you expect it to be?
<bosie> is a function still poor if it reads from (def something somevalue) ?
									  [03:30]
<bosie> or only if its defonce? or in neither of the two cases?
<emezeske> bosie: s/poor/pure ?  [03:32]
<bosie> emezeske: sorry, yes  [03:33]
<bosie> emezeske: most of my functions are poor though ;)
<emezeske> :)
<solussd> bosie: it's pure as long as it doesn't change anything externally and
	  always returns the same output for any given input  [03:34]
<Raynes> I'm not sure it is pure though.
<Raynes> You can change the root values of vars.
<Raynes> If you never do that, you can certainly pretend its pure.
<Raynes> But it isn't actually pure.
<Raynes> But it doesn't matter at all.  [03:35]
<bosie> solussd: if i can change def and the output of the function depends on
	it in some way, it isn't giving the same result for the same parameter
	values
<bosie> Raynes: how could i change it so?
<bosie> though
<solussd> if it's using a def'd constant, then it is pure. :D e.g. def ^:const
	  blah 3) (defn pure [x] (* blah x))  [03:36]
<Raynes> ^ this
<solussd> bosie: but you don't "def" things at runtime, usually
<solussd> i mean, it's like redefining gravity.
<Raynes> (def x 3) (defn foo [y] (+ x y))
<bosie> solussd: maybe not on purpose… ;)
<solussd> clojure lets you change the constants of nature, but you don't have to
									  [03:37]
<Raynes> If you call foo with 3, you get back six.
<Raynes> If you change x to 6 and call foo with 3, you get 9.
<Raynes> Different results, same params, no change to the function, not pure.
<solussd> yeah, but you had to change the meaning a def'd symbol  [03:38]
<bosie> Raynes: my point. but wouldn't defonce prevent that?
<bosie> hmm  [03:39]
<Raynes> bosie: You can change the root of a var defined with defonce too.
									  [03:41]
<Raynes> So no.
<solussd> unlike functions that create or consume the results of side-effects
	  functions in clojure that use def'd symbols are pure, in the practical
	  sense. I mean, you can change the root binding of a function too, but
	  we consider (defn pure-func [x] (my-func 3 x)) to be pure, even though
	  I could, technically change the root binding of my-func
<Raynes> I don't consider it to be pure at all.  [03:43]
<Raynes> But I also don't care.
<Raynes> Because if you think about it, not much *is* pure, since you could
	 alter the vars in clojure.core and change pretty much every function in
	 Clojure.
<bosie> Raynes: how come? coming from oop, i find testing/using pure functions
	to be a treat compared some state using function
<Raynes> It just doesn't matter.  [03:44]
<bosie> ok
<Raynes> Nobody is going to use alter-var-root to exploit the impurity of a
	 function, and if they do they're either doing something extremely
	 specific or very wrong.
<Raynes> It doesn't matter practically, like solussd said.
<cprice_> is it considered bad form to use (binding [*ns* ...) ?  [03:48]
<pjstadig> ,(get "foo" 7/3)
<clojurebot> \o  [03:49]
<zerokarmaleft> pjstadig: heh
<pjstadig> accepts any instance of Number and calls intValue on it
<pjstadig> ,(get "foo" 1.3333333)
<clojurebot> \o
<antares_> cprice_: not necessarily but maybe libraries like tools.namespace or
	   bultitude can do what you need?
<cprice_> antares_: thanks, not familiar with those, will check them out  [03:50]
<pjstadig> ,(get (vec "foo") 1.3333333)
<clojurebot> nil
<pjstadig> interesting little corners of clojure here
<Raynes> cprice_: Not really. I guess it depends on what you're using it for.
<cprice_> i want to (load) a file that defines some functions.  the file does
	  not specify a namespace, but I want to control what namespace the
	  functions get defined in.  [03:51]
<zerokarmaleft> ,(get "foo" Double/NaN)  [03:52]
<clojurebot> \f
<zerokarmaleft> haha
<antares_> cprice_: then it's ok but look at those libraries first
<metellus> ,(= 0 Double/NaN)
<clojurebot> false
<metellus> phew  [03:53]
<pjstadig> ,(= 0 (int Double/NaN))
<clojurebot> true
<cprice_> i'm looking at them.  nothing in there is immediately jumping out at
	  me.  thanks for the pointer though, good to know about them!
									  [03:54]
<metellus> I'm not sure how I feel about that.
<dnolen> ,(int Double/NaN)  [03:56]
<clojurebot> 0
<dnolen> ,(int Double/POSITIVE_INFINITY)
<clojurebot> #<IllegalArgumentException java.lang.IllegalArgumentException:
	     Value out of range for int: Infinity>
<metellus> ,(int nil)
<clojurebot> #<NullPointerException java.lang.NullPointerException>
<dnolen> ,(int Double/NEGATIVE_INFINITY)
<clojurebot> #<IllegalArgumentException java.lang.IllegalArgumentException:
	     Value out of range for int: -Infinity>
<pjstadig> (.intValue Double/POSITIVE_INFINITY)
<pjstadig> ,(.intValue Double/POSITIVE_INFINITY)
<clojurebot> 2147483647
<hyPiRion> ,(.longValue Double/POSITIVE_INFINITY)  [03:58]
<clojurebot> 9223372036854775807
<metellus> ,(inc (.longValue Double/POSITIVE_INFINITY))  [03:59]
<clojurebot> #<ArithmeticException java.lang.ArithmeticException: integer
	     overflow>
<pjstadig> ,(unchecked-inc (.longValue Double/POSITIVE_INFINITY))  [04:00]
<clojurebot> #<ArithmeticException java.lang.ArithmeticException: integer
	     overflow>
<hyPiRion> ,(unckeched-inc (.longValue Double/POSITIVE_INFINITY))  [04:02]
<clojurebot> #<CompilerException java.lang.RuntimeException: Unable to resolve
	     symbol: unckeched-inc in this context,
	     compiling:(NO_SOURCE_PATH:0)>
<hyPiRion> ,(unchecked-inc (.longValue Double/POSITIVE_INFINITY))
<clojurebot> #<ArithmeticException java.lang.ArithmeticException: integer
	     overflow>
<hyPiRion> hm
<pjstadig> ah  [04:03]
<pjstadig> yes, i've seen this before
<pjstadig> ,(unchecked-inc (long (.longValue Double/POSITIVE_INFINITY)))
<clojurebot> -9223372036854775808
<pjstadig> because of the way the argument flows through the Java code in
	   Clojure it's allowed to overflow  [04:04]
<pjstadig> er, i mean throw an overflow exception
<zerokarmaleft> ,(int Double/POSITIVE_INFINITY)
<clojurebot> #<IllegalArgumentException java.lang.IllegalArgumentException:
	     Value out of range for int: Infinity>
<zerokarmaleft> ,(int (inc Double/POSITIVE_INFINITY))
<clojurebot> #<IllegalArgumentException java.lang.IllegalArgumentException:
	     Value out of range for int: Infinity>
<pjstadig> which i guess is technically correct according to the doc string
	   since you're supposed to pass a primitive long
<zerokarmaleft> ,(.intValue (inc Double/POSITIVE_INFINITY))  [04:05]
<clojurebot> 2147483647
<pjstadig> however it is interesting that .longValue isn't inferred as primitive
	   long
<pjstadig> ,(unchecked-inc ^long (.longValue Double/POSITIVE_INFINITY))
<clojurebot> #<CompilerException java.lang.IllegalArgumentException: Unable to
	     resolve classname: long, compiling:(NO_SOURCE_PATH:0)>
<hyPiRion> Oh, I think I get why.
<pjstadig> ,(doc unchecked-inc)  [04:06]
<clojurebot> "([x]); Returns a number one greater than x, a long. Note - uses a
	     primitive operator subject to overflow."
<hyPiRion> ,(class (long 1))
<clojurebot> java.lang.Long
<hyPiRion> ,(class (.longValue 1.0))
<clojurebot> java.lang.Long
<pjstadig> that's because the primitive long is getting boxed as a Long  [04:07]
<pjstadig> but unchecked-inc should be able to take a primitive long argument
	   without boxing
<hyPiRion> oh well.
<melipone> hello
<pjstadig> but because the compiler cannot infer that it boxes it which sends it
	   through the version of unchecked-inc that takes a Number
<pjstadig> which will throw an exception
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [04:09]
<melipone> I have a lein project with some java code. I get this message at the
	   lein repl prompt "Compiling 1 source file to /somepath/class 1.5 1
	   warnes warning: [options] bootstrap class path not set in conjunction
	   with -source 1.5 " Any ideas?
<melipone> oops, the message got mangled. Should be:  [04:10]
<melipone> Compiling 1 source file to /somepath/classes warning: [options]
	   bootstrap class path not set in conjunction with -source 1.5
<acheng> melipone! on your previous question about deserialization, the issue
	 you had was what i meant by version mismatch. it was the version of
	 your type  [04:11]
<dnolen> ,(do (set! *warn-on-reflection* true) (.intValue
	 Double/POSITIVE_INFINITY))  [04:12]
<clojurebot> #<IllegalStateException java.lang.IllegalStateException: Can't
	     change/establish root binding of: *warn-on-reflection* with set>
<dnolen> in anycase (.intValue Double/POSITIVE_INFINITY) triggers reflection
<dnolen> .intValue is a method, but Double/POSITIVE_INFINITY is a
	 primitive. reflection is required return type not known.  [04:13]
<pjstadig> ,(unchecked-inc (.longValue Double/POSITIVE_INFINITY))
<clojurebot> #<ArithmeticException java.lang.ArithmeticException: integer
	     overflow>
<melipone> acheng: are you referring about my current question about boostrap
	   class path?
<pjstadig> ,(unchecked-inc (.longValue ^Double Double/POSITIVE_INFINITY))
<clojurebot> -9223372036854775808
<mmitchell> is there a clojure.core way to get the *ordered* difference between
	    one collection and another?
<dnolen> pjstadig: yep  [04:14]
<acheng> melipone: no :) it's about your question from many days ago
<pjstadig> dnolen: so that's why the compiler is not able to infer that
	   .longValue returns a primitive long...interesting
<hyPiRion> ,(binding [*warn-on-reflection* true] (.intValue
	   Double/POSITIVE_INFINITY))
<clojurebot> 2147483647
<hyPiRion> *shrugs*  [04:15]
<melipone> acheng: oh, hello! yes, I did solve that somehow
<melipone> acheng: yes, it was some version mismatch  [04:16]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [04:22]
<melipone> how about my current question on lein compilation of java?
<acheng> melipone: sorry. i don't know about that.  [04:23]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [04:25]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [04:27]
<acheng> melipone: is there a #leiningen channel?  [04:28]
<jeremyheiler> acheng: yes  [04:29]
<melipone> okay, i'll ask there  [04:33]
<melipone> join #leininghen
<melipone> join /leininghen
<acheng>  /join  [04:34]
<acheng>  leiningen
<melipone> grrrrr.... thanks
<nDuff> /join #leiningen (rather)
<acheng> ha!
<acheng> sigh
<TimMc> /say /commands without running them  [04:38]
<astoddard> can anyone help me troubleshoot a native dependency issue with
	    leiningen2 ?
<technomancy> astoddard: probably not, but it doesn't hurt to try  [04:40]
<xeqi> ouch, but true  [04:41]
<bosie> is there a function with which i could apply two functions onto a list
	containing hashes? e.g. [{:blah "blah"},{:blah "blah2"}] and i want the
	value of :blah from the second entry  [04:46]
<hyPiRion> from a list or a vector?  [04:47]
<hyPiRion> ,(get-in [{:blah "blah"} {:blah "blah2"}] [1 :blah])
<clojurebot> "blah2"
<gnarmis> nice  [04:48]
<bosie> neat
<bosie> though i was really asking because i am wondering if there is a way to
	apply two functions on a value  [04:50]
<hyPiRion> bosie: You can use comp to compose functions, if that's what you're
	   asking for.  [04:51]
<bosie> hyPiRion: hmm  [04:53]
<nz-> ,(apply merge {} '({:blah "blah"},{:blah "blah2"}))
<clojurebot> {:blah "blah2"}
<bosie> hyPiRion: i guess in combination with partial  [04:54]
<S11001001> ,(conj {:a :b :d :q} {:a :c :b :d})
<clojurebot> {:b :d, :a :c, :d :q}
<hyPiRion> ,((comp :blah nth) [{:blah "blah"} {:blah "blah2"}] 1)
<clojurebot> "blah2"
<bosie> hyPiRion: yes but preloading nth with 1  [04:55]
<hyPiRion> Yeah, then you'd have to fire off some anonymous functions
<bosie> hyPiRion: wouldn't a partial not work?  [04:56]
<bosie> trying it
<hyPiRion> bosie: partial is an anonymous function ;)
<bosie> ah ok
<hyPiRion> But yeah, it really depends  [04:57]
<hyPiRion> nth can't be partialed with a position, as the order of the functions
	   aren't in the correct way  [04:58]
<hyPiRion> /s/functions/arguments
<bosie> ye
* technomancy pines for rpartial occasionally
<bosie> feature request.
<bosie> ;)
<technomancy> that'll go over well
<hyPiRion> technomancy: not happy enough with #() ?  [04:59]
* technomancy flies the point-free flag  [05:00]
<S11001001> ,(do (defn flip [f a b & args] (apply f b a args)) ((partial flip
	    (comp :blah nth) 1) [{:blah "blah"} {:blah "blah2"}]))
<clojurebot> #<Exception java.lang.Exception: SANBOX DENIED>
<S11001001> mmm
<scriptor> technomancy: could write an apply-reverse function that just does
	   apply on a reverse() of the args  [05:01]
<scriptor> https://www.refheap.com/paste/4621
<amalloy> technomancy: you don't want rpartial, you want partial+flip
<amalloy> (partial (flip nth) 2), for example  [05:02]
<technomancy> amalloy: sounds like a breakdance move
<technomancy> that'd be sweet
<amalloy> the breakdance move, or flip?
<technomancy> partial+flip  [05:03]
<amalloy> rather: flip as a breakdance move, or as a function in core?
<nz-> ,(doc flip)
<clojurebot> Cool story bro.
<technomancy> I don't actually know anything about breakdancing, so I can't take
	      the joke further.
<technomancy> my apologies.
<amalloy> anyway, i wrote a library for flip-related functions a while ago
<amalloy> probably a little bit overengineered, but entertaining
<amalloy> https://github.com/amalloy/hot-potato  [05:04]
<technomancy> cools
<scriptor> doesn't look very overengineered  [05:05]
<technomancy> very clever.  [05:06]
<technomancy> far too clever, of course. but clever.
<amalloy> that may have been the first unhygenic macro i wrote on purpose
<dnolen> ~guards
<clojurebot> SEIZE HIM!
<technomancy> ~gourds  [05:07]
<clojurebot> SQUEEZE HIM!
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [05:08]
<amalloy> (inc technomancy)
<lazybot> ⇒ 37
<technomancy> brazenly stole that from #emacs
<technomancy> well, both of those actually
<amalloy> not sure whether to inc or dec you for stealing from #emacs  [05:09]
<Raynes> (inc technomancy)
<lazybot> ⇒ 38
*** eno__ (~eno@adsl-70-137-132-180.dsl.snfc21.sbcglobal.net) is now known as
    eno
<technomancy> in #emacs, karma is determined by rand-int  [05:10]
<hyPiRion> ,(list (rand-nth '[inc dec]) 'technomancy)  [05:11]
<clojurebot> (dec technomancy)
<lazybot> ⇒ 37
<hyPiRion> Well..  [05:13]
<arrdem> (inc technomancy)
<lazybot> ⇒ 38
<arrdem> since when is ~gourds a thing...
<technomancy> it's useful for when, um... you need someone squeezed.
<arrdem> ,(defn rkarma [nic] (list (rand-nth '[inc dec]) nic))  [05:22]
<clojurebot> #<Exception java.lang.Exception: SANBOX DENIED>
<arrdem> fooie.  [05:23]
<nDuff> Hmm.  [05:24]
<nDuff> It'd be a fun project to rewrite clojurebot to run code that the JVM
	sandbox denies inside a short-lived VM sandbox
<arrdem> that would be interesting... I suppose I'd have to patch the bot to add
	 (rkarma) anyway.  [05:25]
<Raynes> That's also the wrong bot.  [05:26]
<nDuff> qemu/kvm makes setting up sandboxes of that variety very much trivial,
	and as long as the initial state can sit in the block cache, setting
	them up can be very, very fast (evalbot and sbot in #bash work that way
	in entirety)
<arrdem> Raynes: so which is the right one?
<Raynes> lazybot does karma stuff.
<nDuff> ...would want to have serial connectivity only to the outside world (no
	direct networking) to prevent it from being used for anything
	malicious...  [05:27]
<Raynes> Also, I'm working on a project with a friend that uses selinux to
	 sandbox various languages and allow you to evaluate code over an API.
<arrdem> Raynes: yeah but if clojurebot says it lazybot'll pick it up
<arrdem> asside from trusting #clojure users to not abuse the bot, is there a
	 way to 'deny' access like that?  [05:28]
* arrdem knows nothing about the JVM security model
*** jkkramer_ (~anonymous@cpe-74-67-183-85.rochester.res.rr.com) is now known as
    jkkramer  [05:29]
<arrdem> (long nDuff)  [05:35]
<brainproxy> anyone willing to give me some feedback on a macro? the ideas is to
	     wrap a func's "post args" forms in some forms that setup database
	     context
<brainproxy> but I want to support multi-arity dispatch in addition to the
	     simple case  [05:36]
<amalloy> ~anyone
<clojurebot> Just a heads up, you're more likely to get some help if you ask the
	     question you really want the answer to, instead of "does anyone
	     ..."
<brainproxy> https://gist.github.com/3455905
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [05:37]
<brainproxy> that works fine, but I think maybe it could be further refined, or
	     maybe that is the best way to do it
<brainproxy> not sure
<unlink> mybuddymichael: no, I want the metadata on the function, not the var.
									  [05:38]
<amalloy> just throw away the first clause, and convert (fn [x] x) to (fn ([x]
	  x)) before you call the second clause
<brainproxy> amalloy: oh derp, yeah, that's perfect :D  [05:39]
<arrdem> amalloy: can you explain the second version? my intuition is that it's
	 equivalent to (eval (list (first x) x))  [05:40]
<arrdem> well... no ditch the (eval)
<nDuff> arrdem: Hmm? The JVM security model is pretty good, but I still prefer
	the read-only VM approach. If you're discarding all your state when
	finished, and have a hard limit on execution time, and don't have any
	networking... there's not much trust involved.  [05:44]
*** jasonjckn_ (~jasonjckn@173-164-196-201-SFBA.hfc.comcastbusiness.net) is now
    known as jasonjckn  [05:45]
<brainproxy> amalloy: sweet, that works well.. revised ver
	     https://gist.github.com/3455905  [05:49]
<pandeiro> is there currently a way in cljs to do type-based dispatch for things
	   like js/HTMLElement vs js/HTMLDivElement vs js/Object?  [05:50]
<arrdem> pandeiro: multimethods are your friend  [05:51]
<pandeiro> arrdem: ok not protocols
<pandeiro> i guess it's not possible for cljs to ascertain the hierarchy
	   HTMLElement => HTMLDivElement ?
<pandeiro> for example
<dnolen> pandeiro: we don't currently traverse the prototype chain.  [05:52]
<arrdem> pandeiro: I claim no knowlege of CLJS
<dnolen> pandeiro: some more work would need to be done to support that.
<pandeiro> dnolen: you forgot 'patches welcome'
<dnolen> pandeiro: ;)  [05:53]
<pandeiro> or maybe you already realized that was beyond me
<pandeiro> :)
<pandeiro> thanks for the info
<arrdem> dnolen: you don't have (supers)?
<dnolen> arrdem: supers does not exist, no.  [05:54]
<dnolen> pandeiro: hmm, now that I think about it seems weird that if you
	 extend-type js/Element that it doesn't automatically work for
	 HTMLDivElement since we do extend the Element prototype ...
									  [05:59]
<dnolen> pandeiro: it's not working for you right?  [06:00]
<pandeiro> dnolen: i tested it the other day and no  [06:02]
<pandeiro> i was trying to implement a basic protocol that dispatched on
	   HTMLElement and passed in an HTMLDivElement  [06:03]
<dnolen> pandeiro: did you check that they are actually in a prototype chain?
									  [06:05]
<pandeiro> dnolen i remember discovering it through the chromium console, yes
									  [06:06]
<pandeiro> i could not get to that information through the repl though
<pandeiro> i think I was using __proto__ in the console  [06:07]
<pandeiro> and at the repl all i could get out of using __proto__ was [Object
	   object]
<dnolen> pandeiro: yeah __proto__ isn't really part of the standard, tho widely
	 supported.
<pandeiro> dnolen: np not a feature request, just making sure i wasnt missing
	   something  [06:09]
<dnolen> pandeiro: definitely something to look into. Speaking of which,
	 there'll eventually be a lot of work to do if ES6 gets classes ...
									  [06:10]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [06:12]
<pandeiro> dnolen: unrelated, when i try to lisp-eval-region a (ns ... ) & forms
	   that haven't been compiled yet at the browser REPL, the REPL becomes
	   unresponsive. known bug?  [06:13]
<dnolen> pandeiro: no idea  [06:15]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off
<dnolen> pandeiro: REPL becomes unresponsive if there's an uncaught error is the
	 only thing I've seen like that.
<pandeiro> yeah actually the browser is suddenly unable to POST to :9000 when it
	   happens  [06:16]
<dnolen> pandeiro: and refreshing the browser doesn't help?  [06:17]
<pandeiro> didn't try that
<pandeiro> dnolen: ...and can no longer reproduce  [06:18]
<pandeiro> weirdness
<pandeiro> last question i promise: clj : clojure.lang.ILookup = cljs : ILookup
	   ?
<pandeiro> protocols not namespaced?  [06:19]
<eggsby> is there a way to make some assignment impossible to re-assign?
<eggsby> i.e. protected from re-def at some later point..
<pandeiro> eggsby: defonce  [06:20]
<dnolen> pandeiro: they are namespaced, but clojure.core is used
<dnolen> pandeiro: in Clojure those aren't protocols they are interfaces.
<eggsby> defonce allows dynamic redef tho right pandeiro ?
<pandeiro> not sure eggsby
<eggsby> i.e. (defonce something 1) (def something 2) ;; something is 2
<eggsby> it's just that defonce will not redef if it already has been def'd, not
	 that it protects from future def
<pandeiro> dnolen: so I can do (deftype Schwa [a b] ILookup ...) ?  [06:21]
<dnolen> pandeiro: yes
<Raynes> ibdknox: ping  [06:24]
* Frozenlock disguises as ibdknox  [06:25]
<Frozenlock> pong!
<pandeiro> protocols are a terrible match for methods with variable arities yes?
									  [06:39]
<dnolen> pandeiro: works for different arities - but a problem if you need rest
	 arg.  [06:41]
<pandeiro> ah right of course  [06:42]
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|away  [06:50]
*** _zach (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now known
    as _zach|away  [06:57]
<steffi_s> hello, i am trying some java midi stuff and get this error:  [06:58]
<steffi_s> Exception in thread "main" java.lang.IllegalArgumentException: Can't
	   call public method of non-public class: public
	   javax.sound.midi.MidiChannel[]
	   com.sun.media.sound.AbstractPlayer.getChannels(),
	   compiling:(core.clj:7)
<steffi_s> any ideas?
<steffi_s> it works on a linux machine, but this error happens on mac  [06:59]
<stain> com.sun sounds like do-not-touch  [07:00]
<arrdem> stain: agreed. everything breaks when you try to use it on openjdk (gee
	 I wonder why...)
<stain> the interface method is javax.sound.midi.Synthesizer.getChannels()
									  [07:02]
<stain> so perhaps you have to.. uh.. cast it  [07:03]
<stain> not very clojure like!
<steffi_s> this is where it comes from: (def synth (MidiSystem/getSynthesizer))
									  [07:05]
<stain> odd, that's typed as Synthesizer in
	http://javasourcecode.org/html/open-source/jdk/jdk-6u23/javax/sound/midi/MidiSystem.java.html
									  [07:08]
*** banseljaj (~imami@173-13-139-237-sfba.hfc.comcastbusiness.net) is now known
    as imami|afk  [07:21]
<muhoo> i have a bunch of libraries i use in the repl, added to my profiles.clj
	:user profile. i'm now building a project that needs to be aot
	compiled. and lein is trying to aot compile all my :user dependencies
	. i can force them not to load by adding them to :aot-exclude-ns, but
	that's a LOT of ns'es  [07:22]
<muhoo> oh, btw, this is for android, and :aot :all-with-unused is necessary
									  [07:23]
<xeqi> I wonder if you could add them to the :repl profile instaed  [07:26]
<muhoo> i didn't know there was one! will try that, thanks  [07:29]
* muhoo has just built the lein-droid hello world  [07:30]
<muhoo> (inc lein-droid)
<lazybot> ⇒ 1
*** pepijndevos (~pepijndev@ec2-23-21-19-58.compute-1.amazonaws.com) is now
    known as pepijn_away  [07:33]
<stain> user=> (defn channels [^Synthesizer s] (.getChannels s))  [07:39]
<stain> #'user/channels
<stain> user=> (channels synth)
<stain> #<MidiChannel[] [Ljavax.sound.midi.MidiChannel;@129b073>
<stain> to bad steffi_s did not have the patience..
<stain> think this should be a Clojure bug though
<stain> user=> (bean synth)
<stain> IllegalAccessException Class clojure.core$bean$fn__5177$fn__5178 can not
	access a member of class com.sun.media.sound.AbstractMidiDevice with
	modifiers "public"  sun.reflect.Reflection.ensureMemberAccess
	(Reflection.java:65)
<stain> or is it a JDK error - it should be allowed when it is in the interface
									  [07:40]
<Sgeo> I don't think I ever liked how do in Haskell was buit-in syntax  [07:48]
<casion> everything about haskell's syntax is awful  [07:49]
<Sgeo> casion, I think it's nice until you feel like you need Template Haskell
       to extend it  [07:52]
* emezeske doesn't mind Haskell's syntax.
<xeqi> I like the point free stuff
<casion> I find nothing about it intuitive
<casion> in my experiecne, you can't reason about the syntax  [07:53]
<emezeske> casion: Do you find general mathematical notation intuitive?
<casion> emezeske: nope
<casion> and it's not  [07:54]
<emezeske> Do you think it's bad?
<technomancy> heh; the idea that software can be intuitive
<casion> depends on the feild
<emezeske> Can you define intuitive?  [07:55]
<Sgeo> The reason I'm playing with Lisps more than Haskell now is because of the
       ugliness of Template Haskell and the difficultness of modifying a program
       while it runs
<technomancy> emezeske: "intuition: immediate (not inferred) a priori knowledge
	      or experiential belief"  [07:56]
<casion> emezeske: I think a simple definition in this context, is being able to
	 determine something with limited or non-existant knowledge of the
	 context
<technomancy> the idea that it's a term which can apply to software (especially
	      notation) is silly; all notation is learned.
<emezeske> technomancy: haha
<casion> technomancy: some notation is more deriviative than others  [07:57]
<casion> such as most lisps
<technomancy> casion: sure, you can have notation that relies upon fewer a
	      priori experiences, that doesn't make it less reliant
<emezeske> How could a programming language, or even a spoken language for that
	   matter, be intuitive  [07:58]
<scottj> "fewer a priori experiences"?
<casion> technomancy: I think in this context, intuitive has to refer to limited
	 knowledge
<xeqi> f○g , which one gets applied first again?
<emezeske> Without having learned it first
<technomancy> casion: yes, it has to if you assume it's a term that it's
	      possible to apply to software. =)  [07:59]
<casion> emezeske: I think this discussion is worthless if we're going to say
	 that 'intuitive' means no prior knowldge  [08:00]
<casion> one has to assume at least limited knowledge
<emezeske> That's my point, though, "intuitive" just means that you have enough
	   prior knowledge
<casion> in the context of any notation at least
<casion> if there's a better word for that, I'd be fine using it
<emezeske> Things can't be intuitive without the right a priori knowledge
<casion> I agree
<technomancy> I guess usage dictates language, and that you have to bend the
	      word that way for the same reason you eventually have to give up
	      and accept that "anyways" is an English word, but you don't have
	      to like it.  [08:01]
<Sgeo> Hmm, so this article criticize condp, but for its form (not enough
       grouping (parens or brackets)), not for its functionality
<Sgeo> I must say I really think I like condp's functionality.
<technomancy> but it means that "intuitive" applied to software has a different
	      meaning from the original word.
<emezeske> I kind of thing the word intuitive lacks any meaning for talking
	   about e.g. Haskell's syntax  [08:02]
<emezeske> For a Haskell expert, it is intuitive
<casion> technomancy: yes, and if there's a better word for what I'm trying to
	 convey, I will gladly use that
<casion> but I could not think of a better word
<arrdem> casion: I suppose my software eng. prof would call it "bloody obvious"
	 not intuitive.
<technomancy> usually when people say software is intuitive, they mean it's
	      familiar or accessible  [08:03]
<emezeske> technomancy: Right.  And if we strive for that definition of
	   "intuitive", we'll just end up with tons of C-inspired syntax
	   everywhere
<casion> how I'm using it, I mean that you can see something unfamiliar in
	 syntax of application of syntax and be able to reason about it with
	 limited knowledge
<emezeske> casion: That's nonsense.  Before you knew any programming language,
	   you couldn't reason about it at all  [08:04]
<emezeske> casion: You had to learn the rules somewhere
<casion> if I know the basics of calling a function in haskell, when you
	 approach a guard, it's not at all obvious what it may be
<casion> but in lisp, you could fairly easly figure out what cond is  [08:05]
<casion> with similarly limited knowledge
<emezeske> ... you could?
<xeqi> but function application and macro application look the same, and act
       very different
<emezeske> cond could do literally anything, and you have only 4 letters (its
	   name) to know what
<emezeske> You obviously have to read the docs on cond  [08:06]
<casion> emezeske: and where are the docs on | ?
<casion> you'd have to know that you want to know what a guard is to begin with
<technomancy> it sounds like you're talking about consistency  [08:07]
<casion> obviousness is probably a better term
<technomancy> which is a lot easier to nail down than intuition; intuition is
	      pretty vague and difficult to discuss with precision.
<casion> consistency  is probably related
<emezeske> cond is not obvious, at all
<emezeske> Consistent, maybe
<casion> emezeske: you said it yourself.. at the very least you know what to
	 look up  [08:08]
<casion> a single pipe is not obvious, and for that matter you can't really even
	 serach for that, you'd have to browse
<casion> it's a very simple example for sure
<casion> just trying to convey my point clarly
<emezeske> So programming languages should have their syntax based on what
	   characters Google lets you search for?
<gfredericks> google searching for any non-alphanumeric character would surprise
	      me  [08:09]
<arrdem> emezeske: no, but the syntax should make obvious __what__ you are
	 googling for
<casion> emezeske: it has nothing to do with google. someone who's never
	 encountered | will, imo, have no idea what they should look for
<technomancy> duckduckgo does a pretty good job of letting you use characters
<xeqi> like #{} [] () ' ` ~ #= #'
<casion> or THAT they should be looking for something
<emezeske> casion: You just said you "can't really even search for that"
<casion> emezeske: why would you misquote me on IRC?  [08:10]
<emezeske> ...
<casion> before that, same line "member:casion: a single pipe is not obvious,
	 and for that matter"
* emezeske scrolls up and sees that he did not misquote casion.
<casion> mentioning the search was an addendum to the main point
* emezeske doesn't think that addendumness exempts things from being quoted.
									  [08:11]
* emezeske slowly backs away from this conversation...
<emezeske>
	   http://2.bp.blogspot.com/-UUBBVvfBUcM/T1t8Zi673mI/AAAAAAAAA0c/uEdZ-PA4IpI/s280/homer-simpson-bush-gif.gif
									  [08:12]
<arrdem> (inc emezeske)
<lazybot> ⇒ 2
*** abstractj (~abstractj@redhat/jboss/abstractj) is now known as abstractj|away
									  [08:13]
* jeremyheiler hands out icecream cones
<casion> yay ice cream
<arrdem> (> '.')># waffle  [08:14]
<xeqi> waffle cones, the best of both worlds
<arrdem> xeqi: I was gonna do that but ASCII failed me...  [08:15]
<arrdem> s/#/U+1F368/g  [08:17]
<casion> arrdem: is that haskell? ;)  [08:18]
<arrdem> casion: http://www.marathon-studios.com/unicode/U1F368/Ice_Cream
<casion> yeah, I looked it up
<casion> was trying to make fun of myself  [08:19]
<Sgeo> I think some Clojurers coming from Haskell might use macros where a
       variadic function might do  [08:24]
<Sgeo> Haskell ... was going to say that it doesn't have variadic functions, but
       that's not true.  [08:25]
<casion> I'm learning both at the same time
<casion> and clojure has been smooth going, and very pleasant
<casion> haskell is very cool, but I constantly get confused with it  [08:27]
<casion> really wish clojure had the warning/error system haskell does
<Sgeo> casion, I'm somewhat familiar with Haskell, you can ask me for help if
       you need (although #haskell is probably a good choice)  [08:28]
<casion> Sgeo: thank you
<dnolen> casion: don't think it'll ever baked in, but Typed Clojure seems to be
	 progressing ...
<Sgeo> You're welcom
<Sgeo> e
<casion> most of the time, as I was explaining above, it's a matter of not even
	 knowing what I need to ask
<casion> dnolen: yeah, but one can irrationally dream :)  [08:29]
<dnolen> casion: I don't think it needs to be baked in either.
<arrdem> dnolen: I presume this is an effort to add a GHC style type-prover to
	 Clojure?
<dnolen> arrdem: not GHC style, more like Typed Racket.
<casion> typed clojure looks neat  [08:32]
<casion> I was not aware of it till now
<Sgeo> Hmm  [08:35]
<Sgeo> Is Reducers a bit like using the Foldable stuff?  [08:36]
<djanatyn>  the 48 hour game jam I plan to use clojure in is starting in 23
	   minutes!
<djanatyn> I'm...still a little worried. :\ I'm not very experienced with the
	   Penumbra library  [08:37]
<dnolen> Sgeo: does Foldable force you to consider the direction of the fold?
<dnolen> djanatyn: good luck!
<djanatyn> I have lispbuilder-sdl as a backup plan, but I'm going to try my best
	   to finish a game using clojure
<Sgeo> dnolen, hmm, yes. Although in defining a Foldable structure you only need
       to provide foldr or foldMap
<dnolen> Sgeo: yes so direction is problematic. if you want to know what
	 Reducers is all about best to check out Guy Steele's talk: Cons
	 Considered Slightly Harmful.  [08:38]
<djanatyn> huh. does clojure have foldr and foldl? I only used reduce
<dnolen> djanatyn: it does not
<djanatyn> oh.
<dnolen> djanatyn: in Clojure Reducers fold doesn't specify direction -
	 specifically to take advantage of parallelism via Fork/Join for some
	 data structures.  [08:39]
<dnolen> Reducers are also about eliminating allocations  [08:40]
<arrdem> tangential: can you guys reccomend a Java completion plugin for Java
	 under Vim or should I drink the kool-aid and learn Emacs  [08:43]
<emezeske> arrdem: I take it you want something more sophisticated than ctags?
									  [08:45]
<arrdem> no idea, I'm just shopping around in the hope of not going back to
	 Eclipse for my coursework.  [08:46]
<emezeske> arrdem: Well ctags lets you do simple completion, but nothing like
	   what Eclipse does  [08:48]
<emezeske> arrdem: There's also eclim (I think that's the name) that lets you
	   use a headless eclipse as an autocompletion backend
<arrdem> yeah I may just end up with that  [08:49]
<Sgeo> Is core.logic purer than Prolog?  [08:51]
<dnolen> Sgeo: not really, esp. compared to modern Prolog implementations.
									  [08:52]
<Sgeo> o.O
<arrdem> what does 'purity' mean in this context?  [08:53]
<dnolen> Sgeo: modern Prolog have many niceties, disequality, tabling,
	 CLP(FD/Q/R) etc some like CiaoProlog are really trying fix the deeper
	 issues w/o sacrificing what makes Prolog great.
<dnolen> arrdem: the need for non-relational operators.  [08:54]
<dnolen> arrdem: by that I just mean things that prevent programs from running
	 in any direction you like.  [08:57]
<majyk> I just installed lein 2preview9 and it appeared to bootstrap itself but
	when I run lein it complains about missing dependencies : Check
	:dependencies and :repositories for typos.  [08:58]
<majyk> I'm new to lein so it's quite possible something else is wrong
<majyk> I followed the directions on the github page
<jeremyheiler> majyk: can you gist/refheap your project.clj?  [09:00]
<majyk> I don't have a project.clj (yet). I just installed lein, it
	bootstrapped, it's in my path, I can execute it. Even if I run lein
	version I get Check :dependencies and :repositories for typos.
									  [09:01]
<jeremyheiler> hmm do you have a ~/.lein/profiles.clj file?
<majyk> and info about free floating Jars
<majyk> jeremyheiler, nope. The only thing in ~/.lein is the self-installs
	folder  [09:02]
<xeqi> technomancy: ^
<majyk> this is a completely fresh install. I'm a complete lein noob
*** jcrossley3 (~user@redhat/jboss/jc3) is now known as jcrossley3-away  [09:03]
<xeqi> its entirely possible its borked,  preview9 was release ~30m ago
<majyk> yeah, I noticed on the mailing list so I was like, let me grab that!
									  [09:04]
<majyk> thanks guys for the help
<majyk> is the 2.0 branch the preferred branch to be using at this point?
									  [09:05]
<arrdem> yes...  [09:06]
<majyk> ok, thanks
<arrdem> but there's still a lot of 1.0 around
<djanatyn> okay, the competition has started! :D
<dnolen> technomancy: so lein2 repl outside of a project doesn't work anymore?
<jeremyheiler> djanatyn : good luck!  [09:07]
<djanatyn> setting up a git repository, pushing to github, grabbing dependencies
	   and writing a project.clj with leiningen, and then I'll take a walk
	   to think about the theme
<djanatyn> theme is "evolution". anybody else who wants to participate can too
	   :) http://ludumdare.com/compo
<majyk> I went back to 2preview8 and it now works fine for me  [09:12]
*** qmx|away (~qmx@redhat/jboss/qmx) is now known as qmx  [09:21]
<Raynes> djanatyn: lein gitify can do all that for you except for the walk.
									  [09:25]
<Raynes> Well, all the git stuff.
<djanatyn> oh. I noticed lein set up a nice .gitignore file for me
<djanatyn> https://github.com/djanatyn/ld48
<ibdknox> djanatyn: are you doing a Clojure game or a ClojureScript game?
									  [09:32]
<djanatyn> clojure
<djanatyn> also, man. I really really don't know OpenGL
<ibdknox> lol
<djanatyn> is there any resource that I could look at to get some hints? I'm
	   reading through the examples that come with penumbra  [09:33]
<djanatyn> I really should have prepared more. I have tons of time, thankfully
<dnolen> ibdknox: so it looks like people are already doing some fancy IDE stuff
	 w/ core.logic ;)  [09:34]
<ibdknox> dnolen: oh?
<dnolen> ibdknox:
	 http://github.com/cderoove/damp.ekeko/wiki/Example-Ekeko-Queries
<dnolen> ibdknox: I tried to ping you about this the other day, but I take it
	 you're pretty heads down during the week.
<ibdknox> dnolen: just had demo day, and we've got about 40 investor meetings,
	  so thing have been a hair bit hectic  [09:35]
<dnolen> ibdknox: :O
<ibdknox> dnolen: in good news I think we're going to get a couple of the big
	  guys to bite. :)
<dnolen> ibdknox: sweet!  [09:36]
<ibdknox> We'll soon be hiring like crazy
<ibdknox> dnolen: this looks like some awesome stuff
<djanatyn> aaaaaaaand my first issues are starting >_>
<dnolen> ibdknox: yes, they've been at it a long time. It actually a use case I
	 always dreamed about, these guys did it once in Smalltalk so they saw
	 core.logic and got this up and running pretty fast it seems.
									  [09:37]
<djanatyn> http://i.imgur.com/poqS7.png -- trying to get a black triangle
	   working. any tips?  [09:38]
<dnolen> ibdknox: the fact they're working this for Java perhaps bodes well for
	 getting it working on a simpler language like JS ;)
<djanatyn> this is after running "lein deps"
<djanatyn> errm, let me pastebin that
<ibdknox> dnolen: I was looking at the output of esprima the other day,
	  wondering if I could run that on top of rhino and then look through it
	  with core.logic  [09:39]
<dnolen> ibdknox: yes I've been bringing that up :)  [09:40]
<ibdknox> dnolen: lots of exciting opportunities here!
<djanatyn> http://dpaste.org/8YyOG/  [09:41]
<ibdknox> djanatyn: try using ztellman's version? (I know nothing about
	  penumbra)
<ibdknox> penumbra "0.6.0'  [09:42]
<ibdknox> "
<ibdknox> minus the single quote
<djanatyn> it says that 0.6.9 is the clojure 1.3 version, and all examples I've
	   seen of ztellman's version uses 1.2.0  [09:43]
<ibdknox> ah  [09:45]
<ibdknox> djanatyn: if you want to just do a 2d game, you could use quil  [09:46]
<djanatyn> :O
<djanatyn> sweet, thank you!  [09:47]
*** amalloy (~amalloy@li231-96.members.linode.com) is now known as amalloy_
									  [09:54]
<dnolen> ibdknox: oh, and it looks like even Facebook uses Prolog to analyze
	 their code -
	 http://github.com/facebook/pfff/blob/master/h_program-lang/database_code.pl
									  [09:59]
<djanatyn> thank you so much, ibdknox!  [10:01]
<ibdknox> dnolen: neat! Maybe I'll try playing around with some of this stuff
	  this weekend. I have to actually learn core.logic though :)
									  [10:14]
<ibdknox> djanatyn: np! Processing is a lot easier than opengl, so that should
	  make your game creating much more enjoyable
*** scalabl3 (~scalabl3@ec2-23-23-90-203.compute-1.amazonaws.com) is now known
    as scalabl3_go  [10:30]
*** scalabl3_go (~scalabl3@ec2-23-23-90-203.compute-1.amazonaws.com) is now
    known as scalabl3  [10:31]
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|away  [10:33]
<erick1> hola  [10:41]
<erick1> es en ingle
<erick1> s
<erick1> $$$$$$$$$$$$$$$$$$$$$
<erick1> $_$
<erick1> :-D  [10:42]
<erick1> :-((
<emezeske> djanatyn: Have you looked at the NeHe tutorials?  [11:06]
<emezeske> djanatyn: They're pretty old, but they have a lot of basic stuff
<djanatyn> emezeske: I decided to use quil (processing) instead  [11:07]
<emezeske> OpenGL is not very forgiving, probably a good choice for really rapid
	   dev  [11:08]
*** amalloy_ (~amalloy@li231-96.members.linode.com) is now known as amalloy
									  [11:11]
*** Xorlev__ (users.226@id-226.hampstead.irccloud.com) is now known as Xorlev_
*** abstractj|away (~abstractj@redhat/jboss/abstractj) is now known as abstractj
									  [11:14]
*** abstractj (~abstractj@redhat/jboss/abstractj) is now known as abstractj|away
									  [11:27]
<john2x> what is clojure's equivalent to other langauges' mydict['key'] = value?
									  [11:47]
*** cheezey_ (~ec2-user@ec2-50-18-153-70.us-west-1.compute.amazonaws.com) is now
    known as cheezey  [11:48]
<amalloy> &(doc assoc)  [11:49]
<lazybot> ⇒ "([map key val] [map key val & kvs]); assoc[iate]. When applied to a
	  map, returns a new map of the same (hashed/sorted) type, that contains
	  the mapping of key(s) to val(s). When applied to a vector, returns a
	  new vector that contains val at index. Note - index must be <= (count
	  vector)."
<amalloy> i wonder why assoc's docstring mentions vectors at all. it implies
	  that vectors and maps are all it will work on  [11:52]
<amalloy> &(-> (reify clojure.lang.Associative (assoc [this k v] [1 2 3 k v]))
	  (assoc 'ignored 'who-cares))  [11:53]
<lazybot> ⇒ [1 2 3 ignored who-cares]
<shaungilchrist> djantayn: wow thanks for mentioning quil - super impressive.
									  [12:23]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [12:31]
<Frozenlock> I'm disappointed...  I discovered Catnip, found it impressive and
	     so wanted to look at the cljs source. Turns out it's just
	     javascript.  [12:32]
<Sgeo> I should really write lift-m-fn  [12:55]
<Sgeo> lift-m doesn't need to be a macro afaict  [12:56]
<Sgeo> Oh, m-lift
<Sgeo> Are monads made with one or the other of the monad libraries made to
       automatically work with map?  [13:21]
<Sgeo> Because that would be nice  [13:22]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [13:24]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [13:26]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [13:32]
<Sgeo> Also, applicative should be made into its own thing somehow.  [13:35]
<Sgeo> And perhaps a more general framework for making these kinds of things.
*** close-paren` (~close-par@c-76-104-189-93.hsd1.wa.comcast.net) is now known
    as close-paren  [14:23]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [14:55]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [15:08]
<tomoj> any ideas on cljs webworkers?  [15:24]
<tomoj> I guess  [15:25]
<tomoj> .. I guess you could have cljsbuild spit out a file that does nothing,
	then add calls to different entry points at the bottom in different
	files  [15:26]
<Sgeo> How bloated is Eclipse usually?  [15:36]
<amalloy> i don't think that question is well-defined enough to answer. if you
	  want, you can pretend
	  http://icanhascheezburger.files.wordpress.com/2009/12/funny-pictures-cat-is-too-big-for-box.jpg
	  is eclipse fitting into available memory  [16:00]
<Sgeo> Oh hey olabini visits here  [16:19]
*** imami|afk (~imami@173-13-139-237-sfba.hfc.comcastbusiness.net) is now known
    as banseljaj  [16:34]
<gerry1> i have fixed why "lein repl" can't assign address" in my box  [16:55]
<gerry1> i have to setup 127.0.0.1 to localhost  [16:56]
<gerry1> in /etc/hosts  [16:57]
<gerry1> weird?  [16:58]
<clojurebot> Something weird that I noticed: & (use '[clojure.contrib.json :as
	     json]) & &| (json/pprint-json nil) |&
<lazybot> java.lang.RuntimeException: No such namespace: json
<ro_st> anyone interested in ClojureScript with Enfocus for views, PubSub to
	wire views and logic together, and Remotes for server access? And
	crossover model code that gets used on both client and server side?
									  [17:40]
<hyPiRion> Is sort and sort-by stable?  [17:46]
<ro_st> demo code is now working, finally:
	https://github.com/robert-stuttaford/demo-enfocus-pubsub-remote/
									  [17:47]
<ejackson> ro_st interesting !  [17:52]
<ro_st> :-) it works really well  [17:53]
<ro_st> in our production app, i've since moved our model code out to a separate
	project using 'checkouts', along with its midje tests. Crossovers still
	work perfectly
<ro_st> i love that i can use precisely the same html templates on the server
	side with enlive, as well  [17:54]
<ro_st> pretty soon i'm going to build a ring + cljs pjax wrapper (the way the
	new basecamp works)  [17:55]
<ejackson> enlive is magical code  [18:00]
<ejackson> i'm using it a lot these days for .xml file parsing
<ro_st> is it tolerant of funny unicode characters?  [18:01]
<ro_st> i have html that i need to validate for ms-word-pasted funny characters
									  [18:03]
<ejackson> no idea !  [18:04]
*** amalloy (~amalloy@li231-96.members.linode.com) is now known as amalloy_
<raek_> ro_st: if you give it a Reader that you configed with the correct
	encoding, then yes  [18:12]
<raek_> enlive can create the Reader itself, but then it guesses the encoding
									  [18:13]
<raek_> so if you pass it (io/reader filename :encoding "UTF-8") rather than
	just filename you should be safe  [18:14]
<ro_st> awesome, raek, thank you!
<ejackson> enlive for president  [18:16]
<ro_st> heh  [18:18]
<ro_st> i'm just so glad enfocus exists. it's made cljs painless
<ejackson> how do you feed it the templates ?  [18:21]
<ejackson> just with links ?  [18:22]
<ro_st> it knows how to download them with xhr  [18:23]
<ro_st> so just give it a path from /
<ejackson> ok, brilliant
<ro_st> same as with enlive
<ro_st>
	https://github.com/robert-stuttaford/demo-enfocus-pubsub-remote/blob/master/src-cljs/depr/view.cljs
<ro_st>
	https://github.com/robert-stuttaford/demo-enfocus-pubsub-remote/blob/master/resources/public/templates/templates.html
<ejackson> hah...  [18:24]
<ro_st> defaction is a fn that runs on the live dom
<ro_st> whereas defsnippet (as with enlive) returns populated html nodes for
	putting into the dom
<ro_st> initially i tried to write one set of code for both enlive and enfocus
									  [18:25]
<ejackson> a reach too far ?
*** banseljaj (~imami@173-13-139-237-sfba.hfc.comcastbusiness.net) is now known
    as imami|afk
<ro_st> but due to having to use (apply ef/en-content (map item-template items))
	instead of being able to use (apply em/content …), due to content being
	a macro in enfocus, i couldn't
<nz-> how do you integrate normal js libs with cljs?  [18:26]
<ro_st> with externs
<ro_st>
	http://lukevanderhart.com/2011/09/30/using-javascript-and-clojurescript.html
	Externs heading  [18:27]
<ro_st> we're doing our best to avoid using non-cljs js though. keeps the
	startup performance good; right now, our app is 230kb over the wire
	including js, css, webfonts and css sprites  [18:28]
<ejackson> ro_st: that's small
<ro_st> that's with all the caching and gzip stuff turned up to 11
<ejackson> i was just pulling in stuff like jquery and not giving a damn... but
	   the app was huge
*** raek_ (~raek@h-17-164.a328.priv.bahnhof.se) is now known as raek
<ro_st> and that's across 11 requests, i think
<ro_st> it's damn fast  [18:29]
<ro_st> easy to do if you decide to make it a priority before you start :-)
<ro_st> 10 requests
<ejackson> yeah, I was just trying to make something work
<ejackson> and jquery is damned useful !
<ro_st> it is. enfocus does the job just as nicely, although no huge plugin
	library  [18:30]
<ejackson> its all about that - having things like widgets galore is very
	   helpful.  I'm using kendoUI for example
<ro_st> i'll probably end up bringing bootstrap.js in
<ro_st> those components are just too damn handy  [18:31]
<ro_st> we want to be performant on mobile as well  [18:32]
<ro_st> so having small download sizes and tight JS is important
<tomoj> so no jqm or jqtouch though?
<ejackson> yeah, mine's an internal app, so that's not a problem
<naeg> piranha: hey, I managed to transliterate the conways game of life from
       clojure to python  [18:33]
<ro_st> no. same codebase for everyone
<piranha> naeg: did it become much bigger? :)
<naeg> piranha: http://bpaste.net/show/2RM4RfewQbrCJr1Hnf6p/
<ro_st> feature detects and media queries to control mouse vs touch and the
	display size
<naeg> piranha: it's almost 1:1, but unidiomatic, functional python
<naeg> the clojure one: http://bpaste.net/show/s5aUgEV54mHZ9CGx5ALo/
<naeg> piranha: btw, could you take a look at create-world in the clojure one?
       I'm unsure whether that's good like that. Tried to combine empty-board
       and populate into one function  [18:34]
<ro_st> and i'm off
* Sgeo abruptly becomes full of himself, saying things like  [18:39]
<Sgeo> :
<Sgeo> The entire Clojure monad community is wrong. I am going to fix their
       wrongness.
<hyPiRion> Sgeo: What did you expect, we are a bunch of conservative
	   programmers.  [18:41]
<ejackson> who you calling a programmed conservative ?  [18:44]
<ejackson> :p  [18:45]
<Sgeo> At a first attempt (I don't have a repl open):  [18:47]
<Sgeo> (defn m-lift-fn [fun & args] (apply fun (m-seq args)))  [18:49]
<Sgeo> Hmm, maybe that needs to be defmonadfn and not defn  [18:50]
* Sgeo needs to get a good Clojure environment going somehow
<hyPiRion> ejackson: ;)  [18:54]
<Sgeo> Wait, that doesn't quite do it  [18:55]
* Sgeo needs to think a bit more
<Sgeo> I think I could just wrap it in m-result  [18:58]
<Sgeo> (defmonadfn m-lift-fn [fun & args] (m-result (apply fun (m-seq args))))
									  [18:59]
<Sgeo> ...I suspect that that's horribly broken, actually
<Sgeo> Even though the little typechecker in my brain thinks it's good.
<Sgeo> I need to think a bit more.  [19:05]
<ejackson> Sgeo: aaah yes, the often heard call of the monad-bird.  [19:06]
<Sgeo> For what it's worth, I'm pretty sure implementing tardis-t will require a
       new macro and changes to the current ones  [19:07]
<Sgeo> Since it only works with MonadFix monads
<Sgeo> But right now I'm thinking about the little problem
<Sgeo> I think I know how to do it  [19:20]
<Sgeo> But it's probably inefficient
<Sgeo> (At least the way I have in mind)
<erwagasore> Hi, I am using ring for a web app and I am getting this exception
	     in repl "IllegalStateException not-found already refers to:
	     #'ring.util.response/not-found in namespace: onwings.core
	     clojure.lang.Namespace.warnOrFailOnReplace (Namespace.java:88)"
									  [19:38]
<erwagasore> Need help  [19:39]
<piranha> naeg: eh, sorry, a bit busy right now :(
<piranha> but I'm interested anyway, will read code a bit later :)  [19:40]
<gerryxiao> cemerick: does lein hard-coded "localhost" in?
<cemerick> gerryxiao: for?
<gerryxiao> i do "lein repl",i got "couldn't bind to address" error  [19:41]
<gerryxiao> but after change /etc/hosts, set localhost to 127.0.0.1,it works
									  [19:42]
<cemerick> oh, interesting
<cemerick> someone else had that error yesterday
<cemerick> gerryxiao: yes, localhost is the default  [19:44]
<cemerick> You can set 127.0.0.1 here:
	   https://github.com/technomancy/leiningen/blob/master/sample.project.clj#L129
<cemerick> Honestly, I don't actually know the difference between 127.0.0.1 and
	   localhost.  Something to do with network interfaces and such.
									  [19:46]
* cemerick goes off to wikipedia :-P
<gerryxiao> i have changed localhost to othername in my archlinux  [19:47]
<cemerick> gerryxiao: what was it resolving to previously?  [19:49]
<gerryxiao> localhost can't be resolved
<gerryxiao> localhost not equal 127.0.0.1  [19:50]
<cemerick> really?  `host localhost` yielded nothing prior to your changing
	   /etc/hosts?  [19:51]
<Bronsa> hmmm.  [19:52]
<Bronsa> what's the point of hasheq?
<gerryxiao> host? i have no host command  [19:53]
<cemerick> hrm, ok.  [19:54]
<gerryxiao> ping localhost not work previously
<cemerick> OK; isn't that generally a problem?
<gerryxiao> no problem but "lein repl"  [19:55]
<gerryxiao> :)
<gerryxiao> hostname is better than localhost  [19:56]
<gerryxiao> i think
<gerryxiao> in project.clj :host 0.0.0.0 option do what job?  [19:58]
<cemerick> gerryxiao:  that's just an example  [19:59]
*** qmx|away (~qmx@redhat/jboss/qmx) is now known as qmx  [20:00]
<cemerick> You can set it to anything, so "127.0.0.1" should fix things for you
	   without your having to change /etc/hosts
<gerryxiao> ok,thx
<Sgeo> Does Clooj handle Leinengen stuff?
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|away  [20:04]
<Sgeo> Oh, I think my original code would work  [20:15]
<Sgeo> No it wouldn't, type error
<Sgeo> (defmonadfn m-lift-fn [f & args] (m-bind (m-seq args) (partial apply f)))
									  [20:19]
<Sgeo> Wait, no
<Sgeo> (defmonadfn m-lift-fn [f & args] (m-bind (m-seq args) #(m-return (apply f
       %))))  [20:20]
<Sgeo> oops  [20:21]
<Sgeo> (defmonadfn m-lift-fn [f & args] (m-bind (m-seq args) #(m-result (apply f
       %))))
<Sgeo> Can't imagine why I'd possibly call it 'return'
<Sgeo> Someone please ping me if jim comes in here?  [20:34]
<mikem> hi, when I run `lein outdated` I get the error "Fallback to *.zip also
	failed [...] no segments* file found in
	org.apache.lucene.store.NIOFSDirectory" -- I just added lein-outdated to
	my ~/.lein/profile.clj. What's going on? Do I need to set anything else
	up?  [20:37]
<tomoj> mikem: `lein version`?  [20:43]
<tomoj> hmm  [20:45]
* Sgeo vaguely wonders if he can edit code from github
<Sgeo> Oh hey I can
<mikem> tomoj: 2.0.0-preview9, Java 1.6  [20:46]
<tomoj> mikem: it looks like a problem with the maven lucene indices..
<tomoj> maybe try deleting ~/.lein/indices ?  [20:47]
<tomoj> or maybe a repo you use is causing trouble
<Sgeo>
       https://github.com/Sgeo/algo.monads/commit/65169fed45c10d604b5ab616c400e98c7d35ed16
									  [20:52]
<mikem> tomoj: I removed the indices and am re-running lein outdated in a
	project... it's taking a while. will keep you updated :-)  [20:58]
<Sgeo> Do people get notified when someone forks their project on github?
									  [21:04]
<RonnieDk> I'm trying to setup a clojure development environment on Windows for
	   the first time. I managed to get lein self-install downloading
	   leiningen-2.0.0-preview9-standalone.jar but now when I run, say, lein
	   version I get an error: Could not resolve dependencies. I see a few
	   bug reports with a similar wording. Is there an obvious workaround?
									  [21:20]
<RonnieDk> maybe not use leiningen-2.0.0?
*** pepijn_away (~pepijndev@ec2-23-21-19-58.compute-1.amazonaws.com) is now
    known as pepijndevos
<majyk> I also couldn't get preview9 to work, same error. I went back to
	preview8
<tomoj> same error here I think too  [21:21]
<tomoj> for me, the fix was to go into a directory with a lein2-compatible
	project.clj and run it once
<tomoj> then after that it works
<xeqi_> using
	https://raw.github.com/technomancy/leiningen/2.0.0-preview8/bin/lein
	will get you preview8  [21:22]
<mikem> tomoj: ok, looks like there's a dependency in my project which messes
	lein outdated up. it works fine in the leiningen repo
<xeqi_> I have a feeling preview10 will be out soon
<mikem> too bad the error message doesn't say which
<Sgeo> I want the person I forked from to see my code but don't want to say "my
       code's actually usable"
<majyk> tomoj, I just tried what you said and it does indeed work. Thanks!
*** xeqi_ (~xeqi@99-187-132-222.lightspeed.hstntx.sbcglobal.net) is now known as
    xeqi
<Sgeo> Because I didn't test it _at all_
<xeqi> Sgeo: I get messages when my projects are forked, but if I want to keep
       track of work on a fork I have to go watch it  [21:23]
<Sgeo> xeqi, ah, ok  [21:24]
<Sgeo> All I did was add one function, that I believe should replace a macro.
<RonnieDk> preview8 works for me. Thanks
<RonnieDk> or may not entirely. Some artifacts could not be found  [21:25]
<Sgeo> But honestly, the entire library should be rethought.  [21:27]
<Sgeo> It's too monad specific.
<Sgeo> There are useful non-monad functors and applicatives.
<Sgeo> Oh hey, jduey already did what I was complaining about not being the case
       for the past day.  [21:32]
*** pepijndevos (~pepijndev@ec2-23-21-19-58.compute-1.amazonaws.com) is now
    known as pepijn_away
<dhm> Sgeo: (re: don't want to say "my code's actually usable") make a
      feature/unstable/test branch  [21:39]
<Sgeo> Is there a way to effectively say "If something implements this protocol,
       it implements this other protocol via this code"?  [21:43]
<xeqi> Sgeo: I dont know of anything  [21:45]
<wjc> hi
<Sgeo> Darn
<wjc> I've got a clojurescript question, is this the right place?
<Sgeo> Maybe I should describe the use case (fixing jduey's library)
<antares_> wjc: yes, CLJS is discussed here
<xeqi> wjc: yes  [21:46]
<wjc> nice
<wjc> right
<wjc> so I'm using cljsbuild
<Sgeo> All Monads are Applicatives, and all Applicatives are Functors. But not
       all Functors are Applicatives and not all Applicatives are Monads.
<wjc> and i've declared 2 js files as externs
<wjc> 3 files
<wjc> jquery, jqtouch, and jqtouch-jquery  [21:47]
<Sgeo> If something is a Monad, then an implementation for the Applicative and
       Functor abilities can be automatically derived.
<wjc> everyting works well on a simple build
<wjc> but if I switch optimizations to advanced
<wjc> I get an infinite loop
<Sgeo> However, at the same time, it should be possible to implement non-monad
       applicatives and functors.
<wjc> which spews js code
<wjc> on stdout  [21:48]
<wjc> what could I have missed?
<Sgeo> Ideally, monads should be definable by implementing only the Monad
       protocol, and the Applicative and Functor defintions filled in.
<xeqi> Sgeo: you could rite a defmonad type macro do implement the correct
       protocols with default implementation, or perhaps use multimethods and
       derive to create a heirarchy  [21:51]
<xeqi> but theres no builtin peice for protocols to do implementation sharing or
       heirarchy  [21:52]
<nz-> I am getting this exception when running lein cljsbuild once:
      java.lang.RuntimeException: No such var: clojure.core/require-macros
									  [21:58]
<nz-> the offending code is basically this: (ns ruuvi-ui.app (:require
      [enfocus.core :as ef]) (:require-macros [enfocus.macros :as em]))  [22:04]
*** abstractj|away (~abstractj@redhat/jboss/abstractj) is now known as abstractj
									  [22:05]
<nz-> the require-macros thing is a part of the cljs but it is not found when
      compiling  [22:06]
<wjc> should I be using :foreign-libs instead of :externs?  [22:07]
<xeqi> nz-: is your file named .clj ?  [22:26]
<xeqi> instead of .cljs
*** abstractj (~abstractj@redhat/jboss/abstractj) is now known as abstractj|away
									  [22:27]
<john2x> how do I turn [:a :b :c] [1 2 3] into {:a 1 :b 2 :c 3}?  [22:30]
<jeremyheiler> zipmap
<jeremyheiler> &(zipmap [:a :b :c] [1 2 3])  [22:31]
<lazybot> ⇒ {:c 3, :b 2, :a 1}
<jeremyheiler> john2x^  [22:32]
*** xeqi_ (~xeqi@99-187-132-222.lightspeed.hstntx.sbcglobal.net) is now known as
    xeqi
*** abstractj|away (~abstractj@redhat/jboss/abstractj) is now known as abstractj
									  [22:33]
*** abstractj (~abstractj@redhat/jboss/abstractj) is now known as abstractj|away
									  [22:34]
<john2x> thanks!  [22:35]
<lozenged> hi, am trying to use aset in conjuection with map, and it seems like
	   the call to aset is being skipped  [22:37]
<lozenged> (let [ar (double-array 1 0)]
<lozenged>   (map (fn [x] (aset ar 1 x)) (list 5.5))
<lozenged>   (vec ar))
<hyPiRion> lozenged: map is lazy, enforce with doall
<nz-> xeqi: ah, that was it
<hyPiRion> or doseq, even better
<lozenged> aha, cool thanks  [22:38]
<nz-> (inc xeqi)  [22:45]
<lazybot> ⇒ 1
*** _zach|away (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now
    known as _zach  [22:47]
<dpritchett> Morning #clojure  [22:50]
<jeremyheiler> mornin'
<dpritchett> I'd like to be able to refer to clojure.repl/doc from within any
	     namespace at the repl.  Is that a pipe dream?  [23:01]
<dpritchett> I guess I could put some sort of self-referential workon macro in
	     ~/.lein/user.clj  [23:16]
*** augustl (~augustl@236.79-160-15.customer.lyse.net) is now known as
    Guest65640  [23:20]
<jeremyheiler> dpritchett, i thought clojure.repl/doc was there by default?
									  [23:23]
*** danielglauser_ (~daniel@c-76-25-238-116.hsd1.co.comcast.net) is now known as
    danielglauser  [23:25]
<dpritchett> jeremyheiler: it seems to go away when i switch to a new namespace
									  [23:26]
<dpritchett> that is, it's only availabe in the user namespace  [23:27]
<dpritchett> but if i try (ns something-else.core) then i have to refer to doc
	     as clojure.repl/doc
<ejackson> jeremyheiler: used to be, but not for a while.
<jeremyheiler> it seems to be there for me in my lein2 repl
<jeremyheiler> (implying I already changed the ns)  [23:28]
<dpritchett> I got this far: https://gist.github.com/3467119
<jeremyheiler> what repl are you using?  [23:29]
<dpritchett> That lets me have access to .repl/doc from any namespace without
	     having to explicitly reference in the source files
<dpritchett> lein repl
<jeremyheiler> lein2 ?
<dpritchett> 1.7 i think
<dpritchett> I didn't pull from source I just do the occasional self-install
<dpritchett> 1.7.1
<jeremyheiler> ah, ok. well, lein2's repl works like you want
<dpritchett> sweet!  when does it go live?  [23:30]
<jeremyheiler> i've been using it for months. it's fairly stable (although the
	       latest preview9 release seems to be causing some issues) if you
	       want, go grab preview8.  [23:31]
<dpritchett> I'll have to give it a second look, thanks  [23:33]
*** danielglauser_ (~daniel@c-76-25-238-116.hsd1.co.comcast.net) is now known as
    danielglauser  [23:45]
*** danielglauser_ (~daniel@c-76-25-238-116.hsd1.co.comcast.net) is now known as
    danielglauser  [23:55]

[Sun Aug 26 2012]
*** pepijn_away (~pepijndev@ec2-23-21-19-58.compute-1.amazonaws.com) is now known as pepijndevos
											      [00:10]
<dancarper> hey all. messin around w/ clojure for the first time, trying to implement a sum of
	    squares function and I can't seem to get it to click, anyone wanna help a newb out? ;)
	    https://gist.github.com/3467601  [00:30]
<jeremyheiler> dancarper: tip, use (defn foo [args] ...) instead of (def foo (fn [args] ...))
											      [00:32]
<mybuddymichael> dancarper: (square [1 2 3 4]) won't work with how you've defined it.  [00:33]
<mybuddymichael> dancarper: You've defined it as a binary function and you're passing it one
		 argument (a vector).
<dancarper> jeremyheiler: thanks will do ;)
<hyPiRion> dancarper: I suppose you error when you do (+ (map square args))  [00:34]
<dancarper> mybuddymichael: `map square seq` seems to work in that second print statement, and i
	    thought if using & args, would make args a seq in the function itself
<hyPiRion> I think you forgot an apply before the plus
<dancarper> hyPiRion: i also didn't understand that
<jeremyheiler> also (+ (map square args)) doesn't work because map returns a sequence. in this case
	       you would want (apply + (map square args))
<hyPiRion> ,(let [square (fn [x] (* x x)) sum-squares (fn [& a] (apply + (map square a)))]
	   (sum-squares 1 2 3 4))  [00:35]
<clojurebot> 30
<dancarper> my initial thought was that (apply + (1 2 3 4)) would return (1 2 3 4), as (+ 1) returns
	    1  [00:36]
<jeremyheiler> no, (apply + [1 2 3 4]) is like saying (+ 1 2 3 4)
<hyPiRion> jeremyheiler is right.
<dancarper> ahh okay cool, sorry longtime OO'er practically no experience with functional though
											      [00:37]
<jeremyheiler> not a problem, glad to help :-)
<hyPiRion> dancarper: no problemo, I think we've all been there ;)
*** qmx|away (~qmx@redhat/jboss/qmx) is now known as qmx  [01:03]
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|away  [01:04]
<azkesz> hi, what's the shortest clojure code that would run forever? I already have one but I'm
	 curious of more=) might be interesting for 4clojure golfing, or is it just me that thinks
	 so  [01:06]
<casion> how long is what you have now?  [01:07]
<azkesz> 7 chars
<azkesz> stumbled on it by mistake, and it was fun=)  [01:08]
<pepijndevos> azkesz, I can't think of anything shorter just yet
<xeqi> azkesz: from a repl?  [01:09]
<azkesz> yes, I don't actually know any other way to run, yet
<xeqi> is is (range) ?  [01:10]
<xeqi> *is it
<azkesz> no but that works too ?
<hyPiRion> ,(recur)
<azkesz> awesome  [01:11]
<casion> range is lazy, I got the feeling that his question excluded lazy seqs
<clojurebot> Execution Timed Out
<xeqi> thats why I was wonder
<azkesz> yeah what hyPiRion said, I had
<hyPiRion> A less expensive one would be ##@(promise)
<azkesz> xeqi that's why you asked if from repl, cause it evaluates even if they return lazy
<lazybot> Execution Timed Out!  [01:12]
<azkesz> I was hoping there's one with some weird chars like %
<azkesz> ,(#(= %%) 1)  [01:13]
<clojurebot> true
<azkesz> ,(#(=%%) 1)
<clojurebot> true
*** Frozenlo` (~user@cable-15.246.173-182.electronicbox.net) is now known as Frozenlock  [01:14]
<pepijndevos> ,(#(% %) #(% %))
<azkesz> hyPiRion, that's clever with the dereferencing promise:)
<clojurebot> #<RuntimeException java.lang.RuntimeException: java.lang.StackOverflowError>
<hyPiRion> azkesz: And completely useless :)  [01:15]
<azkesz> I didn't know you could call recur without loop, that's how I found out
<azkesz> yeah but kinda fun=)
<pepijndevos> How do I call a clojurescript function from js?
<madsy> pepijndevos: You're not meant to  [01:16]
<xeqi> the.namespace.function(..)
<xeqi> though you have to ^:export w/ advanced compilation
<madsy> Unless something changed since I started
*** danielglauser_ (~daniel@c-76-25-238-116.hsd1.co.comcast.net) is now known as danielglauser
<pepijndevos> xeqi, thanks :)  [01:17]
*** abstractj|away (~abstractj@redhat/jboss/abstractj) is now known as abstractj
*** abstractj (~abstractj@redhat/jboss/abstractj) is now known as abstractj|away  [01:18]
<azkesz> hyPiRion, i read that chapter about concurrency from the manning book and found it very
	 exciting and by now i forgot most of it because I didn't try writing code, I was wondering
	 if it would be awesome/acceptable to have examples in each clojure doc ie. (doc recur)
<azkesz> by examples I mean like some small but functional program that illustrates the(all
	 possible) uses of the documented function  [01:19]
<hyPiRion> azkesz: well, in the nrepl, you have cdoc
<hyPiRion> so whenever you run `lein repl` you can do that  [01:20]
<xeqi> which pulls from clojuredocs.org
<hyPiRion> It's not exhaustive though, but it's good.
<hyPiRion> oh
<hyPiRion> ,(read)
<clojurebot> #<ReaderException clojure.lang.LispReader$ReaderException: java.lang.RuntimeException:
	     EOF while reading>
<hyPiRion> Worth a try, I suppose.
<azkesz> =)
<azkesz> so it pulls from that site, and i need lein.bat ? for windows  [01:21]
<xeqi> how are you running things currently?
<azkesz> i have ccw+eclipse
<casion> could someone explain the benefits of nrepl to me?  [01:23]
<casion> the 'why nrepl?' on github doesnt exactly make sense to me
<xeqi> hmm, cdoc comes from reply.. not sure what ccw is using under the hood  [01:24]
<xeqi> well, cdoc really comes from cd-client, which reply uses  [01:25]
<azkesz> xeqi, i don't have either cdoc or reply in ccw's repl, I'll try get that lein.bat and see
	 or maybe i should get that lein .jar which is v 2.0
<dnolen> xeqi: pepijndevos: that's not true, your have ^:export
<xeqi> sorry, reply is the repl frontend lein uses
<dnolen> you have
<dnolen> xeqi: pepijndevos: re calling CLJS from JS
<pepijndevos> dnolen, thanks :)  [01:26]
<pepijndevos> Is it recommended to use the closure library? And what are some good examples?  [01:27]
<azkesz> xeqi, i see that leiningen-2.0.0-preview9-standalone.jar has "reply" inside the .jar :)
<dnolen> pepijndevos: Closure is of uneven quality. Low-level stuff seems good, not sure about
	 widgets or higher level abstractions.
<dnolen> pepijndevos: transports, math, date, string, and various things to abstract away browser
	 differences is very solid.  [01:28]
<dnolen> pepijndevos: but I wouldn't touch their canvas wrapper - it's the pits.  [01:29]
<pepijndevos> dnolen, I want to write a contenteditable editor, so should I avoid their  widgets?
	      There are some browser inconsistencies there too
<pepijndevos> ther eis this thing  [01:30]
<pepijndevos>
	      http://closure-library.googlecode.com/svn/docs/class_goog_editor_ContentEditableField.html
<dnolen> pepijndevos: I haven't tried their editor so can't say - might be good?
<xeqi> casion: the benefits compared to the previous repls?
<pepijndevos> ok, i'll try  [01:31]
<dnolen> pepijndevos: try it, doesn't usually take long to figure out if it's worth it or not.
<casion> xeqi: yes, assuming I'm asking a reasonable question
<jml> is there a way to tell if I'm requiring any names that I'm not using?  [01:32]
<xeqi> casion: it splits the repl server from the repl frontend, so that lein, emacs, vim, ccw can
       all talk to the same backend  [01:33]
<dnolen> jml: not really, but perhaps things are moving along (scape, core.logic) such that those
	 tools are not that far off.
<xeqi> instead of each trying to write there own repl
<jml> dnolen: cool, thanks.
<casion> xeqi: ok, that makes more sense  [01:34]
<xeqi> aslo, it allows injecting new functionality;  for example piggieback is a middleware to turn
       it into a cljs repl
<azkesz> awesome, (cdoc recur) is showing examples, thanks hyPiRion and xeqi  [01:35]
<xeqi> drawbridge allows you to connect over http(s), for places like heroku  [01:36]
<azkesz> it is much better just going at the site, easier copy/paste (in pindows)  [01:37]
<casion> hmm, seems not worth my time to mess with nrepl then (yet?)  [01:41]
<Frozenlock> I'm trying to use noir-cljs. But server can't even start, it chokes on
	     `(cljscript-test.cljs.core/start mode cljs-options) ' on my server.clj.  Do I need to
	     require something new in the server.clj when using noir-cljs?  [01:42]
<Frozenlock> Oh wait-  [01:44]
<Frozenlock> nvm
<azkesz> ,(cdoc recur)  [01:46]
<clojurebot> #<CompilerException java.lang.RuntimeException: Unable to resolve symbol: cdoc in this
	     context, compiling:(NO_SOURCE_PATH:0)>
<azkesz> ,(use 'cd-client.core)
<clojurebot> #<RuntimeException java.lang.RuntimeException: java.io.FileNotFoundException: Could not
	     locate cd_client/core__init.class or cd_client/core.clj on classpath: >
<pepijndevos> dnolen, So far no good. That is, I can't figure out how to tell leiningen or cljsbuild
	      or clojurescript or closure compiler to require goog.editor correctly.  [01:48]
<azkesz> so loop rebinds like let (serially?) but recur rebinds in parallel ? right?
<dnolen> pepijndevos: ask on the ML other people have done this.
<dnolen> pepijndevos: or check StackOverflow too.
<dnolen> pepijndevos: not necessarily the editor but other UI widgets.
<azkesz> well actually makes sense, nvm=)  [01:49]
<pepijndevos> clojurescript already includes cosure right? Or do i still need it as a dependency? A
	      lot of the stuff I am reading downloads clojurescript and everything manually
											      [01:51]
<shanmu> Hello, I am tring out nrepl.el in emacs, how do I quit the repl? , does not seem to work
	 (like in slime). Can someone please help?  [01:54]
<shanmu> Hello, I am trying out nrepl.el in emacs, how do I quit the repl? ,  [01:56]
<shanmu>          does not seem to work (like in slime). Can someone please help?
<shanmu> hi  [01:59]
<shanmu> is there full document on exiting nrepl repl from emacs, started using nrepl-jack-in?
<pepijndevos> why does requireing goog.dom work fine, but not goog.editor?  [02:00]
<scalabl3> i'm new to clojure, anyone what does this error usually means?
	   UnsupportedClassVersionError clojurewerkz/spyglass/OperationFuture : Unsupported
	   major.minor version 51.0  java.lang.ClassLoader.defineClass1 (ClassLoader.java:-2)
											      [02:04]
<antares_> scalabl3: Spyglass has some java bits and was compiled for JDK 6  [02:05]
<antares_> you probably have 5
<shanmu> scalabl3: that means your java version is older than the class you are trying to run
<scalabl3> ah
<scalabl3> let me check
<shanmu> anyone for nrepl.el help, please?
<antares_> scalabl3: actually, 51 means JDK 7
<antares_> so I guess I did not specify any JDK version
<scalabl3> yeah i have build 1.6.0_33-b03-424-11M3720)  [02:06]
<antares_> it's easy to correct, there is no JDK 7-specific code
<jaley> am I right in thinking there's no function to add to tail of a sequence? just conj to a
	vector?
<scalabl3> oh are you the author antares_?
<scalabl3> :)
<scalabl3> just standard mac jdk default here
*** _zach (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now known as _zach|away
											      [02:08]
<antares_> scalabl3: I am
<antares_> scalabl3: pushed 1.0.1 compiled for JDK 6. You can get JDK 7 for OS X from java.com.
<scalabl3> i am running this example by my co-worker analyzing reddit with
	   clojure/spyglass/couchbase: https://github.com/apage43/reddalyzr  [02:09]
<scalabl3> sweet
<scalabl3> so i update the project.clj with 1.0.1 then right?  [02:10]
<antares_> scalabl3: correct
<xeqi> shanmu: question?
*** imami|afk (~imami@173-13-139-237-sfba.hfc.comcastbusiness.net) is now known as banseljaj  [02:11]
<scalabl3> antares_: tks! and you can ignore my googlegroup post hehe, same thing
<shanmu> xeqi: Is there a clean way to disonnect/quit the repl in nrepl.el?  [02:12]
<shanmu> xeqi: I started using nrepl-jack-in
<xeqi> kill *nrepl-server* buffer
<pepijndevos> Do I need to tell leiningen I want google closure? It just plain not working.  [02:13]
<shanmu> xeqi: thanks! I was hoping there might be a cleaner way than that :)
<scalabl3> antares_: can i do sasl? so I can specify a bucket?
<xeqi> pepijndevos: are you using lein-cljsbuild ?
<pepijndevos> xeqi, yes
<antares_> scalabl3: you will need to use Java interop for that right now. I haven't gotten to full
	   Couchbase support. Can you not specify buckets w/o SASL?  [02:14]
<scalabl3> yeah i think so, just don't know spyglass syntax for that, in ruby memcached gems
	   generally the way is to use bucket-password combo  [02:15]
<scalabl3> antares_: don't actually need to specify password, just don't know syntax
<antares_> scalabl3: http://code.google.com/p/spymemcached/wiki/Examples  [02:16]
<antares_> scalabl3: (net.spy.memcached.MemcachedClient. servers "bucket" "password")  [02:17]
<antares_> then use it as you would a client instantiated via spyglass/bin-connection and such. See
	   http://clojurememcached.info
<antares_> hm, I realize that the function that builds a list of servers from Clojure collections is
	   private  [02:18]
<Frozenlock> noir-cljs is killing lein cljsbuild o_O   If I add noir-cljs to the dependencies, it
	     can't compile :(  [02:19]
<antares_> oh well, I guess I will have to figure out how to run couchbase now and add a few forms
	   or fns for it
<antares_> scalabl3: do I need Couchbase Server 1.8?  [02:20]
<scalabl3> antares_: yeah it's the stable one, 2.0 is still unstable (pre-beta)  [02:21]
<antares_> scalabl3: also, if you just need a good key/value store, consider using
	   http://clojureriak.info and Riak. I will improve Couchbase support regardless but I
	   really did not expect a newbie needing "nice" support for it right now.
<antares_> ok, downloading
<scalabl3> antares_: you don't have to do it now :) i am mostly curious
<scalabl3> i work for Couchbase, lol
<antares_> scalabl3: ah :)  [02:22]
<antares_> that changes everything
<scalabl3> i do sample apps mostly in ruby/rails/eventmachine, but getting into jruby and clojure
	   now
<antares_> scalabl3: I added Couchbase support to the readme after one of your folks helped me get
	   CI running against it on travis
<antares_> I don't know about JRuby but Spyglass and I guess just about any JVM language uses
	   SpyMemcached  [02:23]
<scalabl3> yep  [02:24]
<antares_> scalabl3: I need to make sure memcached is not running before I start couchbase, right?
<scalabl3> well for couchbase you can also use Couchbase Java SDK
<scalabl3> antares_: oh, yeah probably, same ports
<scalabl3> antares_: couchbase *is membase server + persistence
<antares_> wow, it is a Mac .app? that's unexpected :)  [02:25]
<scalabl3> you can drop it in as a replacement, will work the same
<antares_> scalabl3: is there a binary package I can run in the shell? :)
<scalabl3> you mean to start/stop?
<antares_> yes
<scalabl3> there are command line tools, right click couch icon in menu to install, i think, i am
	   running 2.0 on this machine  [02:26]
<scalabl3> hold on, let me check my other machine
<antares_> scalabl3: ok, I think I have it running  [02:27]
<scalabl3> k
<scalabl3> antares_:
	   https://www.couchbase.com/docs/couchbase-manual-1.8/couchbase-admin-cmdline-couchbase-cli.html
											      [02:28]
<scalabl3> oh doesn't have start stop for mac, i guess you just quit/start it  [02:29]
<antares_> scalabl3: yeah, I can always kill -sQUIT it
<scalabl3> yeah
<antares_> ok, give me 15 minutes to look at SpyMemcached source and see what's the best way to
	   support Couchbase-specific connections
<antares_> scalabl3: does couchbase use binary protocol?  [02:30]
<antares_> or both? what do people typically use?
<scalabl3> antares_: dude that's super cool, i was just trying to get a sample to run, you should
	   blog about it after and I can promote it
<scalabl3> yes
<scalabl3> memcached protocol
<antares_> scalabl3: I understand. But do most clients use binary or text protocol primarily?
<scalabl3> binary  [02:31]
<antares_> ok
<scalabl3> binary much faster
<scalabl3> i think we removed REST services in lieu of using client lib's with binary
<scalabl3> we still have REST mgmt services tho
<scalabl3> our founder wrote spymemcached :)  [02:34]
<scalabl3> one of our 6 founders
<antares_> scalabl3: apparently the code in the wiki is outdated. I believe Couchbase-specific bits
	   were removed from SpyMemcached. I need to investigate SASL support a bit more, worst case
	   scenario would be to have an optional dependency on the CB Java library and a new
	   namespace in Spyglass  [02:37]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [02:39]
<antares_> scalabl3: yup, found the very same example in your Java client. I am curious if I can
	   just use the CB client for Memcached…
<antares_> it's not a big deal to have one more dependency or have an optional dependency but it is
	   such a small client that I would prefer only have really essential deps  [02:40]
<scalabl3> sure, of course
<scalabl3> not sure about using CB client for a memcached tho, there may be a few things that change
	   over time (might work now, but not later)  [02:41]
<scalabl3> memcached client -> couchbase = yes, couchbase client -> memcached = not sure
<scalabl3> hehe
*** qmx|away (~qmx@redhat/jboss/qmx) is now known as qmx
<scalabl3> i can ask dustin tho
<antares_> scalabl3: FYI, it is really painful to find Maven dependency in the Java client docs
											      [02:42]
<antares_> github README sends me to some getting started guide that sends me to another guide that
	   sends me back
<scalabl3> grrr, yeah we're working on our docs, many improvements coming
<scalabl3> let me make a note of that tho
<antares_> make it dead obvious, any non-trivial project will use some kind of dependency management
	   tool that uses Maven for dependencies :)  [02:43]
<antares_> I think step 1 here http://www.couchbase.com/develop/java/current should also provide
	   info about Maven artifacts, right after the paragraph about downloads
<antares_> LOL. search.maven.org suggests spelling correction for "couchbase" to "asyncbase couch"
											      [02:44]
<scalabl3> hehe is there such a thing?  [02:45]
<antares_> scalabl3: probably not. But you never know, kids with their async coffeescripts these
	   days…
<antares_> scalabl3: ok, finally found the repo :) http://files.couchbase.com/maven2/  [02:46]
<scalabl3> i just sent all that to our java sdk peeps and doc peeps  [02:47]
<scalabl3> i gotta take my kids to the museum (my wife is rolling her eyes at me), i'll be back in a
	   few lol  [02:48]
<antares_> scalabl3: have fun. And thanks for reminding that I need to finish Couchbase support.
											      [02:49]
<scalabl3> i use bouncer so feel free to send me notes or suggestions
<scalabl3> i'll pass them on, either on channel or pm, either or works
<scalabl3> tks
<scalabl3> !
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|away  [02:54]
<Frozenlock> Is there a way to get the details of a dom object in cljs? Say I have a paragraph in
	     the variable $p, I would like the repl to give me more info than just #<[object
	     Object]>.  [03:12]
<wires> hello! is there some way to store and manipulate a clojure datastructure on disc instead of
	in memory?  [03:18]
<drewr> wires: carbonite maybe  [03:20]
<drewr> don't know about manipulation, but it's got the storage part  [03:21]
<wires> i see, yes so this is not really what i'm looking for
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off
<wires> The problem is that the data potentially doesn't fit into memory
<wires> so ideally I'd just work on disk.  [03:22]
<drewr> save sexps to files and stream them lazily
<wires> is this possible?
<wires> I understand that I could reimplement the foundational clojure interfaces, but then my whole
	application is running from disc..  [03:23]
<drewr> echo '{:foo 1}\n{:bar 2}' > /tmp/baz    .... user> (map read-string (line-seq (io/reader
	(io/file "/tmp/baz"))))
<lazybot> '{:foo 1}\n{:bar 2}' > /tmp/baz .... user> (map read-string (line-seq (io/reader (io/file
	  "/tmp/baz"))))
<wires> hehe, thank you lazybot
<drewr> you don't need io/file there, btw  [03:24]
<wires> ok, but this processes line by line
<drewr> right
<drewr> I don't know of a disk-backed implementation of clojure data structures
<wires> ok  [03:25]
<drewr> seems like it would be too slow to be useful
<wires> Well, it would basically be an immutable database
<wires> with proper caching and 'page management' it should be okay
<Frozenlock> wires: You can also use the many clojure wrapper for databases.  [03:26]
*** _zach|away (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now known as _zach
											      [03:27]
<Frozenlock> I like congomongo very much. It transforms clojure map data to their mongodb
	     counterparts transparently.
<wires> Frozenlock, hmm, could you suggest one? How does this play with the persistency of the
	datastructure?
<wires> Ah congomongo  [03:28]
<antares_> scalabl3: I am hitting http://www.couchbase.com/issues/browse/JCBC-91 :( with a perfectly
	   fine URI :/  [03:30]
<wires> hmm, ok this is nice, but I was really hoping that I could say, here if have object a_0, now
	here is a manipulated version of it, please store the both efficiently.  [03:31]
<wires> basically mirroring the 'trie' storage that is used in memory
<wires> of course I could dump every version, but ideally I'd like to share data
<Frozenlock> "And there you have it - a complete overtone controller in about 20 minutes." -ibdknox
											      [03:38]
<Frozenlock> ... and it took me a week to finally understand everything. Sheeeesh!  [03:39]
<erider> do you need to know java to use clojure
<Frozenlock> I learned java using clojure. So no, but it can be really helpful.  [03:40]
<Frozenlock> Especially if you want to use java libraries
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [03:45]
<erider> ok thanks  [03:46]
<Frozenlock> Any clever use of jayq (or cljs in general) I could look at to help me understand this
	     wild environment? :P  [03:53]
*** shokshok (uuuggg@109.226.26.129) is now known as shoky  [03:56]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [03:59]
<uvtc> Ran into something odd. Not sure if it's a bug. In the repl, if I try `(def x ^{:a 1} 42)`, I
       get an exception (right, since I can't assign metadata to the value 42).
<uvtc> But then after that, if I try something else, I get a 2nd exception message.
<uvtc> For example, if I then just type in "hi" at the repl, I get more exception information, as if
       it was left over from the previous error.  [04:01]
<uvtc> Maybe this is something better posted to the ML. Also, it's pretty quiet around here on
       weekends. :)  [04:02]
<uvtc> Ok, posted to ML.  [04:12]
<hyPiRion> it's rather silent here as of now, yes.  [04:19]
<Frozenlock> On weekends, no one can hear you scream. Tan tan taaaaaaan
<hyPiRion> uvtc: yeah, I can reproduce it.  [04:20]
<hyPiRion> so it's not just you
*** qmx|away (~qmx@redhat/jboss/qmx) is now known as qmx  [04:27]
*** amalloy_ (~amalloy@li231-96.members.linode.com) is now known as amalloy  [04:34]
<Frozenlock> Is there an idiomatic way to `toggle' something in cljs? For example,
	     jayq.core/fade-out and jayq.core/fade-in. How could I make a `fade-toggle' function?
											      [04:43]
<gfredericks> you'd have to detect the current state, right? via the css "display" attribute maybe?
											      [04:47]
<gfredericks> after that it's just a function with an if in it.  [04:48]
<gfredericks> unless you want to do something complicated with "in progress" detection for
	      animations
<Frozenlock> I'm looking for a more general solution. Perhaps a function that takes two other
	     function (each with an opposite effect) and the use of an atom?
<gfredericks> oh so you track the state independently
<Frozenlock> Yes  [04:49]
<gfredericks> (fn [f1 f2] (let [a (atom false)] (fn [] (if @a (f1) (f2)) (swap! a not))))
<gfredericks> maybe true would be a more sensible default there  [04:50]
<Frozenlock> You don't need to define the atom outside the function?
<gfredericks> s/default/initial
<gfredericks> what I gave is a function that returns the toggler function
<gfredericks> so the atom is defined outside the toggler
<gfredericks> but inside the toggler-factory\
<gfredericks> er, togglerFactoryBean  [04:51]
<Frozenlock> That's really nice! Thank you :)  [04:52]
<Frozenlock> But is there any risk for `a' to clash with another `a' in the same namespace?  [04:53]
<gfredericks> np
<gfredericks> no it's a local
<gfredericks> I mean it could clash with something external but that doesn't matter because no other
	      a is being used there
<gfredericks> so you (defn toggler-factory [f1 f2] (let [a (atom true)] (fn [] (if @a (f1) (f2))
	      (swap! a not))))  [04:54]
<gfredericks> and then (def fade-toggle (toggler-factory fade-in fade-out))
<gfredericks> I guess that doesn't work if you need to pass args to fade-in/fade-out
<Frozenlock> I'm going to try that immediately :)
<hyPiRion> fns all the way down.  [04:55]
<Frozenlock> (defn toggler-factory [f1 f2 arg]....
<gfredericks> (defn toggler-factory [f1 f2] (let [a (atom true)] (fn [& args] (apply (if @a f1 f2)
	      args) (swap! a not))))
<gfredericks> I guess if the arg is always the same you can give it to the factory that way
<Frozenlock> Oh no it's even better without the args hardcoded!  [04:56]
<hyPiRion> Hmmm  [04:57]
<gfredericks> I guess factories are nouns. make-toggler would probably be better.  [04:58]
<gfredericks> togglify
<gfredericks> togglomerate
<gfredericks> ticlke
<Frozenlock> gfredericks: It works flawlessly!
<Frozenlock> (def toggle-fade (toggler-factory j/fade-in j/fade-out))
<Frozenlock> And then (toggle-fade any-dom-object)
<gfredericks> excellent
<hyPiRion> Well, that's a bit fast.
<amalloy> gfredericks: you probably ought to (a) use <amalloy> gfredericks: you probably ought to (a) use the atom in a thread-safe way, and (b) return
	  the result of f1/f2, not of the swap. so like (fn [& args] (apply (if (swap! a not) f1 f2)
	  args))  [04:59]
<hyPiRion> amalloy: And even then it really depends on what you want the toggle to do if the
	   function throws an error.
<gfredericks> amalloy: do we have to think about thread-safety in JS yet?
<hyPiRion> Should it skip the toggle, or should it retry the same fn?
<amalloy> gfredericks: it builds character  [05:00]
<gfredericks> amalloy: hard to take it seriously when you can't use refs
<Chousuke> why do you need to call it a factory, wouldn't just "toggler" be enough? :P
<uvtc> It appears to me that there are two separate ways to add metadata to a function: (A) put it
       inside a ^{...} right after the `defn`, and (B) put it inside a hash-map after the docstring
       but before the arg vector. Why are there 2 ways to do it?  [05:01]
<gfredericks> uvtc: s/function/var/
<uvtc> gfredericks: right. Thanks.
<amalloy> gfredericks: also, that function you wrote ought to work fine in jvm-clj, except that
	  you're not being thread-safe. looking at the code just sets off all kinds of alarm bells
	  in my head  [05:02]
<uvtc> But why two similar ways to do the same thing?
<amalloy> uvtc: my understanding is that in early versions of clojure, reader metadata was harder to
	  use
<uvtc> Oh, ok. Historical reasons then. Thanks.  [05:03]
<gfredericks> amalloy: I did think of it at first but wasn't sure I could be thread-safe without
	      refs, but your example is quite good.
<bosie> is there a way to write this quicker: #(or (= 0 (mod %1 3)) (= 0 (mod %1 5)))  [05:04]
<hyPiRion> bosie: quicker as in more performant?
<bosie> hyPiRion: less code
<gfredericks> #(zero? (* (mod % 3) (mod % 5)))
<amalloy> gfredericks: for a single reference, you never need refs; you can build thread-safety with
	  just an atom
<gfredericks> amalloy: how would you implement a queue with an atom?
<bosie> gfredericks: creative  [05:05]
<hyPiRion> #(= 0 is even shorter.
<uvtc> bosie: but I think your way explains to the reader more what you mean. :)
<bosie> oki  [05:06]
<gfredericks> there is also (some #{0} [(mod % 3) (mod % 5)])  [05:07]
<uvtc> bosie: btw, I think when you're only using one arg, it's more typical to use % instead of %1
<uvtc> .
<bosie> uvtc: esp. with modulo that seems… risky ;)
<gfredericks> ha  [05:08]
<uvtc> hehe
<amalloy> gfredericks: put an extra slot in the atom for storing the return value:
	  https://gist.github.com/3471005
<Frozenlock> gfredericks: I just realized the state is associated with the function, not with the
	     argument. So I can't use the same function for 2 different items.
<amalloy> Frozenlock: that's why it's a factory  [05:09]
<gfredericks> amalloy: that is clever-ass. I'm glad I axed.
<bosie> gfredericks: looking at the last code you put up, some takes a predicate  [05:10]
<rolyp> Is this a good place to get cljsbuild help?
<bosie> gfredericks: predicate being what?
<gfredericks> Frozenlock: excellent point. move the args to the top I guess.
<gfredericks> bosie: sets can be predicates
<hiredman> amalloy: there still thread safety issues there
<gfredericks> mostly predicates
<amalloy> hiredman: you mean that take doesn't block? yes, i'm not implementing a whole LBQ  [05:11]
<hiredman> amalloy: someone else can call take before you look at ret
<technomancy> anyone know an https host using a self-signed cert off the top of their head?
<gfredericks> hiredman: I was just looking for how you can use an atom and return something other
	      than the new value
<amalloy> hiredman: so?
<gfredericks> hiredman: aside from taking-when-empty I think it's good  [05:12]
*** _zach (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now known as _zach|away
<amalloy> i'm not re-dereffing it, i'm using the return value from the swap
<hiredman> amalloy: ah, I see
<gfredericks> only minor downside is garbage collection  [05:13]
<amalloy> gfredericks: ?
<gfredericks> amalloy: the last thing popped off can't be GC'd until take is called again  [05:14]
<gfredericks> I guess you could get around that with an extra swap at the end
<amalloy> gfredericks: you can swap! the :ret back out
<Frozenlock> gfredericks: To the top? Meaning creating a new toggling function for each item?
<gfredericks> Frozenlock: (defn make-toggler [f1 f2 & args] (let [a (atom false)] (fn [] (apply (if
	      (swap! a not) f1 f2) args))))  [05:15]
<Frozenlock> Ok so yes, create a function for every item.  [05:16]
<gfredericks> yeah; otherwise you'd have to keep the state somewhere else
<gfredericks> or have an internal map from arguments to state, which seems a little gross  [05:17]
<amalloy> Frozenlock: why not just use jquery's .toggle?
<Frozenlock> amalloy: Because I didn't know there was such a thing...
<Frozenlock> Still it's a great exercise :)
<amalloy> i just googled jquery toggle
<dreish> Well this sucks. I just found out "lein test" has been testing stale pre-built class files
	 for the last few months. Why would it do that?  [05:20]
<dreish> What's the point of running unit tests if it isn't testing the latest code?
<Frozenlock> amalloy: How would that be called from cljs? js/jQuery.toggle doesn't seem to work.
											      [05:23]
<hiredman> dreish: there are issues with class files generated from defrecord/deftype, generally the
	   runtime compares the last modtime between the source (.clj file) and the compiled class
	   file to determine which to use, but for defrecord and deftypes it just fails to do that,
	   so if you are aot compiling you can end up with stale class files
<dreish> This affected everything, not just the two small defrecords I use. I had renamed the whole
	 project a few months ago, so the entire namespace that the test file was bringing in no
	 longer existed.  [05:25]
<dreish> It seems to me lein test should run lein clean first, and if someone (for some strange
	 reason) needs otherwise, there should be an additional test-without-clean target.
											      [05:26]
<hiredman> maybe take it to #leiningen
<hiredman> I've never seen anything like that persist for that long, so I am inclined to believe you
	   were doing something out of the ordinary  [05:28]
<dreish> I was not doing anything exotic.
<dreish> Unless renaming all the namespaces counts.
<ejackson> aot will eat your unborn first son.  [05:29]
<ejackson> avoid it.
<hiredman> as I said, I've seen transient issues like that, that are generally fixed by restarting
	   the repl
<dreish> I *never* asked it to AOT compile anything.
<dreish> It just does it.
<dreish> Hell, I've rebooted at least five times since the rename.  [05:30]
<hiredman> anyway, as you issue seems to be with lein, I'd try #leiningen, although I am sure
	   technomancy will explain to you how it is actually clojure's fault and he is working
	   tirelessly to hack around it
<hiredman> your
<technomancy> :main implies AOT since uberjars don't work without it
<dreish> I do have a :main
<technomancy> you can do :main ^:skip-aot my.name.space
*** pepijndevos (~pepijndev@ec2-23-21-19-58.compute-1.amazonaws.com) is now known as pepijn_away
											      [05:32]
*** pepijn_away (~pepijndev@ec2-23-21-19-58.compute-1.amazonaws.com) is now known as pepijndevos
<hiredman> dreish: it sounds like you didn't rename the namespace in your tests anyway  [05:33]
<dreish> Correct, I forgot to do taht.
<dreish> If I had, I'm sure it would have worked. I guess I just think it would be nice if .class
	 files corresponding to files that no longer exist get cleaned, but I don't know how
	 practical that is.  [05:34]
<technomancy> we tried doing that for a while, but it broke a lot of protocols and records  [05:35]
<technomancy> most of the time if the AOT'd version of a piece of code goes away Clojure is smart
	      enough to fall back, but that doesn't work with protocols and records
*** _zach|away (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now known as _zach
<dreish> I understand, I just hate it when the answer to a problem is, "Never make that particular
	 mistake".  [05:37]
<technomancy> I can't remove the ":main implies :aot" rule though I wish I could  [05:38]
<technomancy> but I might be able to move that logic to only apply during uberjar  [05:39]
<hiredman> the real answer to transient environment issues is to have a ci server doing clean
	   builds, but that doesn't really scale down to small projects
<gfredericks> it could, couldn't it? for a lein project couldn't configging something like that be
	      as simple as "here is my github repo, please run `lein test`"?  [05:40]
<dreish> All I had to do to discover the problem was run "lein clean ; lein test".
<dreish> Perhaps if there are old (>1 month?) files under classes/, warn "You have old files in
	 classes/; consider running lein clean"  [05:41]
<hiredman> technomancy: isn't lein supposed to automatically figure out when to run 'clean'?
<hiredman> dreish: what version of lein?
<dreish> Leiningen 1.7.1 on Java 1.6.0_33 Java HotSpot(TM) 64-Bit Server VM  [05:42]
<technomancy> hiredman: yeah, this is one of two exceptions
<hiredman> would it really break anything if test ran clean first?  [05:43]
<dreish> Could it be painful for very large projects?  [05:44]
<technomancy> yeah, it would be very very slow
<technomancy> you can add it to :prep-tasks in the :test profile if you'd rather take the hit
<hiredman> ah, test!
<dreish> My first reaction was that it should do that, but I realized that doesn't scale so well. I
	 like the idea of warning on old files, though.
<hiredman> dreish: have you seen test! ?
<dreish> "lein test!" ?  [05:45]
<clojurebot> ,(let [testar (fn [x y] (if (= (reduce + (filter odd? (range 0 x))) y) (str y " is
	     an"))        )] (testar 10 25))
<hiredman> dreish: yes
<dreish> No, does that do a clean first?
<hiredman> it runs clean and deps first
*** _zach (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now known as _zach|away
<dreish> Ah yes, I see. Thanks.
<hiredman> technomancy: have you seen https://github.com/relevance/org-html-slideshow
* gfredericks just gave a talk with org-html-slideshow  [05:46]
<technomancy> hiredman: yeah, I think a few clojurewest talks used it
<Frozenlock> Any only online example of the product it gives?  [05:47]
<technomancy> I really really hate the org-mode code-quoting syntax, but it's better than latex
<gfredericks> Frozenlock: https://github.com/abedra/geekfest-linux-kernel-joystick-api  [05:48]
<Frozenlock> thanks  [05:49]
<technomancy> hiredman: how's the hardware hacking going?
<hiredman> technomancy: my beaglebone seems to have a died, so it is stalled
<technomancy> shame  [05:50]
<hiredman> but before it did I had a little rover I could drive around via repl
<technomancy> at some point I want to get something like that set up for the tree house in the back
	      yard
<hiredman> with a webcam on the front
<technomancy> maybe something that could open the locks on a trap door
<hiredman> it was still wired in for power and network, but that should be pretty easy to solve
<hiredman> it was lots of fun till I realized I wasn't going to finish before the end of my vacation
											      [05:52]
*** Guest65640 (~augustl@236.79-160-15.customer.lyse.net) is now known as augustl  [05:55]
<emezeske> Is there an active Clojure OpenGL library out there?  Penumbra looks cool, but claims to
	   not be under active development.
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|away  [06:08]
<nvy> I profess my love to you, clojurebot  [06:18]
<uvtc> ~clojurebot  [06:22]
<clojurebot> clojurebot is a cold unfeeling genderless mechanism
*** pepijndevos (~pepijndev@ec2-23-21-19-58.compute-1.amazonaws.com) is now known as pepijn_away
											      [06:24]
*** pepijn_away (~pepijndev@ec2-23-21-19-58.compute-1.amazonaws.com) is now known as pepijndevos
<erider> when you load-file does it ns change at the repl or do you have to do something to get into
	 the context of the file that was loaded?  [06:26]
<jeremyheiler> i think it depends if file you loaded changes the ns.  [06:28]
<erider> (ns foo) sets it right
<jeremyheiler> yes  [06:29]
<erider> so I should be able to type foo at the repl and be in the ns right? or no?
<uvtc> erider: try experimenting with it. :)  [06:30]
<codedreams> yes, If you type (ns foo) then your prompt will change and you will be in the foo
	     namespace  [06:31]
<erider> thanks for the help  [06:32]
<erider> its good now
<hiredman> load-file will not change the namespace  [06:34]
<hiredman> load-file creates a fresh binding for *ns*, and any changes will be popped off after the
	   file is loaded  [06:35]
<gfredericks> (.set #'*ns* 0) is a great way to crash your repl  [06:45]
*** pepijndevos (~pepijndev@ec2-23-21-19-58.compute-1.amazonaws.com) is now known as pepijn_away
											      [06:46]
*** pepijn_away (~pepijndev@ec2-23-21-19-58.compute-1.amazonaws.com) is now known as pepijndevos
											      [06:50]
*** RavenDT (HydraIRC@69.7.56.245) is now known as Raven
<jeremyheiler> hiredman: what do you mean by "any changes will be popped off"? if I load-file
	       something that sets the ns to foo, but my repl is in user, i can stil reference stuff
	       in the foo namespace.  [06:55]
<hiredman> I mean any changes to *ns*
<jeremyheiler> ah ok, cool.
*** qmx|away (~qmx@redhat/jboss/qmx) is now known as qmx  [07:09]
<gfredericks> &(.set #'*ns* 42)  [07:17]
<lazybot> java.lang.SecurityException: You tripped the alarm! class clojure.lang.Var is bad!
<amalloy> gfredericks: SANBOX DENIED  [07:19]
<gfredericks> ,(.set #'*ns* 42)
<clojurebot> 42
<gfredericks> ,(+ 1 2)
<clojurebot> 3
<gfredericks> ,*ns*
<clojurebot> #<Namespace sandbox>
<gfredericks> clever
<uvtc> What's a good ncurses-like library for use with Clojure?  [07:21]
<Bronsa> ,(do (.set #'*ns* 42) *ns*)
<clojurebot> #<CompilerException java.lang.ClassCastException: java.lang.Long cannot be cast to
	     clojure.lang.Namespace, compiling:(NO_SOURCE_PATH:0)>
<Cr8> uvtc: for java there's Lanterna http://code.google.com/p/lanterna/  [07:23]
<Cr8> and sjl's wrapper for it; https://github.com/sjl/clojure-lanterna
<uvtc> Ah. Right. From the "Caves of Clojure" series of articles. Thanks, Cr8.  [07:24]
<uvtc> Lanterna seems to be pretty actively-developed.  [07:25]
<Cr8>  Hm  [07:29]
<Cr8> Is there a way to make the REPL just pprint everything?
<gfredericks> that would be cool if repls had hooks for things like that  [07:31]
<technomancy> you mean ... a reppl?
<gfredericks> pfff
<uvtc> teehehe  [07:32]
<gfredericks> is nrepl hookable like that?
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|away
<gfredericks> I'm thinking a pre-read hook, a post-read hook, and a rebindable printer
<amalloy> gfredericks: clojure.repl is hookable like that  [07:33]
<technomancy> gfredericks: I thought you were joking
<gfredericks> no I don't know most things actually
<amalloy> but really a repl that pprints everything would get tiring quickly
<S11001001> amalloy: I've run slime/cl that way; seems alright  [07:34]
<gfredericks> amalloy: I see nothing in clojure.repl that looks relevant
<amalloy> maybe it's clojure.main/repl? i forget where the entry point is
<technomancy> gfredericks: (clojure.main/repl :print pprint)
<gfredericks> holy fishsticks  [07:35]
<technomancy> you can use clojure.main repl as an sql console
<technomancy> everything is replaceable  [07:36]
<technomancy> except for loop I guess
<emezeske> I want a REPL that on every 17th loop interprets my input as Fortran  [07:40]
<gfredericks> that sounds surprisingly like cicadas  [07:41]
*** Lajla (~Lajla@2001:0:5ef5:79fd:3c20:2dd3:ae33:eb94) is now known as Zew````
<amalloy> :eval #((rand-nth [bash irb python fortran eval]) %)  [07:43]
<gfredericks> amalloy: shuffle them and apply until one of them doesn't throw  [07:44]
<emezeske> amalloy: Now you've done it -- someone at my work will be enjoying a horrible, horrible
	   prank sometime soon
<hiredman> I sent an email to the clojure-dev list a year or more ago asking about making it easier
	   to embedded alternate repls in a running clojure repl (making it possible to share the *1
	   bindings and that sort of thing) but there did not seem to be any interest  [07:46]
<amalloy> emezeske: or they'll just learn to write their programs like
	  http://www.ioccc.org/2000/tomx.c  [07:47]
<hiredman> it is kind of neat to be able to type (sql-repl) get a sql repl, and when you exit have
	   access to the last returned sql value in *1
<emezeske> amalloy: Hahah... clever hack  [07:48]
<gfredericks> if somebody has domain models that seem to benefit a lot from inheritance, does that
	      indicate s/he ought to use multimethods instead of protocols?
<Frozenlo`> Whenever I reload the page to which I have my repl connected, it brokes the `pipes':
	    java.net.SocketException: Broken pipe  [07:49]
<Frozenlo`> Is there a way to avoid it?
<amalloy> emezeske: when run as a shell script, it invokes make using itself as the makefile, which
	  compiles itself as a C program  [07:50]
<amalloy> (it wasn't obvious to me that it works as a shell script as well; the obvious parts are C
	  and make)  [07:51]
<emezeske> Whoa, I didn't catch the shell script part either
* emezeske does a double take
<amalloy> emezeske: it's the false task/goal
<hiredman> https://raw.github.com/gist/3422228/b97aa2e1e0e58ac35b6f768099d014f4dc0de1ac/nrepl.sh
											      [07:52]
* gfredericks reads def method_missing x; nil; end
<emezeske> amalloy: Damn that's tricky
<amalloy> gfredericks: on error resume next...for ruby!  [07:53]
<gfredericks> amalloy: what language is that?
<amalloy> vb  [07:54]
* gfredericks was about to guess SQL
<scalabl3> antares_ my znc crashed, but I saw you found an issue JCBC-91?
*** banseljaj (~imami@173-13-139-237-sfba.hfc.comcastbusiness.net) is now known as imami|afk  [08:01]
<amalloy> oh wow, the ioccc started back up last year?  [08:02]
<scalabl3> antares_: if you run/ran into more issues let me know, i'm back online  [08:04]
* gfredericks has seen a lot of overuse of reduce/inject in ruby code  [08:07]
<emezeske> I bet a lisp obfuscation contest would be interesting  [08:13]
<amalloy> emezeske: start by writing a macro that compiles C
<emezeske> hahahaha  [08:14]
<emezeske> oh the pain
<michaeltomer> I just started messing with Clojure last night (I've never used a lisp before). I've
	       got a working script ( https://gist.github.com/3472710 ), and I was wondering if
	       anyone could offer some tips on how to make it more idiomatic.  [08:20]
<michaeltomer> It should just take a moment. The script is less than 1,000 characters.
*** RavenDT (~Raven@69.7.56.176) is now known as Raven  [08:21]
<hiredman> ~style
<clojurebot> style is http://paste.lisp.org/display/81021
<michaeltomer> I had a feeling my indentation was sub-optimal.  [08:22]
<michaeltomer> When I start grouping the parens it starts to look cluttered. I might end up with
	       over a half dozen parens crammed together at the end of a method. What's the accepted
	       wisdom on that?  [08:23]
<scalabl3> they should add syntax so it's like )^6  [08:24]
<scalabl3> instead of ))))))
<Cr8> I feel like that would make editing a bit janky
<amalloy> michaeltomer: without paying attention to the file content,
	  https://gist.github.com/3472749 is the normal way to format that
<napping> use an editor that matches parens, and just let them pile up
<michaeltomer> amalloy: Awesome, thanks!  [08:25]
<S11001001> michaeltomer: you're supposed to go for new records; I've done 14
*** RavenDT (~Raven@69.7.56.176) is now known as Raven
<S11001001> michaeltomer: and indeed, there is no workable alternative to what napping suggests
<michaeltomer> S11001001: lol. I imagine I'll adjust once I've stared at it a bit longer.  [08:26]
*** qmx|away (~qmx@redhat/jboss/qmx) is now known as qmx
<S11001001> michaeltomer: indentation is what matters readability-wise, and it's much easier to see
	    the indentation flow once you throw out all the extra newlines C style adds
*** _zach|away (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now known as _zach
<napping> is it meant to be called with three arguments?  [08:27]
<michaeltomer> S11001001: That's probably true.
<michaeltomer> napping: Two arguments in common use, but the third (optional) argument is supplied
	       when the function recurses.  [08:28]
<michaeltomer> Is that unusual?
<shawnlewis> how can i unify a few different namespaces into one? for example clj-time provides
	     clj-time.core and clj-time.local and i'd like to be able to pull them in with a single
	     require like (require 'mytime).  [08:29]
<S11001001> michaeltomer: depends on whether the 3rd arg is intended to be available as external API
	    also
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|away
<michaeltomer> S11001001: No, I don't think I'd want it to be part of the public API.
<uvtc>  S11001001 : might be neat if one's editor would display little indentation guides (faint
       dotted lines) when you're lining up multiple args (and doing the usual vertical aligning of
       them).  [08:30]
<S11001001> michaeltomer: then make a lambda and call it inside the single arity you want public
											      [08:31]
<S11001001> michaeltomer: ((fn [...]) pub pub 0)
<Raynes> michaeltomer: If parentheses start to pile up in hard to read ways, just factor the
	 function into more smaller functions.
<michaeltomer> S11001001: Interesting. I'll give that a try. Thanks!
<S11001001> rather, ((fn whatever [...] do-stuff (whatever ...)) whatever-args)  [08:32]
<michaeltomer> Raynes: Are there any kind of guidelines on how many lines fit into a decently
	       written Clojure function? For instance, I like my Ruby methods with 10 or fewer lines
	       if I can help it.
<uvtc> michaeltomer: Also, Clojure gives you some constructs to reduce the number of nested
       expressions, for example, if-let instead of using `if` and `let` separately.
<Raynes> michaeltomer: No real guidelines. I mean, it's common sense. You'll know when your function
	 is too long.  [08:33]
<shawnlewis> basically i want a single namespace to be a proxy to a bunch of others
<michaeltomer> uvtc: I think I saw that in the docs. I'll read up on that. Thanks!
<uvtc> michaeltomer: y/w
<Raynes> michaeltomer: Your function is reasonable, for example.
<Raynes> Those closing parens don't bother me in the slightest.
<amalloy> michaeltomer: see also quot and rem instead of fooling around to get / to do what you want
<michaeltomer> I haven't encountered rem yet. I'll look that up.  [08:34]
<michaeltomer> You guys are awesome! Thanks for all the help.
<gfredericks> (inc you-guys)
<lazybot> ⇒ 2
<hyPiRion> (inc you guys)  [08:35]
<lazybot> ⇒ 1
<gfredericks> $karma you
<lazybot> you has karma 0.
<gfredericks> $karma you guys
<lazybot> you has karma 0.
<gfredericks> o_O
<hyPiRion> hm
<hyPiRion> $karma "you guys"
<lazybot> "you has karma 0.
<hyPiRion> ,'(inc you guys)  [08:36]
<clojurebot> (inc you guys)
<lazybot> ⇒ 2
<gfredericks> oh the $karma is ignoring it I see
<xeqi> $karma you\ guys
<lazybot> you\ has karma 0.
<hyPiRion> heh.
<michaeltomer> (inc amalloy)  [08:38]
<lazybot> ⇒ 27
<michaeltomer> (inc S11001001)
<lazybot> ⇒ 3
<michaeltomer> (inc utvc)  [08:39]
<lazybot> ⇒ 1
<Cr8> Perhaps it should take a vector :)
<michaeltomer> (inc Raynes)
<lazybot> ⇒ 16
<michaeltomer> Cr8: I was just thinking that.  [08:40]
<michaeltomer> Too many clojurians (clojurites? clojuristas?) are helpful to only be able to
	       provide a single argument at a time.  [08:41]
<hyPiRion> gfredericks:
	   https://github.com/jhulten/lazybot/blob/master/src/lazybot/plugins/karma.clj#L68
<Cr8> I've used "clojurian" before.
<hyPiRion> that's the bummer.  [08:42]
<uvtc> ,(doseq [n ["michaeltomer" "hyPiRion" "gfredericks"]] (println "(inc" nm ")"))
<clojurebot> #<CompilerException java.lang.RuntimeException: Unable to resolve symbol: nm in this
	     context, compiling:(NO_SOURCE_PATH:0)>
<uvtc> ,(doseq [n ["michaeltomer" "hyPiRion" "gfredericks"]] (println "(inc" n ")"))
<clojurebot> (inc michaeltomer )
<lazybot> ⇒ 1
<clojurebot> (inc hyPiRion )
<lazybot> ⇒ 1
<clojurebot> (inc gfredericks )
<lazybot> ⇒ 1
<Cr8> there's a clever dan.  [08:43]
<hyPiRion> $karma gfredericks
<lazybot> gfredericks has karma 8.
<hyPiRion> So the space messes it up :p
<Cr8> hm, did It swallow the space there?
<Raynes> hyPiRion: That's not the right repo.
<Raynes> https://github.com/flatland/lazybot
<Cr8> why is there even a space
<uvtc> Ooops. Yeah, should've been `(println (str ...))`.  [08:44]
<Cr8> oh, right, I saw a str where there wasn't one
<hyPiRion> Raynes: I am amazing at linking to wrong forks.
<hyPiRion> or forks at all, for that matter.
<emezeske> Personally I prefer the term "clojuror", kind of like sorceror
<hyPiRion> ,(doseq [n '[foo baz bar]] `(increment ~n))  [08:45]
<clojurebot> nil
<Frozenlo`> So there's emacs wizards and clojure sorceror? :)
<Cr8> but not like juror
<uvtc> "clojurino" ... gets that elementary particle vibe goin' on.
<michaeltomer> Woot, my first karma point. If video games have taught me anything, it's that karma
	       points will make me all glow-y.
<hyPiRion> ,(doseq [n '[foo baz bar]] (prn `(increment ~n)))
<clojurebot> (sandbox/increment foo)
<clojurebot> (sandbox/increment baz)
<clojurebot> (sandbox/increment bar)
<hyPiRion> asdff.d
<uvtc> ,(doseq [n ["michaeltomer" "hyPiRion" "gfredericks"]] (println (str "(inc" n ")")))  [08:46]
<clojurebot> (incmichaeltomer)
<clojurebot> (inchyPiRion)
<clojurebot> (incgfredericks)
<uvtc> ,(doseq [n ["michaeltomer" "hyPiRion" "gfredericks"]] (println (str "(inc " n " )")))
<clojurebot> (inc michaeltomer )
<lazybot> ⇒ 2
<clojurebot> (inc hyPiRion )
<lazybot> ⇒ 2
<clojurebot> (inc gfredericks )
<lazybot> ⇒ 2
<uvtc> ,(doseq [n ["michaeltomer" "hyPiRion" "gfredericks"]] (println (str "(inc " n ")")))  [08:47]
<hyPiRion> we should just give up on this.
<clojurebot> (inc michaeltomer)
<lazybot> ⇒ 1
<clojurebot> (inc hyPiRion)
<lazybot> ⇒ 1
<clojurebot> (inc gfredericks)
<lazybot> ⇒ 9
*** pepijndevos (~pepijndev@ec2-23-21-19-58.compute-1.amazonaws.com) is now known as pepijn_away
<uvtc> there
<uvtc> Sorry. We now resume your regular programming.
<michaeltomer> hyPiRion: So long as I'm getting karma points, I'm a happy camper.
<napping> do you want minimal numbers of coins?  [08:48]
<michaeltomer> napping: We've got coins too? How many until I get an extra life?
<michaeltomer> napping: If I get one more life, I figure that'll put me at 1.  [08:49]
<amalloy> michaeltomer: https://gist.github.com/3472749 is two implementations of the same algorithm
	  that might interest you  [08:56]
<amalloy> using language features you're not familiar with yet, but should introduce you to what is
	  possible, at least  [08:57]
<michaeltomer> amalloy: Awesome! I'll go through these with a fine-toothed comb. Thanks!
<michaeltomer> (inc amalloy)
<lazybot> ⇒ 28
<michaeltomer> napping: Sadly, I think I've just finally understood you last comment. For some
	       reason I thought you were offering me coins of some unknown variety. Not sure what's
	       wrong with my brain at the moment.  [09:00]
<michaeltomer> napping: However, yes. I am trying to return the smallest number of coins.
<gfredericks> amalloy: I spent about 7 seconds believing that gist was your first attempt at clojure
											      [09:05]
<Cr8> ahahaha  [09:06]
* Cr8 quite enjoys wrapping my brain around fun uses of reductions  [09:07]
<michaeltomer> gfredericks: am alloy just catches on quickly.  [09:10]
<hyPiRion> burr.  [09:13]
* gfredericks infers that hyPiRion is in the southern hemisphere  [09:14]
<hyPiRion> or very high up in the northern one  [09:15]
<gfredericks> does the earth's angular momentum vector point north or south?  [09:17]
<gfredericks> the X-hand rule does you no good if you can't remember whether it's right or left
<tmciver> north
<gfredericks> oh good.
<uvtc> Right-hand-rule says it points north.
<gfredericks> is that an arbitrary choice? is there any physical reason you'd want it pointing one
	      way rather than the other?  [09:18]
<hoover_damm> gfredericks, north sometimes needs to be reset  [09:20]
<hoover_damm> gfredericks, it's a feature to be able to 'reset' where north is
<hyPiRion> gfredericks: I believe it's just practical for the matrix representation
<gfredericks> hoover_damm: I'm talking more about rotational physics than about planetary stuff
											      [09:21]
<hoover_damm> gfredericks, yeah I gathered that now :)
<uvtc> gfredericks: I think everyone just agreed on a convention to make sure all the signs come out
       right.
<hoover_damm> gfredericks, sorry about that.  [09:22]
<gfredericks> hoover_damm: no problem; it was an interesting reminder
<gfredericks> rotation is the 17th weirdest thing
<michaeltomer> gfredericks: What's number 16?  [09:26]
<gfredericks> high-dimensional geometry  [09:27]
<gfredericks> somewhere on the list there is a theorem about how languages of subsequences of
	      arbitrary languages are always regular  [09:32]
*** _zach (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now known as _zach|away
											      [09:33]
* gfredericks just read "def admin?; true; end"
*** _zach|away (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now known as _zach
											      [09:34]
<Cr8> is that ruby?  [09:36]
<gfredericks> yeah
*** _zach (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now known as _zach|away
<technomancy> released leiningen 2.0.0-preview10 addressing the out-of-project issues  [09:44]
<tomoj> getting a 404 and `/home/tom/bin/lein2: line 180: downoad_failed_message: command not found`
											      [09:45]
<technomancy> oh man, are you serious  [09:47]
<technomancy> well, you should only be seeing that if it's already broken  [09:48]
<technomancy> what's the URL you're getting a 404 on?
<Cr8> oh
<Cr8> i get the same
<tomoj> can't tell
<tomoj> ..or don't know how to tell
<tomoj> oh  [09:49]
<tomoj> fixed line 180, then "Failed to download
	https://github.com/downloads/technomancy/leiningen/leiningen-2.0.0-preview10-standalone.jar"
<Cr8> fixing the "downoad" typo nets
<Cr8> curl: (22) The requested URL returned error: 404
<Cr8> Failed to download
      https://github.com/downloads/technomancy/leiningen/leiningen-2.0.0-preview10-standalone.jar
<technomancy> oh, my uberjar upload failed  [09:50]
<technomancy> that's easy to fix; hang on
<mefisto`> anyone have any experience with compojure + emacs + slime? I am trying to use ring-serve
	   and the only thing I can get is 404s. I tried it with some basic stuff of my own as well
	   as from the compojure example project  [09:51]
<technomancy> mefisto`: I recommend just running a -main function with a run-jetty call from slime
											      [09:53]
<technomancy> tomoj, Cr8: upload succeeded; try again?
<Cr8> got it
<technomancy> cool  [09:54]
<Cr8> lein version
      ✭
<Cr8> Leiningen 2.0.0-preview10 on Java 1.7.0_06 Java HotSpot(TM) 64-Bit Server VM
<technomancy> cools
<tomoj> somehow I got "The self-install jar already exists at
	/home/tom/.lein/self-installs/leiningen-2.0.0-preview10-standalone.jar"  [09:55]
<tomoj> but, working
<mefisto`> oh, nevermind I see what I was doing wrong  [09:59]
<mefisto`> technomancy: thanks for answering nevertheless
<Frozenlo`> Is there the inverse of the clj->js function?  [10:30]
*** qmx|away (~qmx@redhat/jboss/qmx) is now known as qmx  [10:49]
*** qmx (~qmx@redhat/jboss/qmx) is now known as qmx|away  [10:50]
<tomoj> Frozenlock: js->clj ?  [10:52]
<tomoj> cljs.core/js->clj
<Frozenlock> Oh wait you're not joking!  [10:54]
<Frozenlock> It's there! :D
<Frozenlock> Thanks
<Frozenlock> I must be doing something wrong... #<RangeError: Maximum call stack size exceeded>
											      [10:58]
<tomoj> is the js object cyclic?  [10:59]
<Frozenlock> cyclic? Calling itself?  [11:00]
<Frozenlock> I don't think so, I'm grabbing a simple paragraph.
<Frozenlock> (js->clj (first ($ :p)) :keywordize-keys true)  [11:01]
<tomoj> e.g. var foo = {}; foo.foo = foo;
<tomoj> that's a dom node?
<amalloy> dom nodes are mad cyclic, aren't they?
<Frozenlock> Ehh I will go with `dunno'
<amalloy> Frozenlock: they have parent and children references
<Frozenlock> Is there a way to strip this down?  [11:02]
<amalloy> dom nodes have dozens of properties, most of which i'm sure you don't care about. just
	  write a function that gets the things you care about and put them in a map  [11:04]
<Frozenlock> I was hoping to discover these properties by looking at the resulting map... oh well
											      [11:05]
<emezeske> Frozenlock: Use your browser's javascript debugger/inspector  [11:06]
<WuHoUnited> Does anybody know what the difference between the 2 jar files that leinegen produces
	     is. One says standalone, the other doesn't  [11:08]
<Frozenlock> Standalone has everything you need to run it alone :)  [11:09]
<Frozenlock> (clojure is included)
<WuHoUnited> so the difference is just that clojure core is included?
<WuHoUnited> so if the clojure.jar were on my classpath then i would just need the non-standalone
	     one?  [11:10]
<tomoj> right. and the standalone one (called an "uberjar") also contains all your dependencies
<WuHoUnited> thank you.  [11:11]
<WuHoUnited> i can go to sleep happy. i finally was able to make a class in clojure and call it from
	     java.  [11:21]
<clj_newb_2345> I feel I've become pretty good at rewriting Java classes in clojure. However, I'm
		clueless when it comes to rewriting javascript apps in clojurescript. This whole
		blahblah.prototype.blahblah thing throws me off.  [11:30]
<clj_newb_2345> Anyone here know of good tutorials / guidelines for dealing this task?
<mybuddymichael> clj_newb_2345: Are you looking for more information on how Javascript works?
											      [11:31]
<clj_newb_2345> I recently skimmed "javaScript the good parts"
<clj_newb_2345> though I don't do javascript; I think I understand it well enough to udnerstand what
		the code is doing
<clj_newb_2345> I guess I should first identify where exactly I'm stuck.
<wmealing_1> clj_newb_2345: good on you.. its good that you are working to learn your own
	     shortcomings  [11:44]
<wmealing_1> that is one of the steps to expertise
<clj_newb_2345> lol; unfortunately, as I look over this code, I can't help but think:  [11:45]
<Frozenlock> What does it mean when a function start with a hyphen?
<clj_newb_2345> it's only 4K Lines of Javascript. I bet I can write it in 1K of Clojure from scratch
		instead.
<clj_newb_2345> Frozenlock: that it's private, not included when used with (:use namespace)
<clj_newb_2345> wait wait, maybe that's defn-
<clj_newb_2345> Frozenlock : ignore what I just said. I was confused.  [11:46]
<wmealing_1> you mean like -main ?
<Frozenlock> I mean like a whole bunch in
	     https://github.com/clojure/clojurescript/blob/master/src/cljs/cljs/core.cljs
<clj_newb_2345> Frozenlock: is this in the context of genclass?
<tomoj> it just denotes the low-level protocol fn on top of which more sophisticated fns are
	implemented  [11:47]
<wmealing_1> i believe its a java interface
<wmealing_1> i think
<tomoj> it doesn't actually mean anything except by convention
<clj_newb_2345> it's a *.cljs file
<clj_newb_2345> how can it be java? :-)
<wmealing_1> that was my understanding, i never use them  [11:48]
* wmealing_1 ponders if its just convention
<tomoj> Frozenlock: e.g. consider (-conj [coll o]) vs (conj [coll x & xs])
<Frozenlock> Oh excellent, I can then put this in my `disregard' mental bin!
<clj_newb_2345> tomoj: I don't understand your example  [11:49]
<clj_newb_2345> what is the point of "-" here?
<wmealing_1> https://groups.google.com/forum/?fromgroups=#!topic/clojure/rzvMp44ZN0I
<tomoj> as I said it just denotes that -conj is the lower-level protocol fn on top of which conj is
	implemnted
<wmealing_1> ah so it is protocol, just not java
<wmealing_1> thanks tomoj  [11:50]
<clj_newb_2345> so if I repalced "-conj" with low_level_impl-conj everywhere, then semantics remains
		the same?
<Frozenlock> Thanks indeed.
<tomoj> yes, see the post wmealing_1 linked
<tomoj> in particular "The dash has no special significance as far as the compiler is concerned,
	it's just part of the name."  [11:51]
<clj_newb_2345> hmm, From Stuart Sierra -- authorative enough :-)
<synfinat_> any book recommendations for clojure newbie? I know C/Perl/Ruby and some JS/C++. read
	    the first chapter of the Joy of Clojure and I pretty sure I'm more confused then when I
	    started.  [12:08]
<casion> Clojure Programming or Programming Clojure  [12:09]
<synfinat_> cool, i'll take a look at those
<casion> if you're more used to ruby, I'd think clojure programming is probab ly better
<synfinat_> perfect
<casion> for me, being used to C, I've found more benefit in programming clojure
<casion> just my opinion, they're both very good books
<synfinat_> we'll i'm equally fulent in those first three, although seems clojure is closer to ruby
											      [12:10]
<gfredericks> clojurebot: stuartsierra is authoritative enough  [12:13]
<clojurebot> Ik begrijp
<emezeske> $findfn 1 1  [13:06]
<lazybot> [clojure.set/union clojure.set/intersection clojure.set/difference clojure.core/time
	  clojure.core/dosync clojure.core/long clojure.core/short clojure.core/+ clojure.core/*
	  clojure.core/with-loading-context clojure.core// clojure.core/doto
	  clojure.core/unchecked-... https://www.refheap.com/paste/4634
<emezeske> $findfn [1 1] [1 1]  [13:07]
<lazybot> [clojure.set/union clojure.set/intersection clojure.set/difference clojure.core/list*
	  clojure.core/time clojure.core/dosync clojure.core/lazy-cat clojure.core/sequence
	  clojure.core/rseq clojure.core/with-loading-context clojure.core/vec clojure.core/concat
	  cloju... https://www.refheap.com/paste/4635
<emezeske> $findfn inc 1 5
<lazybot> []
<emezeske> $findfn 1 inc 5
<lazybot> []
<emezeske> $findfn [inc 1 5] 5
<lazybot> [clojure.core/last clojure.core/peek]
<emezeske> Is there a clojure.core function that, given a function and a number, composes that
	   function recursively that many times?  [13:09]
<emezeske> E.g. (whatever inc 3) -> (inc (inc (inc %)))  [13:10]
<emezeske> Actually, it doesn't have to return a function, it would be fine if it just performed
	   that operation N times: (whatever inc 3 5) -> 8  [13:13]
<metellus> something with iterate, probably  [13:14]
<emezeske> Yeah, (nth (iterate inc 5) 3) does the trick.  That's the most concise I've come up with
											      [13:16]
<pandeiro> emezeske: repeatedly doesn't do it?  [13:18]
<emezeske> pandeiro: No, I want the initial arg to be threaded through, so the result of the first
	   function is fed to the second, etc  [13:19]
<pandeiro> emezeske: yah nvm, i was confusing with iterate anyway  [13:22]
<emezeske> I think maybe it's not a common thing to want to do
<amalloy> emezeske: it's common enough, and iterate is the right answer  [13:23]
<amalloy> if it galls you for some reason, you can do something silly like ##((apply comp (repeat 5
	  inc)) 1)  [13:24]
<lazybot> ⇒ 6
<emezeske> Heh, no gall for me.  I just wanted to make sure I wasn't missing a better way to do it.
<emezeske> I just had that inkling that maaaaybe c.c had composed that already :)  [13:25]
<technomancy> (apply comp (repeat inc 5)) is clearer imo  [13:29]
<technomancy> maybe it's just me  [13:30]
<amalloy> some of that's because of the awful argument order for nth  [13:32]
<amalloy> like (->> 1 (iterate inc) (nth 5)) would be pretty nice
<Sgeo> How often does jimduey come here?  [13:51]
<grisu>    [13:54]
<emezeske> Sgeo: Is that his irc nick?  [13:55]
<Sgeo> Yes, apparently.
<Sgeo> At least it was when he msg'd me a while ago
<emezeske> Sgeo: I guess I don't know how often he's here, but I can say that I can't remember the
	   last time I saw him talk  [13:56]
*** machuga (~machuga@cpe-184-56-66-203.neo.res.rr.com) is now known as machuga|away  [13:57]
*** machuga|away (~machuga@cpe-184-56-66-203.neo.res.rr.com) is now known as machuga
<amalloy> $seen jimduey  [13:58]
<lazybot> jimduey was last seen quitting 1 day and 6 hours ago.
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [14:22]
<Sgeo> I hate protocols.  [14:37]
<Sgeo> Suppose I make a library with protocols, and allow users to extend stuff via the usual way to
       do that with protocols.
<Sgeo> Then I discover use cases which require multimethods. I switch my code over, but that breaks
       user code that's expecting a protocol-based system.  [14:38]
<Raynes> You hate protocols because you don't know when to use them vs multimethods?  [14:39]
<Sgeo> Because multimethods can generally do the things protocols can do as far as I know (although
       a bit less statically-safe in some cases?), but they're not interoperable (again, as far as I
       know, I'm not that familiar with Clojure)  [14:40]
<Raynes> Protocols are like typeclasses.
<Sgeo> Haskell-style typeclasses, even with multiparamtypeclasses (which protocols are not like) are
       insufficient as far as I'm concerned  [14:45]
<amalloy> so...don't use them  [14:46]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [14:54]
<magopian> it seems it's not possible to use "apply" with "or", how would i go about that?  [15:00]
<amalloy> &(doc some)
<lazybot> ⇒ "([pred coll]); Returns the first logical true value of (pred x) for any x in coll, else
	  nil. One common idiom is to use a set as pred, for example this will return :fred if :fred
	  is in the sequence, otherwise nil: (some #{:fred} coll)"
<magopian> (i'm mapping a function to a seq, which returns a seq of booleans, and i need to "or"
	   them)
<magopian> ah :)
<magopian> sure, thanks amalloy :D
<magopian> (should have thought about that... :)
<Sgeo> &(apply (partial some identity) '(true true false))  [15:03]
<lazybot> clojure.lang.ArityException: Wrong number of args (4) passed to: core$some
<Sgeo> &((partial some identity) '(true true false))  [15:04]
<lazybot> ⇒ true
<Sgeo> I'm ... not entirely sure what I was thinking
<Sgeo> Oh, that some took a variadic amount of arguments as though it was or  [15:05]
<antares_> scalabl3: I figured it out. There were two issues where the Java client could use more
	   helpful error messages but it works now. 1.1.0-SNAPSHOT has a function to connect to
	   Couchbase with bucket/username/password.  [15:09]
<Cr8> I suppose I ought to dogfood that  [15:10]
<Cr8> oh  [15:22]
<Cr8> I can't spell.
<Cr8> antares_: cool, got my project using the couchbase connection now :)  [15:25]
*** imami|afk (~imami@173-13-139-237-sfba.hfc.comcastbusiness.net) is now known as banseljaj  [15:39]
<magopian> stack overflows happen when there's non tail recursive calls, is that right?  [16:07]
<magopian> i have found what i believe is a solution to the problem 89 of 4clojure, but it
	   stackoverflows, and i don't see how to fix that :/  [16:08]
<magopian> the problem: http://www.4clojure.com/problem/89
<magopian> my solution: https://friendpaste.com/7QiF9pQ1oe3J5KgTEKwDII
<Sgeo> Do note that Clojure isn't inherently tail-recursive, although there are ways around that
											      [16:10]
<Cr8> magopian: the stack will overflow even if your recursive calls are in tail position  [16:21]
<Cr8> you have to explicilty use (recur) to avoid stack blowup  [16:22]
<magopian> oh really? didn't know that
<magopian> nice to know ;)
<magopian> i can't see a way to use recurse with my actual solution, will have to think about
	   something new :/  [16:23]
<Cr8> (recur) is basically: switch in these values and GOTO the last recur point
<Cr8> which is either the top of the fn or the nearest loop
<Sgeo> Cr8, too bad it can't also be used to effectively GOTO a different function  [16:24]
<Cr8> that's the reason for recur
<Cr8> if you could jump to another function that way then you could just do actual tail call
      elimination  [16:25]
<michaelr`> good morning  [16:26]
<Cr8> magopian: perhaps you can wrap it up with trampoline  [16:27]
<Cr8> http://clojuredocs.org/clojure_core/clojure.core/trampoline
<magopian> Cr8: i doubt it, but i'll try ;)  [16:39]
<Raynes> Sgeo: That's what trampoline is for.  [16:41]
*** LeNsTR|off (~lenstr@unaffiliated/lenstr) is now known as LeNsTR  [17:19]
*** amalloy (~amalloy@li231-96.members.linode.com) is now known as amalloy_  [17:28]
*** _zach|away (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now known as _zach
											      [17:35]
*** LeNsTR (~lenstr@unaffiliated/lenstr) is now known as LeNsTR|off  [17:44]
*** _zach (~zach@ec2-50-112-37-23.us-west-2.compute.amazonaws.com) is now known as _zach|away
											      [17:48]
<Cr8> aw, can't use future on 4clojure =P  [17:59]
*** Lajla (~Lajla@ip51cc146b.speed.planet.nl) is now known as BoerJellema  [18:03]
<Sgeo> Cr8, o.O why not?  [18:29]
<Cr8> i don't knwow
<Cr8> doesn't matter, my solution was wrong anyway
<Sgeo> TryClj doesn't like it either
<Sgeo> java.lang.SecurityException: You tripped the alarm! future-call is bad!  [18:30]
<Sgeo> Clojure>
<Sgeo> I think if I made a ClojureNomic, I might want to make my own sandbox
<Sgeo> But, I'm fairly convinced that newLisp is a better language for a nomic than Clojure  [18:31]
<Sgeo> And it's now starting to sink in that "better for a codenomic" != "better general purpose
       language"
<Raynes> Cr8: futures are not allowed because they use threadpools which the sandbox cannot control
	 and thus can easily be used to produce threads that are not bound by the timeout.
<Sgeo> I assume you could build your own futures based on promises + Thread. and start.  [18:32]
<Sgeo> erm, .start
<Cr8> I would expect that Thread. would also be a no-no  [18:34]
<Sgeo> Cr8, works for me in TryClk
<Sgeo> erm, TryClj
<Cr8> hm. Does it keep track of the threads you start and forcibly stop them?  [18:35]
<Sgeo> No idea  [18:36]
<Sgeo> Crud, I don't think TryClj likes macros.  [18:37]
<Raynes> Cr8: Yes.
<Sgeo> No biggie, my-future can take a function of 0 arguments instead.
<Cr8> neat
<Cr8> I guess that's why agents are also bad  [18:39]
<Cr8> since they use a threadpool that the sandbox doesn't manage  [18:40]
<Sgeo> (defn my-future [f] (let [p (promise)] (.start (Thread. #(deliver p (f)))) p))
<Sgeo> Note that my-future is a function that takes in a function, rather than being a simple macro
<Sgeo> So (my-future #(+ 1 1)) instead of (future (+ 1 1))  [18:41]
<Cr8> whee, got it  [18:52]
* Sgeo vaguely wants to know if my-future helped  [18:53]
<Raynes> I doubt it.  [18:54]
<Raynes> You can't define macros on 4clojure, and he said his solution was fundamentally incorrect
	 anyways.
<Sgeo> my-future isn't a macro (specifically for that reason), but yeah, fundamentally incorrect
       means I'm probably not helpful  [18:55]
<Raynes> Oh, right.  [18:58]
<Raynes> I didn't mean to imply you were being unhelpful.
<Sgeo> I should make a macro that writes macros that merely deposit their body into an anonymous
       function and call some other function with that function  [19:01]
<Sgeo> Although I tried to write a macro-writing macro in CL once, it didn't work out too well
<Sgeo> Also, I'd need to consider the role of arguments
<Sgeo> I still need to try to set up a sane Clojure environment on my comp  [19:06]
<jml> how would I make a function that takes a filename and returns a lazy sequence of its lines and
      that then closes when the sequence is exhausted? Using with-open seems to close the file too
      soon.  [20:30]
<tomsw> I get a ClassNotFoundException for com.sun.jdi.VirtualMachine whenever I try running lein
	ritz
<tomsw> does anyone know how to fix this with lein2?  [20:31]
<tomsw> ah, realised that JAVA_HOME was pointing at the Oracle jdk but that /usr/bin/java was still
	pointing at the OpenJDK one.  [20:40]
<hyPiRion> Man, common lisp's format (cl-format) is like a language in itself.  [20:55]
<hyPiRion> ,(require 'clojure.pprint)
<clojurebot> nil
<hyPiRion> ,(clojure.pprint/cl-format nil "~[~:;~:(~:*~r~) ~A~:*~:p~]~0@*~[~:;~*~[~:; and
	   ~]~]~2@*~[~:;~0@*~[~*~:(~r~) ~A~:*~:p~:;~*~r ~A~:*~:p~]~]~0@*~[~:;~*~[~:;.~]~]" 2 "cow" 3
	   "pig")  [20:58]
<clojurebot> "Two cows and three pigs."
<hyPiRion> ,(clojure.pprint/cl-format nil "~[~:;~:(~:*~r~) ~A~:*~:p~]~0@*~[~:;~*~[~:; and
	   ~]~]~2@*~[~:;~0@*~[~*~:(~r~) ~A~:*~:p~:;~*~r ~A~:*~:p~]~]~0@*~[~:;~*~[~:;.~]~]" 0 "cow" 3
	   "pig")
<clojurebot> ""
<hyPiRion> ,(clojure.pprint/cl-format nil "~[~:;~:(~:*~r~) ~A~:*~:p~]~0@*~[~:;~*~[~:; and
	   ~]~]~2@*~[~:;~0@*~[~*~:(~r~) ~A~:*~:p~:;~*~r ~A~:*~:p~]~]~0@*~[~:;~*~[~:;.~]~]" 2 "cow" 0
	   "pig")
<clojurebot> "Two cows"
<Bronsa> wtf  [20:59]
<Sgeo> Oh cool, Clojure has a cl-format thing
<hyPiRion> ,(clojure.pprint/cl-format nil "~[~:;~:(~:*~r~) ~A~:*~:p~]~0@*~[~:;~*~[~:; and
	   ~]~]~2@*~[~:;~0@*~[~*~:(~r~) ~A~:*~:p~:;~*~r ~A~:*~:p~]~]~0@*~[~:;~*~[~:;.~]~]" 2 "cow" 1
	   "pig")  [21:00]
<clojurebot> "Two cows and one pig."
<Sgeo> That's one less thing from CL I'll miss
<hyPiRion> Sgeo: I was so happy when I found it.
<Sgeo> Things I'll still miss: No JVM, CLOS possibly (not sure), condition system absolutely.
											      [21:01]
<Sgeo> Not setf as such, but it would be nice to have a functional equivalent... instead of mutating
       something it could give a modified copy  [21:02]
<hyPiRion> Sgeo: I believe multimethods is more flexible than CLOS  [21:03]
<hyPiRion> Though I don't know if the efficiency is as nice.  [21:04]
<Sgeo> hyPiRion, I believe that they're fakable at least a little in CLOS
<hyPiRion> Yeah, probably.
<hyPiRion> It's completely doable, so.  [21:05]
<Sgeo> Have a regular function that transforms its arguments and then calls a generic function, with
       a result as the first argument and passing through rest of the args. Methods on that function
       use eql specializer on first argument,
<Sgeo> Anyways, there's an easier way to write domonad  [21:08]
<Sgeo> At least I believe so  [21:09]
<Sgeo> Oh, I'd also need to handle :when and :let
<xeqi> monad comprehension?  [21:19]
* Sgeo was thinking of writing the macro such that expands into a bind of a value and a lambda
  containing domonad  [21:21]
<Sgeo> I'm starting to see that it's fine as it is  [21:26]
<hyPiRion> heh
*** augustl (~augustl@236.79-160-15.customer.lyse.net) is now known as Guest65464  [21:27]
<Sgeo> I'm not entirely sure why this person uses symbol macros and the like when, afaict,
       dynamically-scoped variables would work fine.  [21:29]
<gfredericks> this person?  [21:30]
<Sgeo> https://github.com/clojure/algo.monads/blob/master/src/main/clojure/clojure/algo/monads.clj
											      [21:31]
<Sgeo> Konrad Hinsen
